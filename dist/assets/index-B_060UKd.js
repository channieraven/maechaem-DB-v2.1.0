(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Ty=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rw={exports:{}},Yd={},kw={exports:{}},vt={};var kC;function N$(){if(kC)return vt;kC=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function y(Y){return Y===null||typeof Y!="object"?null:(Y=p&&Y[p]||Y["@@iterator"],typeof Y=="function"?Y:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function x(Y,ne,xe){this.props=Y,this.context=ne,this.refs=S,this.updater=xe||b}x.prototype.isReactComponent={},x.prototype.setState=function(Y,ne){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ne,"setState")},x.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function M(){}M.prototype=x.prototype;function O(Y,ne,xe){this.props=Y,this.context=ne,this.refs=S,this.updater=xe||b}var D=O.prototype=new M;D.constructor=O,E(D,x.prototype),D.isPureReactComponent=!0;var $=Array.isArray,k=Object.prototype.hasOwnProperty,V={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function j(Y,ne,xe){var Me,Oe={},Re=null,st=null;if(ne!=null)for(Me in ne.ref!==void 0&&(st=ne.ref),ne.key!==void 0&&(Re=""+ne.key),ne)k.call(ne,Me)&&!C.hasOwnProperty(Me)&&(Oe[Me]=ne[Me]);var Ye=arguments.length-2;if(Ye===1)Oe.children=xe;else if(1<Ye){for(var Pe=Array(Ye),Ke=0;Ke<Ye;Ke++)Pe[Ke]=arguments[Ke+2];Oe.children=Pe}if(Y&&Y.defaultProps)for(Me in Ye=Y.defaultProps,Ye)Oe[Me]===void 0&&(Oe[Me]=Ye[Me]);return{$$typeof:t,type:Y,key:Re,ref:st,props:Oe,_owner:V.current}}function B(Y,ne){return{$$typeof:t,type:Y.type,key:ne,ref:Y.ref,props:Y.props,_owner:Y._owner}}function H(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function z(Y){var ne={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(xe){return ne[xe]})}var G=/\/+/g;function q(Y,ne){return typeof Y=="object"&&Y!==null&&Y.key!=null?z(""+Y.key):ne.toString(36)}function ae(Y,ne,xe,Me,Oe){var Re=typeof Y;(Re==="undefined"||Re==="boolean")&&(Y=null);var st=!1;if(Y===null)st=!0;else switch(Re){case"string":case"number":st=!0;break;case"object":switch(Y.$$typeof){case t:case e:st=!0}}if(st)return st=Y,Oe=Oe(st),Y=Me===""?"."+q(st,0):Me,$(Oe)?(xe="",Y!=null&&(xe=Y.replace(G,"$&/")+"/"),ae(Oe,ne,xe,"",function(Ke){return Ke})):Oe!=null&&(H(Oe)&&(Oe=B(Oe,xe+(!Oe.key||st&&st.key===Oe.key?"":(""+Oe.key).replace(G,"$&/")+"/")+Y)),ne.push(Oe)),1;if(st=0,Me=Me===""?".":Me+":",$(Y))for(var Ye=0;Ye<Y.length;Ye++){Re=Y[Ye];var Pe=Me+q(Re,Ye);st+=ae(Re,ne,xe,Pe,Oe)}else if(Pe=y(Y),typeof Pe=="function")for(Y=Pe.call(Y),Ye=0;!(Re=Y.next()).done;)Re=Re.value,Pe=Me+q(Re,Ye++),st+=ae(Re,ne,xe,Pe,Oe);else if(Re==="object")throw ne=String(Y),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return st}function he(Y,ne,xe){if(Y==null)return Y;var Me=[],Oe=0;return ae(Y,Me,"","",function(Re){return ne.call(xe,Re,Oe++)}),Me}function me(Y){if(Y._status===-1){var ne=Y._result;ne=ne(),ne.then(function(xe){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=xe)},function(xe){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=xe)}),Y._status===-1&&(Y._status=0,Y._result=ne)}if(Y._status===1)return Y._result.default;throw Y._result}var ye={current:null},ee={transition:null},ge={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:ee,ReactCurrentOwner:V};function ie(){throw Error("act(...) is not supported in production builds of React.")}return vt.Children={map:he,forEach:function(Y,ne,xe){he(Y,function(){ne.apply(this,arguments)},xe)},count:function(Y){var ne=0;return he(Y,function(){ne++}),ne},toArray:function(Y){return he(Y,function(ne){return ne})||[]},only:function(Y){if(!H(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},vt.Component=x,vt.Fragment=n,vt.Profiler=i,vt.PureComponent=O,vt.StrictMode=r,vt.Suspense=c,vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,vt.act=ie,vt.cloneElement=function(Y,ne,xe){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var Me=E({},Y.props),Oe=Y.key,Re=Y.ref,st=Y._owner;if(ne!=null){if(ne.ref!==void 0&&(Re=ne.ref,st=V.current),ne.key!==void 0&&(Oe=""+ne.key),Y.type&&Y.type.defaultProps)var Ye=Y.type.defaultProps;for(Pe in ne)k.call(ne,Pe)&&!C.hasOwnProperty(Pe)&&(Me[Pe]=ne[Pe]===void 0&&Ye!==void 0?Ye[Pe]:ne[Pe])}var Pe=arguments.length-2;if(Pe===1)Me.children=xe;else if(1<Pe){Ye=Array(Pe);for(var Ke=0;Ke<Pe;Ke++)Ye[Ke]=arguments[Ke+2];Me.children=Ye}return{$$typeof:t,type:Y.type,key:Oe,ref:Re,props:Me,_owner:st}},vt.createContext=function(Y){return Y={$$typeof:s,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:a,_context:Y},Y.Consumer=Y},vt.createElement=j,vt.createFactory=function(Y){var ne=j.bind(null,Y);return ne.type=Y,ne},vt.createRef=function(){return{current:null}},vt.forwardRef=function(Y){return{$$typeof:o,render:Y}},vt.isValidElement=H,vt.lazy=function(Y){return{$$typeof:m,_payload:{_status:-1,_result:Y},_init:me}},vt.memo=function(Y,ne){return{$$typeof:f,type:Y,compare:ne===void 0?null:ne}},vt.startTransition=function(Y){var ne=ee.transition;ee.transition={};try{Y()}finally{ee.transition=ne}},vt.unstable_act=ie,vt.useCallback=function(Y,ne){return ye.current.useCallback(Y,ne)},vt.useContext=function(Y){return ye.current.useContext(Y)},vt.useDebugValue=function(){},vt.useDeferredValue=function(Y){return ye.current.useDeferredValue(Y)},vt.useEffect=function(Y,ne){return ye.current.useEffect(Y,ne)},vt.useId=function(){return ye.current.useId()},vt.useImperativeHandle=function(Y,ne,xe){return ye.current.useImperativeHandle(Y,ne,xe)},vt.useInsertionEffect=function(Y,ne){return ye.current.useInsertionEffect(Y,ne)},vt.useLayoutEffect=function(Y,ne){return ye.current.useLayoutEffect(Y,ne)},vt.useMemo=function(Y,ne){return ye.current.useMemo(Y,ne)},vt.useReducer=function(Y,ne,xe){return ye.current.useReducer(Y,ne,xe)},vt.useRef=function(Y){return ye.current.useRef(Y)},vt.useState=function(Y){return ye.current.useState(Y)},vt.useSyncExternalStore=function(Y,ne,xe){return ye.current.useSyncExternalStore(Y,ne,xe)},vt.useTransition=function(){return ye.current.useTransition()},vt.version="18.3.1",vt}var NC;function y2(){return NC||(NC=1,kw.exports=N$()),kw.exports}var LC;function L$(){if(LC)return Yd;LC=1;var t=y2(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(o,c,f){var m,p={},y=null,b=null;f!==void 0&&(y=""+f),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(b=c.ref);for(m in c)r.call(c,m)&&!a.hasOwnProperty(m)&&(p[m]=c[m]);if(o&&o.defaultProps)for(m in c=o.defaultProps,c)p[m]===void 0&&(p[m]=c[m]);return{$$typeof:e,type:o,key:y,ref:b,props:p,_owner:i.current}}return Yd.Fragment=n,Yd.jsx=s,Yd.jsxs=s,Yd}var DC;function D$(){return DC||(DC=1,Rw.exports=L$()),Rw.exports}var N=D$(),Z=y2();const re=Zt(Z);var Ay={},Nw={exports:{}},mi={},Lw={exports:{}},Dw={};var jC;function j$(){return jC||(jC=1,(function(t){function e(ee,ge){var ie=ee.length;ee.push(ge);e:for(;0<ie;){var Y=ie-1>>>1,ne=ee[Y];if(0<i(ne,ge))ee[Y]=ge,ee[ie]=ne,ie=Y;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var ge=ee[0],ie=ee.pop();if(ie!==ge){ee[0]=ie;e:for(var Y=0,ne=ee.length,xe=ne>>>1;Y<xe;){var Me=2*(Y+1)-1,Oe=ee[Me],Re=Me+1,st=ee[Re];if(0>i(Oe,ie))Re<ne&&0>i(st,Oe)?(ee[Y]=st,ee[Re]=ie,Y=Re):(ee[Y]=Oe,ee[Me]=ie,Y=Me);else if(Re<ne&&0>i(st,ie))ee[Y]=st,ee[Re]=ie,Y=Re;else break e}}return ge}function i(ee,ge){var ie=ee.sortIndex-ge.sortIndex;return ie!==0?ie:ee.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var c=[],f=[],m=1,p=null,y=3,b=!1,E=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(ee){for(var ge=n(f);ge!==null;){if(ge.callback===null)r(f);else if(ge.startTime<=ee)r(f),ge.sortIndex=ge.expirationTime,e(c,ge);else break;ge=n(f)}}function $(ee){if(S=!1,D(ee),!E)if(n(c)!==null)E=!0,me(k);else{var ge=n(f);ge!==null&&ye($,ge.startTime-ee)}}function k(ee,ge){E=!1,S&&(S=!1,M(j),j=-1),b=!0;var ie=y;try{for(D(ge),p=n(c);p!==null&&(!(p.expirationTime>ge)||ee&&!z());){var Y=p.callback;if(typeof Y=="function"){p.callback=null,y=p.priorityLevel;var ne=Y(p.expirationTime<=ge);ge=t.unstable_now(),typeof ne=="function"?p.callback=ne:p===n(c)&&r(c),D(ge)}else r(c);p=n(c)}if(p!==null)var xe=!0;else{var Me=n(f);Me!==null&&ye($,Me.startTime-ge),xe=!1}return xe}finally{p=null,y=ie,b=!1}}var V=!1,C=null,j=-1,B=5,H=-1;function z(){return!(t.unstable_now()-H<B)}function G(){if(C!==null){var ee=t.unstable_now();H=ee;var ge=!0;try{ge=C(!0,ee)}finally{ge?q():(V=!1,C=null)}}else V=!1}var q;if(typeof O=="function")q=function(){O(G)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,he=ae.port2;ae.port1.onmessage=G,q=function(){he.postMessage(null)}}else q=function(){x(G,0)};function me(ee){C=ee,V||(V=!0,q())}function ye(ee,ge){j=x(function(){ee(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){E||b||(E=!0,me(k))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(ee){switch(y){case 1:case 2:case 3:var ge=3;break;default:ge=y}var ie=y;y=ge;try{return ee()}finally{y=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,ge){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ie=y;y=ee;try{return ge()}finally{y=ie}},t.unstable_scheduleCallback=function(ee,ge,ie){var Y=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Y+ie:Y):ie=Y,ee){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=ie+ne,ee={id:m++,callback:ge,priorityLevel:ee,startTime:ie,expirationTime:ne,sortIndex:-1},ie>Y?(ee.sortIndex=ie,e(f,ee),n(c)===null&&ee===n(f)&&(S?(M(j),j=-1):S=!0,ye($,ie-Y))):(ee.sortIndex=ne,e(c,ee),E||b||(E=!0,me(k))),ee},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(ee){var ge=y;return function(){var ie=y;y=ge;try{return ee.apply(this,arguments)}finally{y=ie}}}})(Dw)),Dw}var VC;function V$(){return VC||(VC=1,Lw.exports=j$()),Lw.exports}var FC;function F$(){if(FC)return mi;FC=1;var t=y2(),e=V$();function n(u){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+u,g=1;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(u,h){s(u,h),s(u+"Capture",h)}function s(u,h){for(i[u]=h,u=0;u<h.length;u++)r.add(h[u])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function y(u){return c.call(p,u)?!0:c.call(m,u)?!1:f.test(u)?p[u]=!0:(m[u]=!0,!1)}function b(u,h,g,w){if(g!==null&&g.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return w?!1:g!==null?!g.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function E(u,h,g,w){if(h===null||typeof h>"u"||b(u,h,g,w))return!0;if(w)return!1;if(g!==null)switch(g.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function S(u,h,g,w,T,A,U){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=w,this.attributeNamespace=T,this.mustUseProperty=g,this.propertyName=u,this.type=h,this.sanitizeURL=A,this.removeEmptyString=U}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){x[u]=new S(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var h=u[0];x[h]=new S(h,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){x[u]=new S(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){x[u]=new S(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){x[u]=new S(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){x[u]=new S(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){x[u]=new S(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){x[u]=new S(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){x[u]=new S(u,5,!1,u.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function O(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var h=u.replace(M,O);x[h]=new S(h,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var h=u.replace(M,O);x[h]=new S(h,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var h=u.replace(M,O);x[h]=new S(h,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){x[u]=new S(u,1,!1,u.toLowerCase(),null,!1,!1)}),x.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){x[u]=new S(u,1,!1,u.toLowerCase(),null,!0,!0)});function D(u,h,g,w){var T=x.hasOwnProperty(h)?x[h]:null;(T!==null?T.type!==0:w||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(E(h,g,T,w)&&(g=null),w||T===null?y(h)&&(g===null?u.removeAttribute(h):u.setAttribute(h,""+g)):T.mustUseProperty?u[T.propertyName]=g===null?T.type===3?!1:"":g:(h=T.attributeName,w=T.attributeNamespace,g===null?u.removeAttribute(h):(T=T.type,g=T===3||T===4&&g===!0?"":""+g,w?u.setAttributeNS(w,h,g):u.setAttribute(h,g))))}var $=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),V=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),z=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ge(u){return u===null||typeof u!="object"?null:(u=ee&&u[ee]||u["@@iterator"],typeof u=="function"?u:null)}var ie=Object.assign,Y;function ne(u){if(Y===void 0)try{throw Error()}catch(g){var h=g.stack.trim().match(/\n( *(at )?)/);Y=h&&h[1]||""}return`
`+Y+u}var xe=!1;function Me(u,h){if(!u||xe)return"";xe=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(pe){var w=pe}Reflect.construct(u,[],h)}else{try{h.call()}catch(pe){w=pe}u.call(h.prototype)}else{try{throw Error()}catch(pe){w=pe}u()}}catch(pe){if(pe&&w&&typeof pe.stack=="string"){for(var T=pe.stack.split(`
`),A=w.stack.split(`
`),U=T.length-1,X=A.length-1;1<=U&&0<=X&&T[U]!==A[X];)X--;for(;1<=U&&0<=X;U--,X--)if(T[U]!==A[X]){if(U!==1||X!==1)do if(U--,X--,0>X||T[U]!==A[X]){var J=`
`+T[U].replace(" at new "," at ");return u.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",u.displayName)),J}while(1<=U&&0<=X);break}}}finally{xe=!1,Error.prepareStackTrace=g}return(u=u?u.displayName||u.name:"")?ne(u):""}function Oe(u){switch(u.tag){case 5:return ne(u.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return u=Me(u.type,!1),u;case 11:return u=Me(u.type.render,!1),u;case 1:return u=Me(u.type,!0),u;default:return""}}function Re(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case C:return"Fragment";case V:return"Portal";case B:return"Profiler";case j:return"StrictMode";case q:return"Suspense";case ae:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case z:return(u.displayName||"Context")+".Consumer";case H:return(u._context.displayName||"Context")+".Provider";case G:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case he:return h=u.displayName||null,h!==null?h:Re(u.type)||"Memo";case me:h=u._payload,u=u._init;try{return Re(u(h))}catch{}}return null}function st(u){var h=u.type;switch(u.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=h.render,u=u.displayName||u.name||"",h.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(h);case 8:return h===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function Ye(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function Pe(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Ke(u){var h=Pe(u)?"checked":"value",g=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),w=""+u[h];if(!u.hasOwnProperty(h)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var T=g.get,A=g.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return T.call(this)},set:function(U){w=""+U,A.call(this,U)}}),Object.defineProperty(u,h,{enumerable:g.enumerable}),{getValue:function(){return w},setValue:function(U){w=""+U},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function rt(u){u._valueTracker||(u._valueTracker=Ke(u))}function be(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var g=h.getValue(),w="";return u&&(w=Pe(u)?u.checked?"true":"false":u.value),u=w,u!==g?(h.setValue(u),!0):!1}function xt(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function ft(u,h){var g=h.checked;return ie({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??u._wrapperState.initialChecked})}function Xt(u,h){var g=h.defaultValue==null?"":h.defaultValue,w=h.checked!=null?h.checked:h.defaultChecked;g=Ye(h.value!=null?h.value:g),u._wrapperState={initialChecked:w,initialValue:g,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function zt(u,h){h=h.checked,h!=null&&D(u,"checked",h,!1)}function Jt(u,h){zt(u,h);var g=Ye(h.value),w=h.type;if(g!=null)w==="number"?(g===0&&u.value===""||u.value!=g)&&(u.value=""+g):u.value!==""+g&&(u.value=""+g);else if(w==="submit"||w==="reset"){u.removeAttribute("value");return}h.hasOwnProperty("value")?Ut(u,h.type,g):h.hasOwnProperty("defaultValue")&&Ut(u,h.type,Ye(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(u.defaultChecked=!!h.defaultChecked)}function Un(u,h,g){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var w=h.type;if(!(w!=="submit"&&w!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+u._wrapperState.initialValue,g||h===u.value||(u.value=h),u.defaultValue=h}g=u.name,g!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,g!==""&&(u.name=g)}function Ut(u,h,g){(h!=="number"||xt(u.ownerDocument)!==u)&&(g==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+g&&(u.defaultValue=""+g))}var qt=Array.isArray;function gn(u,h,g,w){if(u=u.options,h){h={};for(var T=0;T<g.length;T++)h["$"+g[T]]=!0;for(g=0;g<u.length;g++)T=h.hasOwnProperty("$"+u[g].value),u[g].selected!==T&&(u[g].selected=T),T&&w&&(u[g].defaultSelected=!0)}else{for(g=""+Ye(g),h=null,T=0;T<u.length;T++){if(u[T].value===g){u[T].selected=!0,w&&(u[T].defaultSelected=!0);return}h!==null||u[T].disabled||(h=u[T])}h!==null&&(h.selected=!0)}}function _r(u,h){if(h.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},h,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function Gi(u,h){var g=h.value;if(g==null){if(g=h.children,h=h.defaultValue,g!=null){if(h!=null)throw Error(n(92));if(qt(g)){if(1<g.length)throw Error(n(93));g=g[0]}h=g}h==null&&(h=""),g=h}u._wrapperState={initialValue:Ye(g)}}function Zs(u,h){var g=Ye(h.value),w=Ye(h.defaultValue);g!=null&&(g=""+g,g!==u.value&&(u.value=g),h.defaultValue==null&&u.defaultValue!==g&&(u.defaultValue=g)),w!=null&&(u.defaultValue=""+w)}function Si(u){var h=u.textContent;h===u._wrapperState.initialValue&&h!==""&&h!==null&&(u.value=h)}function Xs(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ys(u,h){return u==null||u==="http://www.w3.org/1999/xhtml"?Xs(h):u==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var Da,sh=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,g,w,T){MSApp.execUnsafeLocalFunction(function(){return u(h,g,w,T)})}:u})(function(u,h){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=h;else{for(Da=Da||document.createElement("div"),Da.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=Da.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;h.firstChild;)u.appendChild(h.firstChild)}});function cs(u,h){if(h){var g=u.firstChild;if(g&&g===u.lastChild&&g.nodeType===3){g.nodeValue=h;return}}u.textContent=h}var ja={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oh=["Webkit","ms","Moz","O"];Object.keys(ja).forEach(function(u){oh.forEach(function(h){h=h+u.charAt(0).toUpperCase()+u.substring(1),ja[h]=ja[u]})});function Va(u,h,g){return h==null||typeof h=="boolean"||h===""?"":g||typeof h!="number"||h===0||ja.hasOwnProperty(u)&&ja[u]?(""+h).trim():h+"px"}function hs(u,h){u=u.style;for(var g in h)if(h.hasOwnProperty(g)){var w=g.indexOf("--")===0,T=Va(g,h[g],w);g==="float"&&(g="cssFloat"),w?u.setProperty(g,T):u[g]=T}}var su=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pi(u,h){if(h){if(su[u]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(n(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(n(61))}if(h.style!=null&&typeof h.style!="object")throw Error(n(62))}}function Wi(u,h){if(u.indexOf("-")===-1)return typeof h.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fs=null;function ou(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Hi=null,Ki=null,rn=null;function Rl(u){if(u=wo(u)){if(typeof Hi!="function")throw Error(n(280));var h=u.stateNode;h&&(h=Sh(h),Hi(u.stateNode,u.type,h))}}function ds(u){Ki?rn?rn.push(u):rn=[u]:Ki=u}function ps(){if(Ki){var u=Ki,h=rn;if(rn=Ki=null,Rl(u),h)for(u=0;u<h.length;u++)Rl(h[u])}}function uh(u,h){return u(h)}function lh(){}var Zi=!1;function uu(u,h,g){if(Zi)return u(h,g);Zi=!0;try{return uh(u,h,g)}finally{Zi=!1,(Ki!==null||rn!==null)&&(lh(),ps())}}function Qs(u,h){var g=u.stateNode;if(g===null)return null;var w=Sh(g);if(w===null)return null;g=w[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(u=u.type,w=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!w;break e;default:u=!1}if(u)return null;if(g&&typeof g!="function")throw Error(n(231,h,typeof g));return g}var ms=!1;if(o)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){ms=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{ms=!1}function ch(u,h,g,w,T,A,U,X,J){var pe=Array.prototype.slice.call(arguments,3);try{h.apply(g,pe)}catch(Te){this.onError(Te)}}var Nn=!1,ze=null,Js=!1,Fr=null,kl={onError:function(u){Nn=!0,ze=u}};function Nl(u,h,g,w,T,A,U,X,J){Nn=!1,ze=null,ch.apply(kl,arguments)}function eo(u,h,g,w,T,A,U,X,J){if(Nl.apply(this,arguments),Nn){if(Nn){var pe=ze;Nn=!1,ze=null}else throw Error(n(198));Js||(Js=!0,Fr=pe)}}function ii(u){var h=u,g=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(g=h.return),u=h.return;while(u)}return h.tag===3?g:null}function Xi(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function Ll(u){if(ii(u)!==u)throw Error(n(188))}function hh(u){var h=u.alternate;if(!h){if(h=ii(u),h===null)throw Error(n(188));return h!==u?null:u}for(var g=u,w=h;;){var T=g.return;if(T===null)break;var A=T.alternate;if(A===null){if(w=T.return,w!==null){g=w;continue}break}if(T.child===A.child){for(A=T.child;A;){if(A===g)return Ll(T),u;if(A===w)return Ll(T),h;A=A.sibling}throw Error(n(188))}if(g.return!==w.return)g=T,w=A;else{for(var U=!1,X=T.child;X;){if(X===g){U=!0,g=T,w=A;break}if(X===w){U=!0,w=T,g=A;break}X=X.sibling}if(!U){for(X=A.child;X;){if(X===g){U=!0,g=A,w=T;break}if(X===w){U=!0,w=A,g=T;break}X=X.sibling}if(!U)throw Error(n(189))}}if(g.alternate!==w)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?u:h}function fh(u){return u=hh(u),u!==null?to(u):null}function to(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var h=to(u);if(h!==null)return h;u=u.sibling}return null}var Dl=e.unstable_scheduleCallback,no=e.unstable_cancelCallback,ro=e.unstable_shouldYield,ai=e.unstable_requestPaint,Yt=e.unstable_now,Sd=e.unstable_getCurrentPriorityLevel,lu=e.unstable_ImmediatePriority,jl=e.unstable_UserBlockingPriority,io=e.unstable_NormalPriority,ao=e.unstable_LowPriority,Yi=e.unstable_IdlePriority,ys=null,wr=null;function vs(u){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(ys,u,void 0,(u.current.flags&128)===128)}catch{}}var lt=Math.clz32?Math.clz32:si,Pt=Math.log,ur=Math.LN2;function si(u){return u>>>=0,u===0?32:31-(Pt(u)/ur|0)|0}var lr=64,Qi=4194304;function Be(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function kt(u,h){var g=u.pendingLanes;if(g===0)return 0;var w=0,T=u.suspendedLanes,A=u.pingedLanes,U=g&268435455;if(U!==0){var X=U&~T;X!==0?w=Be(X):(A&=U,A!==0&&(w=Be(A)))}else U=g&~T,U!==0?w=Be(U):A!==0&&(w=Be(A));if(w===0)return 0;if(h!==0&&h!==w&&(h&T)===0&&(T=w&-w,A=h&-h,T>=A||T===16&&(A&4194240)!==0))return h;if((w&4)!==0&&(w|=g&16),h=u.entangledLanes,h!==0)for(u=u.entanglements,h&=w;0<h;)g=31-lt(h),T=1<<g,w|=u[g],h&=~T;return w}function Fa(u,h){switch(u){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ji(u,h){for(var g=u.suspendedLanes,w=u.pingedLanes,T=u.expirationTimes,A=u.pendingLanes;0<A;){var U=31-lt(A),X=1<<U,J=T[U];J===-1?((X&g)===0||(X&w)!==0)&&(T[U]=Fa(X,h)):J<=h&&(u.expiredLanes|=X),A&=~X}}function er(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Vl(){var u=lr;return lr<<=1,(lr&4194240)===0&&(lr=64),u}function _s(u){for(var h=[],g=0;31>g;g++)h.push(u);return h}function Br(u,h,g){u.pendingLanes|=h,h!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,h=31-lt(h),u[h]=g}function un(u,h){var g=u.pendingLanes&~h;u.pendingLanes=h,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=h,u.mutableReadLanes&=h,u.entangledLanes&=h,h=u.entanglements;var w=u.eventTimes;for(u=u.expirationTimes;0<g;){var T=31-lt(g),A=1<<T;h[T]=0,w[T]=-1,u[T]=-1,g&=~A}}function Ti(u,h){var g=u.entangledLanes|=h;for(u=u.entanglements;g;){var w=31-lt(g),T=1<<w;T&h|u[w]&h&&(u[w]|=h),g&=~T}}var pt=0;function br(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var so,ea,oo,uo,ws,oi=!1,bs=[],$r=null,Ai=null,Mn=null,lo=new Map,et=new Map,ln=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ba(u,h){switch(u){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Ai=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":lo.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":et.delete(h.pointerId)}}function zr(u,h,g,w,T,A){return u===null||u.nativeEvent!==A?(u={blockedOn:h,domEventName:g,eventSystemFlags:w,nativeEvent:A,targetContainers:[T]},h!==null&&(h=wo(h),h!==null&&ea(h)),u):(u.eventSystemFlags|=w,h=u.targetContainers,T!==null&&h.indexOf(T)===-1&&h.push(T),u)}function cu(u,h,g,w,T){switch(h){case"focusin":return $r=zr($r,u,h,g,w,T),!0;case"dragenter":return Ai=zr(Ai,u,h,g,w,T),!0;case"mouseover":return Mn=zr(Mn,u,h,g,w,T),!0;case"pointerover":var A=T.pointerId;return lo.set(A,zr(lo.get(A)||null,u,h,g,w,T)),!0;case"gotpointercapture":return A=T.pointerId,et.set(A,zr(et.get(A)||null,u,h,g,w,T)),!0}return!1}function xs(u){var h=_o(u.target);if(h!==null){var g=ii(h);if(g!==null){if(h=g.tag,h===13){if(h=Xi(g),h!==null){u.blockedOn=h,ws(u.priority,function(){oo(g)});return}}else if(h===3&&g.stateNode.current.memoizedState.isDehydrated){u.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Et(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var g=fo(u.domEventName,u.eventSystemFlags,h[0],u.nativeEvent);if(g===null){g=u.nativeEvent;var w=new g.constructor(g.type,g);fs=w,g.target.dispatchEvent(w),fs=null}else return h=wo(g),h!==null&&ea(h),u.blockedOn=g,!1;h.shift()}return!0}function hu(u,h,g){Et(u)&&g.delete(h)}function co(){oi=!1,$r!==null&&Et($r)&&($r=null),Ai!==null&&Et(Ai)&&(Ai=null),Mn!==null&&Et(Mn)&&(Mn=null),lo.forEach(hu),et.forEach(hu)}function en(u,h){u.blockedOn===h&&(u.blockedOn=null,oi||(oi=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,co)))}function xr(u){function h(T){return en(T,u)}if(0<bs.length){en(bs[0],u);for(var g=1;g<bs.length;g++){var w=bs[g];w.blockedOn===u&&(w.blockedOn=null)}}for($r!==null&&en($r,u),Ai!==null&&en(Ai,u),Mn!==null&&en(Mn,u),lo.forEach(h),et.forEach(h),g=0;g<ln.length;g++)w=ln[g],w.blockedOn===u&&(w.blockedOn=null);for(;0<ln.length&&(g=ln[0],g.blockedOn===null);)xs(g),g.blockedOn===null&&ln.shift()}var ta=$.ReactCurrentBatchConfig,na=!0;function ra(u,h,g,w){var T=pt,A=ta.transition;ta.transition=null;try{pt=1,ho(u,h,g,w)}finally{pt=T,ta.transition=A}}function Fl(u,h,g,w){var T=pt,A=ta.transition;ta.transition=null;try{pt=4,ho(u,h,g,w)}finally{pt=T,ta.transition=A}}function ho(u,h,g,w){if(na){var T=fo(u,h,g,w);if(T===null)l(u,h,w,ia,g),Ba(u,w);else if(cu(T,u,h,g,w))w.stopPropagation();else if(Ba(u,w),h&4&&-1<Nt.indexOf(u)){for(;T!==null;){var A=wo(T);if(A!==null&&so(A),A=fo(u,h,g,w),A===null&&l(u,h,w,ia,g),A===T)break;T=A}T!==null&&w.stopPropagation()}else l(u,h,w,null,g)}}var ia=null;function fo(u,h,g,w){if(ia=null,u=ou(w),u=_o(u),u!==null)if(h=ii(u),h===null)u=null;else if(g=h.tag,g===13){if(u=Xi(h),u!==null)return u;u=null}else if(g===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null);return ia=u,null}function mt(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sd()){case lu:return 1;case jl:return 4;case io:case ao:return 16;case Yi:return 536870912;default:return 16}default:return 16}}var Ur=null,tr=null,qr=null;function Bl(){if(qr)return qr;var u,h=tr,g=h.length,w,T="value"in Ur?Ur.value:Ur.textContent,A=T.length;for(u=0;u<g&&h[u]===T[u];u++);var U=g-u;for(w=1;w<=U&&h[g-w]===T[A-w];w++);return qr=T.slice(u,1<w?1-w:void 0)}function po(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function ui(){return!0}function $l(){return!1}function qn(u){function h(g,w,T,A,U){this._reactName=g,this._targetInst=T,this.type=w,this.nativeEvent=A,this.target=U,this.currentTarget=null;for(var X in u)u.hasOwnProperty(X)&&(g=u[X],this[X]=g?g(A):A[X]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?ui:$l,this.isPropagationStopped=$l,this}return ie(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),h}var aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mo=qn(aa),sa=ie({},aa,{view:0,detail:0}),fu=qn(sa),cr,du,Er,Sr=ie({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:it,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Er&&(Er&&u.type==="mousemove"?(cr=u.screenX-Er.screenX,du=u.screenY-Er.screenY):du=cr=0,Er=u),cr)},movementY:function(u){return"movementY"in u?u.movementY:du}}),pu=qn(Sr),zl=ie({},Sr,{dataTransfer:0}),mu=qn(zl),gu=ie({},sa,{relatedTarget:0}),Ln=qn(gu),Ul=ie({},aa,{animationName:0,elapsedTime:0,pseudoElement:0}),dh=qn(Ul),Es=ie({},aa,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),v=qn(Es),I=ie({},aa,{data:0}),F=qn(I),K={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},se={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ke(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=fe[u])?!!h[u]:!1}function it(){return ke}var Tt=ie({},sa,{key:function(u){if(u.key){var h=K[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=po(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?se[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:it,charCode:function(u){return u.type==="keypress"?po(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?po(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Ct=qn(Tt),yn=ie({},Sr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gr=qn(yn),Ii=ie({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:it}),li=qn(Ii),oa=ie({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),yu=qn(oa),vu=ie({},Sr,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),x1=qn(vu),Mi=[9,13,27,32],Ss=o&&"CompositionEvent"in window,ql=null;o&&"documentMode"in document&&(ql=document.documentMode);var $a=o&&"TextEvent"in window&&!ql,Mg=o&&(!Ss||ql&&8<ql&&11>=ql),go=" ",Cg=!1;function _u(u,h){switch(u){case"keyup":return Mi.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pd(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var za=!1;function E1(u,h){switch(u){case"compositionend":return Pd(h);case"keypress":return h.which!==32?null:(Cg=!0,go);case"textInput":return u=h.data,u===go&&Cg?null:u;default:return null}}function Ps(u,h){if(za)return u==="compositionend"||!Ss&&_u(u,h)?(u=Bl(),qr=tr=Ur=null,za=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Mg&&h.locale!=="ko"?null:h.data;default:return null}}var ph={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Og(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!ph[u.type]:h==="textarea"}function mh(u,h,g,w){ds(w),h=_(h,"onChange"),0<h.length&&(g=new mo("onChange","change",null,g,w),u.push({event:g,listeners:h}))}var Gl=null,Wr=null;function S1(u){Nd(u,0)}function Ua(u){var h=bo(u);if(be(h))return u}function P1(u,h){if(u==="change")return h}var ua=!1;if(o){var wu;if(o){var gh="oninput"in document;if(!gh){var yh=document.createElement("div");yh.setAttribute("oninput","return;"),gh=typeof yh.oninput=="function"}wu=gh}else wu=!1;ua=wu&&(!document.documentMode||9<document.documentMode)}function Wl(){Gl&&(Gl.detachEvent("onpropertychange",vh),Wr=Gl=null)}function vh(u){if(u.propertyName==="value"&&Ua(Wr)){var h=[];mh(h,Wr,u,ou(u)),uu(S1,h)}}function _h(u,h,g){u==="focusin"?(Wl(),Gl=h,Wr=g,Gl.attachEvent("onpropertychange",vh)):u==="focusout"&&Wl()}function bu(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Ua(Wr)}function wh(u,h){if(u==="click")return Ua(h)}function Td(u,h){if(u==="input"||u==="change")return Ua(h)}function Rg(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var Ci=typeof Object.is=="function"?Object.is:Rg;function Ts(u,h){if(Ci(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var g=Object.keys(u),w=Object.keys(h);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var T=g[w];if(!c.call(h,T)||!Ci(u[T],h[T]))return!1}return!0}function kg(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function Ad(u,h){var g=kg(u);u=0;for(var w;g;){if(g.nodeType===3){if(w=u+g.textContent.length,u<=h&&w>=h)return{node:g,offset:h-u};u=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=kg(g)}}function Ng(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?Ng(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function Id(){for(var u=window,h=xt();h instanceof u.HTMLIFrameElement;){try{var g=typeof h.contentWindow.location.href=="string"}catch{g=!1}if(g)u=h.contentWindow;else break;h=xt(u.document)}return h}function Md(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}function la(u){var h=Id(),g=u.focusedElem,w=u.selectionRange;if(h!==g&&g&&g.ownerDocument&&Ng(g.ownerDocument.documentElement,g)){if(w!==null&&Md(g)){if(h=w.start,u=w.end,u===void 0&&(u=h),"selectionStart"in g)g.selectionStart=h,g.selectionEnd=Math.min(u,g.value.length);else if(u=(h=g.ownerDocument||document)&&h.defaultView||window,u.getSelection){u=u.getSelection();var T=g.textContent.length,A=Math.min(w.start,T);w=w.end===void 0?A:Math.min(w.end,T),!u.extend&&A>w&&(T=w,w=A,A=T),T=Ad(g,A);var U=Ad(g,w);T&&U&&(u.rangeCount!==1||u.anchorNode!==T.node||u.anchorOffset!==T.offset||u.focusNode!==U.node||u.focusOffset!==U.offset)&&(h=h.createRange(),h.setStart(T.node,T.offset),u.removeAllRanges(),A>w?(u.addRange(h),u.extend(U.node,U.offset)):(h.setEnd(U.node,U.offset),u.addRange(h)))}}for(h=[],u=g;u=u.parentNode;)u.nodeType===1&&h.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<h.length;g++)u=h[g],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var bh=o&&"documentMode"in document&&11>=document.documentMode,xu=null,Eu=null,Hl=null,xh=!1;function Lg(u,h,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;xh||xu==null||xu!==xt(w)||(w=xu,"selectionStart"in w&&Md(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Hl&&Ts(Hl,w)||(Hl=w,w=_(Eu,"onSelect"),0<w.length&&(h=new mo("onSelect","select",null,h,g),u.push({event:h,listeners:w}),h.target=xu)))}function As(u,h){var g={};return g[u.toLowerCase()]=h.toLowerCase(),g["Webkit"+u]="webkit"+h,g["Moz"+u]="moz"+h,g}var Su={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionend:As("Transition","TransitionEnd")},Is={},Cd={};o&&(Cd=document.createElement("div").style,"AnimationEvent"in window||(delete Su.animationend.animation,delete Su.animationiteration.animation,delete Su.animationstart.animation),"TransitionEvent"in window||delete Su.transitionend.transition);function Kl(u){if(Is[u])return Is[u];if(!Su[u])return u;var h=Su[u],g;for(g in h)if(h.hasOwnProperty(g)&&g in Cd)return Is[u]=h[g];return u}var Dg=Kl("animationend"),ca=Kl("animationiteration"),Od=Kl("animationstart"),Rd=Kl("transitionend"),Pu=new Map,jg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oi(u,h){Pu.set(u,h),a(h,[u])}for(var yo=0;yo<jg.length;yo++){var Eh=jg[yo],Vg=Eh.toLowerCase(),T1=Eh[0].toUpperCase()+Eh.slice(1);Oi(Vg,"on"+T1)}Oi(Dg,"onAnimationEnd"),Oi(ca,"onAnimationIteration"),Oi(Od,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(Rd,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tu));function kd(u,h,g){var w=u.type||"unknown-event";u.currentTarget=g,eo(w,h,void 0,u),u.currentTarget=null}function Nd(u,h){h=(h&4)!==0;for(var g=0;g<u.length;g++){var w=u[g],T=w.event;w=w.listeners;e:{var A=void 0;if(h)for(var U=w.length-1;0<=U;U--){var X=w[U],J=X.instance,pe=X.currentTarget;if(X=X.listener,J!==A&&T.isPropagationStopped())break e;kd(T,X,pe),A=J}else for(U=0;U<w.length;U++){if(X=w[U],J=X.instance,pe=X.currentTarget,X=X.listener,J!==A&&T.isPropagationStopped())break e;kd(T,X,pe),A=J}}}if(Js)throw u=Fr,Js=!1,Fr=null,u}function Ht(u,h){var g=h[Cu];g===void 0&&(g=h[Cu]=new Set);var w=u+"__bubble";g.has(w)||(Bg(h,u,2,!1),g.add(w))}function Ld(u,h,g){var w=0;h&&(w|=4),Bg(g,u,w,h)}var Zl="_reactListening"+Math.random().toString(36).slice(2);function Au(u){if(!u[Zl]){u[Zl]=!0,r.forEach(function(g){g!=="selectionchange"&&(Fg.has(g)||Ld(g,!1,u),Ld(g,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[Zl]||(h[Zl]=!0,Ld("selectionchange",!1,h))}}function Bg(u,h,g,w){switch(mt(h)){case 1:var T=ra;break;case 4:T=Fl;break;default:T=ho}g=T.bind(null,h,g,u),T=void 0,!ms||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(T=!0),w?T!==void 0?u.addEventListener(h,g,{capture:!0,passive:T}):u.addEventListener(h,g,!0):T!==void 0?u.addEventListener(h,g,{passive:T}):u.addEventListener(h,g,!1)}function l(u,h,g,w,T){var A=w;if((h&1)===0&&(h&2)===0&&w!==null)e:for(;;){if(w===null)return;var U=w.tag;if(U===3||U===4){var X=w.stateNode.containerInfo;if(X===T||X.nodeType===8&&X.parentNode===T)break;if(U===4)for(U=w.return;U!==null;){var J=U.tag;if((J===3||J===4)&&(J=U.stateNode.containerInfo,J===T||J.nodeType===8&&J.parentNode===T))return;U=U.return}for(;X!==null;){if(U=_o(X),U===null)return;if(J=U.tag,J===5||J===6){w=A=U;continue e}X=X.parentNode}}w=w.return}uu(function(){var pe=A,Te=ou(g),Ae=[];e:{var Ee=Pu.get(u);if(Ee!==void 0){var $e=mo,Ge=u;switch(u){case"keypress":if(po(g)===0)break e;case"keydown":case"keyup":$e=Ct;break;case"focusin":Ge="focus",$e=Ln;break;case"focusout":Ge="blur",$e=Ln;break;case"beforeblur":case"afterblur":$e=Ln;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$e=pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$e=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$e=li;break;case Dg:case ca:case Od:$e=dh;break;case Rd:$e=yu;break;case"scroll":$e=fu;break;case"wheel":$e=x1;break;case"copy":case"cut":case"paste":$e=v;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$e=Gr}var He=(h&4)!==0,Cn=!He&&u==="scroll",le=He?Ee!==null?Ee+"Capture":null:Ee;He=[];for(var te=pe,ce;te!==null;){ce=te;var Ce=ce.stateNode;if(ce.tag===5&&Ce!==null&&(ce=Ce,le!==null&&(Ce=Qs(te,le),Ce!=null&&He.push(d(te,Ce,ce)))),Cn)break;te=te.return}0<He.length&&(Ee=new $e(Ee,Ge,null,g,Te),Ae.push({event:Ee,listeners:He}))}}if((h&7)===0){e:{if(Ee=u==="mouseover"||u==="pointerover",$e=u==="mouseout"||u==="pointerout",Ee&&g!==fs&&(Ge=g.relatedTarget||g.fromElement)&&(_o(Ge)||Ge[jt]))break e;if(($e||Ee)&&(Ee=Te.window===Te?Te:(Ee=Te.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,$e?(Ge=g.relatedTarget||g.toElement,$e=pe,Ge=Ge?_o(Ge):null,Ge!==null&&(Cn=ii(Ge),Ge!==Cn||Ge.tag!==5&&Ge.tag!==6)&&(Ge=null)):($e=null,Ge=pe),$e!==Ge)){if(He=pu,Ce="onMouseLeave",le="onMouseEnter",te="mouse",(u==="pointerout"||u==="pointerover")&&(He=Gr,Ce="onPointerLeave",le="onPointerEnter",te="pointer"),Cn=$e==null?Ee:bo($e),ce=Ge==null?Ee:bo(Ge),Ee=new He(Ce,te+"leave",$e,g,Te),Ee.target=Cn,Ee.relatedTarget=ce,Ce=null,_o(Te)===pe&&(He=new He(le,te+"enter",Ge,g,Te),He.target=ce,He.relatedTarget=Cn,Ce=He),Cn=Ce,$e&&Ge)t:{for(He=$e,le=Ge,te=0,ce=He;ce;ce=P(ce))te++;for(ce=0,Ce=le;Ce;Ce=P(Ce))ce++;for(;0<te-ce;)He=P(He),te--;for(;0<ce-te;)le=P(le),ce--;for(;te--;){if(He===le||le!==null&&He===le.alternate)break t;He=P(He),le=P(le)}He=null}else He=null;$e!==null&&R(Ae,Ee,$e,He,!1),Ge!==null&&Cn!==null&&R(Ae,Cn,Ge,He,!0)}}e:{if(Ee=pe?bo(pe):window,$e=Ee.nodeName&&Ee.nodeName.toLowerCase(),$e==="select"||$e==="input"&&Ee.type==="file")var Ze=P1;else if(Og(Ee))if(ua)Ze=Td;else{Ze=bu;var tt=_h}else($e=Ee.nodeName)&&$e.toLowerCase()==="input"&&(Ee.type==="checkbox"||Ee.type==="radio")&&(Ze=wh);if(Ze&&(Ze=Ze(u,pe))){mh(Ae,Ze,g,Te);break e}tt&&tt(u,Ee,pe),u==="focusout"&&(tt=Ee._wrapperState)&&tt.controlled&&Ee.type==="number"&&Ut(Ee,"number",Ee.value)}switch(tt=pe?bo(pe):window,u){case"focusin":(Og(tt)||tt.contentEditable==="true")&&(xu=tt,Eu=pe,Hl=null);break;case"focusout":Hl=Eu=xu=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,Lg(Ae,g,Te);break;case"selectionchange":if(bh)break;case"keydown":case"keyup":Lg(Ae,g,Te)}var nt;if(Ss)e:{switch(u){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else za?_u(u,g)&&(ot="onCompositionEnd"):u==="keydown"&&g.keyCode===229&&(ot="onCompositionStart");ot&&(Mg&&g.locale!=="ko"&&(za||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&za&&(nt=Bl()):(Ur=Te,tr="value"in Ur?Ur.value:Ur.textContent,za=!0)),tt=_(pe,ot),0<tt.length&&(ot=new F(ot,u,null,g,Te),Ae.push({event:ot,listeners:tt}),nt?ot.data=nt:(nt=Pd(g),nt!==null&&(ot.data=nt)))),(nt=$a?E1(u,g):Ps(u,g))&&(pe=_(pe,"onBeforeInput"),0<pe.length&&(Te=new F("onBeforeInput","beforeinput",null,g,Te),Ae.push({event:Te,listeners:pe}),Te.data=nt))}Nd(Ae,h)})}function d(u,h,g){return{instance:u,listener:h,currentTarget:g}}function _(u,h){for(var g=h+"Capture",w=[];u!==null;){var T=u,A=T.stateNode;T.tag===5&&A!==null&&(T=A,A=Qs(u,g),A!=null&&w.unshift(d(u,A,T)),A=Qs(u,h),A!=null&&w.push(d(u,A,T))),u=u.return}return w}function P(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function R(u,h,g,w,T){for(var A=h._reactName,U=[];g!==null&&g!==w;){var X=g,J=X.alternate,pe=X.stateNode;if(J!==null&&J===w)break;X.tag===5&&pe!==null&&(X=pe,T?(J=Qs(g,A),J!=null&&U.unshift(d(g,J,X))):T||(J=Qs(g,A),J!=null&&U.push(d(g,J,X)))),g=g.return}U.length!==0&&u.push({event:h,listeners:U})}var W=/\r\n?/g,Q=/\u0000|\uFFFD/g;function oe(u){return(typeof u=="string"?u:""+u).replace(W,`
`).replace(Q,"")}function de(u,h,g){if(h=oe(h),oe(u)!==h&&g)throw Error(n(425))}function we(){}var Fe=null,Je=null;function dt(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var Gn=typeof setTimeout=="function"?setTimeout:void 0,Dn=typeof clearTimeout=="function"?clearTimeout:void 0,Hr=typeof Promise=="function"?Promise:void 0,Pr=typeof queueMicrotask=="function"?queueMicrotask:typeof Hr<"u"?function(u){return Hr.resolve(null).then(u).catch(Iu)}:Gn;function Iu(u){setTimeout(function(){throw u})}function Dd(u,h){var g=h,w=0;do{var T=g.nextSibling;if(u.removeChild(g),T&&T.nodeType===8)if(g=T.data,g==="/$"){if(w===0){u.removeChild(T),xr(h);return}w--}else g!=="$"&&g!=="$?"&&g!=="$!"||w++;g=T}while(g);xr(h)}function Ms(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return u}function $g(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var g=u.data;if(g==="$"||g==="$!"||g==="$?"){if(h===0)return u;h--}else g==="/$"&&h++}u=u.previousSibling}return null}var vo=Math.random().toString(36).slice(2),ha="__reactFiber$"+vo,Mu="__reactProps$"+vo,jt="__reactContainer$"+vo,Cu="__reactEvents$"+vo,A1="__reactListeners$"+vo,I1="__reactHandles$"+vo;function _o(u){var h=u[ha];if(h)return h;for(var g=u.parentNode;g;){if(h=g[jt]||g[ha]){if(g=h.alternate,h.child!==null||g!==null&&g.child!==null)for(u=$g(u);u!==null;){if(g=u[ha])return g;u=$g(u)}return h}u=g,g=u.parentNode}return null}function wo(u){return u=u[ha]||u[jt],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function bo(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function Sh(u){return u[Mu]||null}var M1=[],Ph=-1;function Ou(u){return{current:u}}function an(u){0>Ph||(u.current=M1[Ph],M1[Ph]=null,Ph--)}function tn(u,h){Ph++,M1[Ph]=u.current,u.current=h}var Ru={},Tr=Ou(Ru),ci=Ou(!1),Xl=Ru;function Th(u,h){var g=u.type.contextTypes;if(!g)return Ru;var w=u.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===h)return w.__reactInternalMemoizedMaskedChildContext;var T={},A;for(A in g)T[A]=h[A];return w&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=h,u.__reactInternalMemoizedMaskedChildContext=T),T}function hi(u){return u=u.childContextTypes,u!=null}function zg(){an(ci),an(Tr)}function tM(u,h,g){if(Tr.current!==Ru)throw Error(n(168));tn(Tr,h),tn(ci,g)}function nM(u,h,g){var w=u.stateNode;if(h=h.childContextTypes,typeof w.getChildContext!="function")return g;w=w.getChildContext();for(var T in w)if(!(T in h))throw Error(n(108,st(u)||"Unknown",T));return ie({},g,w)}function Ug(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Ru,Xl=Tr.current,tn(Tr,u),tn(ci,ci.current),!0}function rM(u,h,g){var w=u.stateNode;if(!w)throw Error(n(169));g?(u=nM(u,h,Xl),w.__reactInternalMemoizedMergedChildContext=u,an(ci),an(Tr),tn(Tr,u)):an(ci),tn(ci,g)}var xo=null,qg=!1,C1=!1;function iM(u){xo===null?xo=[u]:xo.push(u)}function JB(u){qg=!0,iM(u)}function ku(){if(!C1&&xo!==null){C1=!0;var u=0,h=pt;try{var g=xo;for(pt=1;u<g.length;u++){var w=g[u];do w=w(!0);while(w!==null)}xo=null,qg=!1}catch(T){throw xo!==null&&(xo=xo.slice(u+1)),Dl(lu,ku),T}finally{pt=h,C1=!1}}return null}var Ah=[],Ih=0,Gg=null,Wg=0,fa=[],da=0,Yl=null,Eo=1,So="";function Ql(u,h){Ah[Ih++]=Wg,Ah[Ih++]=Gg,Gg=u,Wg=h}function aM(u,h,g){fa[da++]=Eo,fa[da++]=So,fa[da++]=Yl,Yl=u;var w=Eo;u=So;var T=32-lt(w)-1;w&=~(1<<T),g+=1;var A=32-lt(h)+T;if(30<A){var U=T-T%5;A=(w&(1<<U)-1).toString(32),w>>=U,T-=U,Eo=1<<32-lt(h)+T|g<<T|w,So=A+u}else Eo=1<<A|g<<T|w,So=u}function O1(u){u.return!==null&&(Ql(u,1),aM(u,1,0))}function R1(u){for(;u===Gg;)Gg=Ah[--Ih],Ah[Ih]=null,Wg=Ah[--Ih],Ah[Ih]=null;for(;u===Yl;)Yl=fa[--da],fa[da]=null,So=fa[--da],fa[da]=null,Eo=fa[--da],fa[da]=null}var Ri=null,ki=null,cn=!1,qa=null;function sM(u,h){var g=ya(5,null,null,0);g.elementType="DELETED",g.stateNode=h,g.return=u,h=u.deletions,h===null?(u.deletions=[g],u.flags|=16):h.push(g)}function oM(u,h){switch(u.tag){case 5:var g=u.type;return h=h.nodeType!==1||g.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(u.stateNode=h,Ri=u,ki=Ms(h.firstChild),!0):!1;case 6:return h=u.pendingProps===""||h.nodeType!==3?null:h,h!==null?(u.stateNode=h,Ri=u,ki=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(g=Yl!==null?{id:Eo,overflow:So}:null,u.memoizedState={dehydrated:h,treeContext:g,retryLane:1073741824},g=ya(18,null,null,0),g.stateNode=h,g.return=u,u.child=g,Ri=u,ki=null,!0):!1;default:return!1}}function k1(u){return(u.mode&1)!==0&&(u.flags&128)===0}function N1(u){if(cn){var h=ki;if(h){var g=h;if(!oM(u,h)){if(k1(u))throw Error(n(418));h=Ms(g.nextSibling);var w=Ri;h&&oM(u,h)?sM(w,g):(u.flags=u.flags&-4097|2,cn=!1,Ri=u)}}else{if(k1(u))throw Error(n(418));u.flags=u.flags&-4097|2,cn=!1,Ri=u}}}function uM(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Ri=u}function Hg(u){if(u!==Ri)return!1;if(!cn)return uM(u),cn=!0,!1;var h;if((h=u.tag!==3)&&!(h=u.tag!==5)&&(h=u.type,h=h!=="head"&&h!=="body"&&!dt(u.type,u.memoizedProps)),h&&(h=ki)){if(k1(u))throw lM(),Error(n(418));for(;h;)sM(u,h),h=Ms(h.nextSibling)}if(uM(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8){var g=u.data;if(g==="/$"){if(h===0){ki=Ms(u.nextSibling);break e}h--}else g!=="$"&&g!=="$!"&&g!=="$?"||h++}u=u.nextSibling}ki=null}}else ki=Ri?Ms(u.stateNode.nextSibling):null;return!0}function lM(){for(var u=ki;u;)u=Ms(u.nextSibling)}function Mh(){ki=Ri=null,cn=!1}function L1(u){qa===null?qa=[u]:qa.push(u)}var e$=$.ReactCurrentBatchConfig;function jd(u,h,g){if(u=g.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(n(309));var w=g.stateNode}if(!w)throw Error(n(147,u));var T=w,A=""+u;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===A?h.ref:(h=function(U){var X=T.refs;U===null?delete X[A]:X[A]=U},h._stringRef=A,h)}if(typeof u!="string")throw Error(n(284));if(!g._owner)throw Error(n(290,u))}return u}function Kg(u,h){throw u=Object.prototype.toString.call(h),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u))}function cM(u){var h=u._init;return h(u._payload)}function hM(u){function h(le,te){if(u){var ce=le.deletions;ce===null?(le.deletions=[te],le.flags|=16):ce.push(te)}}function g(le,te){if(!u)return null;for(;te!==null;)h(le,te),te=te.sibling;return null}function w(le,te){for(le=new Map;te!==null;)te.key!==null?le.set(te.key,te):le.set(te.index,te),te=te.sibling;return le}function T(le,te){return le=$u(le,te),le.index=0,le.sibling=null,le}function A(le,te,ce){return le.index=ce,u?(ce=le.alternate,ce!==null?(ce=ce.index,ce<te?(le.flags|=2,te):ce):(le.flags|=2,te)):(le.flags|=1048576,te)}function U(le){return u&&le.alternate===null&&(le.flags|=2),le}function X(le,te,ce,Ce){return te===null||te.tag!==6?(te=Tw(ce,le.mode,Ce),te.return=le,te):(te=T(te,ce),te.return=le,te)}function J(le,te,ce,Ce){var Ze=ce.type;return Ze===C?Te(le,te,ce.props.children,Ce,ce.key):te!==null&&(te.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===me&&cM(Ze)===te.type)?(Ce=T(te,ce.props),Ce.ref=jd(le,te,ce),Ce.return=le,Ce):(Ce=vy(ce.type,ce.key,ce.props,null,le.mode,Ce),Ce.ref=jd(le,te,ce),Ce.return=le,Ce)}function pe(le,te,ce,Ce){return te===null||te.tag!==4||te.stateNode.containerInfo!==ce.containerInfo||te.stateNode.implementation!==ce.implementation?(te=Aw(ce,le.mode,Ce),te.return=le,te):(te=T(te,ce.children||[]),te.return=le,te)}function Te(le,te,ce,Ce,Ze){return te===null||te.tag!==7?(te=sc(ce,le.mode,Ce,Ze),te.return=le,te):(te=T(te,ce),te.return=le,te)}function Ae(le,te,ce){if(typeof te=="string"&&te!==""||typeof te=="number")return te=Tw(""+te,le.mode,ce),te.return=le,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case k:return ce=vy(te.type,te.key,te.props,null,le.mode,ce),ce.ref=jd(le,null,te),ce.return=le,ce;case V:return te=Aw(te,le.mode,ce),te.return=le,te;case me:var Ce=te._init;return Ae(le,Ce(te._payload),ce)}if(qt(te)||ge(te))return te=sc(te,le.mode,ce,null),te.return=le,te;Kg(le,te)}return null}function Ee(le,te,ce,Ce){var Ze=te!==null?te.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Ze!==null?null:X(le,te,""+ce,Ce);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case k:return ce.key===Ze?J(le,te,ce,Ce):null;case V:return ce.key===Ze?pe(le,te,ce,Ce):null;case me:return Ze=ce._init,Ee(le,te,Ze(ce._payload),Ce)}if(qt(ce)||ge(ce))return Ze!==null?null:Te(le,te,ce,Ce,null);Kg(le,ce)}return null}function $e(le,te,ce,Ce,Ze){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return le=le.get(ce)||null,X(te,le,""+Ce,Ze);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case k:return le=le.get(Ce.key===null?ce:Ce.key)||null,J(te,le,Ce,Ze);case V:return le=le.get(Ce.key===null?ce:Ce.key)||null,pe(te,le,Ce,Ze);case me:var tt=Ce._init;return $e(le,te,ce,tt(Ce._payload),Ze)}if(qt(Ce)||ge(Ce))return le=le.get(ce)||null,Te(te,le,Ce,Ze,null);Kg(te,Ce)}return null}function Ge(le,te,ce,Ce){for(var Ze=null,tt=null,nt=te,ot=te=0,ir=null;nt!==null&&ot<ce.length;ot++){nt.index>ot?(ir=nt,nt=null):ir=nt.sibling;var Ot=Ee(le,nt,ce[ot],Ce);if(Ot===null){nt===null&&(nt=ir);break}u&&nt&&Ot.alternate===null&&h(le,nt),te=A(Ot,te,ot),tt===null?Ze=Ot:tt.sibling=Ot,tt=Ot,nt=ir}if(ot===ce.length)return g(le,nt),cn&&Ql(le,ot),Ze;if(nt===null){for(;ot<ce.length;ot++)nt=Ae(le,ce[ot],Ce),nt!==null&&(te=A(nt,te,ot),tt===null?Ze=nt:tt.sibling=nt,tt=nt);return cn&&Ql(le,ot),Ze}for(nt=w(le,nt);ot<ce.length;ot++)ir=$e(nt,le,ot,ce[ot],Ce),ir!==null&&(u&&ir.alternate!==null&&nt.delete(ir.key===null?ot:ir.key),te=A(ir,te,ot),tt===null?Ze=ir:tt.sibling=ir,tt=ir);return u&&nt.forEach(function(zu){return h(le,zu)}),cn&&Ql(le,ot),Ze}function He(le,te,ce,Ce){var Ze=ge(ce);if(typeof Ze!="function")throw Error(n(150));if(ce=Ze.call(ce),ce==null)throw Error(n(151));for(var tt=Ze=null,nt=te,ot=te=0,ir=null,Ot=ce.next();nt!==null&&!Ot.done;ot++,Ot=ce.next()){nt.index>ot?(ir=nt,nt=null):ir=nt.sibling;var zu=Ee(le,nt,Ot.value,Ce);if(zu===null){nt===null&&(nt=ir);break}u&&nt&&zu.alternate===null&&h(le,nt),te=A(zu,te,ot),tt===null?Ze=zu:tt.sibling=zu,tt=zu,nt=ir}if(Ot.done)return g(le,nt),cn&&Ql(le,ot),Ze;if(nt===null){for(;!Ot.done;ot++,Ot=ce.next())Ot=Ae(le,Ot.value,Ce),Ot!==null&&(te=A(Ot,te,ot),tt===null?Ze=Ot:tt.sibling=Ot,tt=Ot);return cn&&Ql(le,ot),Ze}for(nt=w(le,nt);!Ot.done;ot++,Ot=ce.next())Ot=$e(nt,le,ot,Ot.value,Ce),Ot!==null&&(u&&Ot.alternate!==null&&nt.delete(Ot.key===null?ot:Ot.key),te=A(Ot,te,ot),tt===null?Ze=Ot:tt.sibling=Ot,tt=Ot);return u&&nt.forEach(function(k$){return h(le,k$)}),cn&&Ql(le,ot),Ze}function Cn(le,te,ce,Ce){if(typeof ce=="object"&&ce!==null&&ce.type===C&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case k:e:{for(var Ze=ce.key,tt=te;tt!==null;){if(tt.key===Ze){if(Ze=ce.type,Ze===C){if(tt.tag===7){g(le,tt.sibling),te=T(tt,ce.props.children),te.return=le,le=te;break e}}else if(tt.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===me&&cM(Ze)===tt.type){g(le,tt.sibling),te=T(tt,ce.props),te.ref=jd(le,tt,ce),te.return=le,le=te;break e}g(le,tt);break}else h(le,tt);tt=tt.sibling}ce.type===C?(te=sc(ce.props.children,le.mode,Ce,ce.key),te.return=le,le=te):(Ce=vy(ce.type,ce.key,ce.props,null,le.mode,Ce),Ce.ref=jd(le,te,ce),Ce.return=le,le=Ce)}return U(le);case V:e:{for(tt=ce.key;te!==null;){if(te.key===tt)if(te.tag===4&&te.stateNode.containerInfo===ce.containerInfo&&te.stateNode.implementation===ce.implementation){g(le,te.sibling),te=T(te,ce.children||[]),te.return=le,le=te;break e}else{g(le,te);break}else h(le,te);te=te.sibling}te=Aw(ce,le.mode,Ce),te.return=le,le=te}return U(le);case me:return tt=ce._init,Cn(le,te,tt(ce._payload),Ce)}if(qt(ce))return Ge(le,te,ce,Ce);if(ge(ce))return He(le,te,ce,Ce);Kg(le,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,te!==null&&te.tag===6?(g(le,te.sibling),te=T(te,ce),te.return=le,le=te):(g(le,te),te=Tw(ce,le.mode,Ce),te.return=le,le=te),U(le)):g(le,te)}return Cn}var Ch=hM(!0),fM=hM(!1),Zg=Ou(null),Xg=null,Oh=null,D1=null;function j1(){D1=Oh=Xg=null}function V1(u){var h=Zg.current;an(Zg),u._currentValue=h}function F1(u,h,g){for(;u!==null;){var w=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),u===g)break;u=u.return}}function Rh(u,h){Xg=u,D1=Oh=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&h)!==0&&(fi=!0),u.firstContext=null)}function pa(u){var h=u._currentValue;if(D1!==u)if(u={context:u,memoizedValue:h,next:null},Oh===null){if(Xg===null)throw Error(n(308));Oh=u,Xg.dependencies={lanes:0,firstContext:u}}else Oh=Oh.next=u;return h}var Jl=null;function B1(u){Jl===null?Jl=[u]:Jl.push(u)}function dM(u,h,g,w){var T=h.interleaved;return T===null?(g.next=g,B1(h)):(g.next=T.next,T.next=g),h.interleaved=g,Po(u,w)}function Po(u,h){u.lanes|=h;var g=u.alternate;for(g!==null&&(g.lanes|=h),g=u,u=u.return;u!==null;)u.childLanes|=h,g=u.alternate,g!==null&&(g.childLanes|=h),g=u,u=u.return;return g.tag===3?g.stateNode:null}var Nu=!1;function $1(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pM(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function To(u,h){return{eventTime:u,lane:h,tag:0,payload:null,callback:null,next:null}}function Lu(u,h,g){var w=u.updateQueue;if(w===null)return null;if(w=w.shared,(It&2)!==0){var T=w.pending;return T===null?h.next=h:(h.next=T.next,T.next=h),w.pending=h,Po(u,g)}return T=w.interleaved,T===null?(h.next=h,B1(w)):(h.next=T.next,T.next=h),w.interleaved=h,Po(u,g)}function Yg(u,h,g){if(h=h.updateQueue,h!==null&&(h=h.shared,(g&4194240)!==0)){var w=h.lanes;w&=u.pendingLanes,g|=w,h.lanes=g,Ti(u,g)}}function mM(u,h){var g=u.updateQueue,w=u.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var T=null,A=null;if(g=g.firstBaseUpdate,g!==null){do{var U={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};A===null?T=A=U:A=A.next=U,g=g.next}while(g!==null);A===null?T=A=h:A=A.next=h}else T=A=h;g={baseState:w.baseState,firstBaseUpdate:T,lastBaseUpdate:A,shared:w.shared,effects:w.effects},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=h:u.next=h,g.lastBaseUpdate=h}function Qg(u,h,g,w){var T=u.updateQueue;Nu=!1;var A=T.firstBaseUpdate,U=T.lastBaseUpdate,X=T.shared.pending;if(X!==null){T.shared.pending=null;var J=X,pe=J.next;J.next=null,U===null?A=pe:U.next=pe,U=J;var Te=u.alternate;Te!==null&&(Te=Te.updateQueue,X=Te.lastBaseUpdate,X!==U&&(X===null?Te.firstBaseUpdate=pe:X.next=pe,Te.lastBaseUpdate=J))}if(A!==null){var Ae=T.baseState;U=0,Te=pe=J=null,X=A;do{var Ee=X.lane,$e=X.eventTime;if((w&Ee)===Ee){Te!==null&&(Te=Te.next={eventTime:$e,lane:0,tag:X.tag,payload:X.payload,callback:X.callback,next:null});e:{var Ge=u,He=X;switch(Ee=h,$e=g,He.tag){case 1:if(Ge=He.payload,typeof Ge=="function"){Ae=Ge.call($e,Ae,Ee);break e}Ae=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=He.payload,Ee=typeof Ge=="function"?Ge.call($e,Ae,Ee):Ge,Ee==null)break e;Ae=ie({},Ae,Ee);break e;case 2:Nu=!0}}X.callback!==null&&X.lane!==0&&(u.flags|=64,Ee=T.effects,Ee===null?T.effects=[X]:Ee.push(X))}else $e={eventTime:$e,lane:Ee,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Te===null?(pe=Te=$e,J=Ae):Te=Te.next=$e,U|=Ee;if(X=X.next,X===null){if(X=T.shared.pending,X===null)break;Ee=X,X=Ee.next,Ee.next=null,T.lastBaseUpdate=Ee,T.shared.pending=null}}while(!0);if(Te===null&&(J=Ae),T.baseState=J,T.firstBaseUpdate=pe,T.lastBaseUpdate=Te,h=T.shared.interleaved,h!==null){T=h;do U|=T.lane,T=T.next;while(T!==h)}else A===null&&(T.shared.lanes=0);nc|=U,u.lanes=U,u.memoizedState=Ae}}function gM(u,h,g){if(u=h.effects,h.effects=null,u!==null)for(h=0;h<u.length;h++){var w=u[h],T=w.callback;if(T!==null){if(w.callback=null,w=g,typeof T!="function")throw Error(n(191,T));T.call(w)}}}var Vd={},Cs=Ou(Vd),Fd=Ou(Vd),Bd=Ou(Vd);function ec(u){if(u===Vd)throw Error(n(174));return u}function z1(u,h){switch(tn(Bd,h),tn(Fd,u),tn(Cs,Vd),u=h.nodeType,u){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:Ys(null,"");break;default:u=u===8?h.parentNode:h,h=u.namespaceURI||null,u=u.tagName,h=Ys(h,u)}an(Cs),tn(Cs,h)}function kh(){an(Cs),an(Fd),an(Bd)}function yM(u){ec(Bd.current);var h=ec(Cs.current),g=Ys(h,u.type);h!==g&&(tn(Fd,u),tn(Cs,g))}function U1(u){Fd.current===u&&(an(Cs),an(Fd))}var vn=Ou(0);function Jg(u){for(var h=u;h!==null;){if(h.tag===13){var g=h.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var q1=[];function G1(){for(var u=0;u<q1.length;u++)q1[u]._workInProgressVersionPrimary=null;q1.length=0}var ey=$.ReactCurrentDispatcher,W1=$.ReactCurrentBatchConfig,tc=0,_n=null,Wn=null,nr=null,ty=!1,$d=!1,zd=0,t$=0;function Ar(){throw Error(n(321))}function H1(u,h){if(h===null)return!1;for(var g=0;g<h.length&&g<u.length;g++)if(!Ci(u[g],h[g]))return!1;return!0}function K1(u,h,g,w,T,A){if(tc=A,_n=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,ey.current=u===null||u.memoizedState===null?a$:s$,u=g(w,T),$d){A=0;do{if($d=!1,zd=0,25<=A)throw Error(n(301));A+=1,nr=Wn=null,h.updateQueue=null,ey.current=o$,u=g(w,T)}while($d)}if(ey.current=iy,h=Wn!==null&&Wn.next!==null,tc=0,nr=Wn=_n=null,ty=!1,h)throw Error(n(300));return u}function Z1(){var u=zd!==0;return zd=0,u}function Os(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?_n.memoizedState=nr=u:nr=nr.next=u,nr}function ma(){if(Wn===null){var u=_n.alternate;u=u!==null?u.memoizedState:null}else u=Wn.next;var h=nr===null?_n.memoizedState:nr.next;if(h!==null)nr=h,Wn=u;else{if(u===null)throw Error(n(310));Wn=u,u={memoizedState:Wn.memoizedState,baseState:Wn.baseState,baseQueue:Wn.baseQueue,queue:Wn.queue,next:null},nr===null?_n.memoizedState=nr=u:nr=nr.next=u}return nr}function Ud(u,h){return typeof h=="function"?h(u):h}function X1(u){var h=ma(),g=h.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=u;var w=Wn,T=w.baseQueue,A=g.pending;if(A!==null){if(T!==null){var U=T.next;T.next=A.next,A.next=U}w.baseQueue=T=A,g.pending=null}if(T!==null){A=T.next,w=w.baseState;var X=U=null,J=null,pe=A;do{var Te=pe.lane;if((tc&Te)===Te)J!==null&&(J=J.next={lane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),w=pe.hasEagerState?pe.eagerState:u(w,pe.action);else{var Ae={lane:Te,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null};J===null?(X=J=Ae,U=w):J=J.next=Ae,_n.lanes|=Te,nc|=Te}pe=pe.next}while(pe!==null&&pe!==A);J===null?U=w:J.next=X,Ci(w,h.memoizedState)||(fi=!0),h.memoizedState=w,h.baseState=U,h.baseQueue=J,g.lastRenderedState=w}if(u=g.interleaved,u!==null){T=u;do A=T.lane,_n.lanes|=A,nc|=A,T=T.next;while(T!==u)}else T===null&&(g.lanes=0);return[h.memoizedState,g.dispatch]}function Y1(u){var h=ma(),g=h.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=u;var w=g.dispatch,T=g.pending,A=h.memoizedState;if(T!==null){g.pending=null;var U=T=T.next;do A=u(A,U.action),U=U.next;while(U!==T);Ci(A,h.memoizedState)||(fi=!0),h.memoizedState=A,h.baseQueue===null&&(h.baseState=A),g.lastRenderedState=A}return[A,w]}function vM(){}function _M(u,h){var g=_n,w=ma(),T=h(),A=!Ci(w.memoizedState,T);if(A&&(w.memoizedState=T,fi=!0),w=w.queue,Q1(xM.bind(null,g,w,u),[u]),w.getSnapshot!==h||A||nr!==null&&nr.memoizedState.tag&1){if(g.flags|=2048,qd(9,bM.bind(null,g,w,T,h),void 0,null),rr===null)throw Error(n(349));(tc&30)!==0||wM(g,h,T)}return T}function wM(u,h,g){u.flags|=16384,u={getSnapshot:h,value:g},h=_n.updateQueue,h===null?(h={lastEffect:null,stores:null},_n.updateQueue=h,h.stores=[u]):(g=h.stores,g===null?h.stores=[u]:g.push(u))}function bM(u,h,g,w){h.value=g,h.getSnapshot=w,EM(h)&&SM(u)}function xM(u,h,g){return g(function(){EM(h)&&SM(u)})}function EM(u){var h=u.getSnapshot;u=u.value;try{var g=h();return!Ci(u,g)}catch{return!0}}function SM(u){var h=Po(u,1);h!==null&&Ka(h,u,1,-1)}function PM(u){var h=Os();return typeof u=="function"&&(u=u()),h.memoizedState=h.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ud,lastRenderedState:u},h.queue=u,u=u.dispatch=i$.bind(null,_n,u),[h.memoizedState,u]}function qd(u,h,g,w){return u={tag:u,create:h,destroy:g,deps:w,next:null},h=_n.updateQueue,h===null?(h={lastEffect:null,stores:null},_n.updateQueue=h,h.lastEffect=u.next=u):(g=h.lastEffect,g===null?h.lastEffect=u.next=u:(w=g.next,g.next=u,u.next=w,h.lastEffect=u)),u}function TM(){return ma().memoizedState}function ny(u,h,g,w){var T=Os();_n.flags|=u,T.memoizedState=qd(1|h,g,void 0,w===void 0?null:w)}function ry(u,h,g,w){var T=ma();w=w===void 0?null:w;var A=void 0;if(Wn!==null){var U=Wn.memoizedState;if(A=U.destroy,w!==null&&H1(w,U.deps)){T.memoizedState=qd(h,g,A,w);return}}_n.flags|=u,T.memoizedState=qd(1|h,g,A,w)}function AM(u,h){return ny(8390656,8,u,h)}function Q1(u,h){return ry(2048,8,u,h)}function IM(u,h){return ry(4,2,u,h)}function MM(u,h){return ry(4,4,u,h)}function CM(u,h){if(typeof h=="function")return u=u(),h(u),function(){h(null)};if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function OM(u,h,g){return g=g!=null?g.concat([u]):null,ry(4,4,CM.bind(null,h,u),g)}function J1(){}function RM(u,h){var g=ma();h=h===void 0?null:h;var w=g.memoizedState;return w!==null&&h!==null&&H1(h,w[1])?w[0]:(g.memoizedState=[u,h],u)}function kM(u,h){var g=ma();h=h===void 0?null:h;var w=g.memoizedState;return w!==null&&h!==null&&H1(h,w[1])?w[0]:(u=u(),g.memoizedState=[u,h],u)}function NM(u,h,g){return(tc&21)===0?(u.baseState&&(u.baseState=!1,fi=!0),u.memoizedState=g):(Ci(g,h)||(g=Vl(),_n.lanes|=g,nc|=g,u.baseState=!0),h)}function n$(u,h){var g=pt;pt=g!==0&&4>g?g:4,u(!0);var w=W1.transition;W1.transition={};try{u(!1),h()}finally{pt=g,W1.transition=w}}function LM(){return ma().memoizedState}function r$(u,h,g){var w=Fu(u);if(g={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null},DM(u))jM(h,g);else if(g=dM(u,h,g,w),g!==null){var T=Zr();Ka(g,u,w,T),VM(g,h,w)}}function i$(u,h,g){var w=Fu(u),T={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null};if(DM(u))jM(h,T);else{var A=u.alternate;if(u.lanes===0&&(A===null||A.lanes===0)&&(A=h.lastRenderedReducer,A!==null))try{var U=h.lastRenderedState,X=A(U,g);if(T.hasEagerState=!0,T.eagerState=X,Ci(X,U)){var J=h.interleaved;J===null?(T.next=T,B1(h)):(T.next=J.next,J.next=T),h.interleaved=T;return}}catch{}g=dM(u,h,T,w),g!==null&&(T=Zr(),Ka(g,u,w,T),VM(g,h,w))}}function DM(u){var h=u.alternate;return u===_n||h!==null&&h===_n}function jM(u,h){$d=ty=!0;var g=u.pending;g===null?h.next=h:(h.next=g.next,g.next=h),u.pending=h}function VM(u,h,g){if((g&4194240)!==0){var w=h.lanes;w&=u.pendingLanes,g|=w,h.lanes=g,Ti(u,g)}}var iy={readContext:pa,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},a$={readContext:pa,useCallback:function(u,h){return Os().memoizedState=[u,h===void 0?null:h],u},useContext:pa,useEffect:AM,useImperativeHandle:function(u,h,g){return g=g!=null?g.concat([u]):null,ny(4194308,4,CM.bind(null,h,u),g)},useLayoutEffect:function(u,h){return ny(4194308,4,u,h)},useInsertionEffect:function(u,h){return ny(4,2,u,h)},useMemo:function(u,h){var g=Os();return h=h===void 0?null:h,u=u(),g.memoizedState=[u,h],u},useReducer:function(u,h,g){var w=Os();return h=g!==void 0?g(h):h,w.memoizedState=w.baseState=h,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:h},w.queue=u,u=u.dispatch=r$.bind(null,_n,u),[w.memoizedState,u]},useRef:function(u){var h=Os();return u={current:u},h.memoizedState=u},useState:PM,useDebugValue:J1,useDeferredValue:function(u){return Os().memoizedState=u},useTransition:function(){var u=PM(!1),h=u[0];return u=n$.bind(null,u[1]),Os().memoizedState=u,[h,u]},useMutableSource:function(){},useSyncExternalStore:function(u,h,g){var w=_n,T=Os();if(cn){if(g===void 0)throw Error(n(407));g=g()}else{if(g=h(),rr===null)throw Error(n(349));(tc&30)!==0||wM(w,h,g)}T.memoizedState=g;var A={value:g,getSnapshot:h};return T.queue=A,AM(xM.bind(null,w,A,u),[u]),w.flags|=2048,qd(9,bM.bind(null,w,A,g,h),void 0,null),g},useId:function(){var u=Os(),h=rr.identifierPrefix;if(cn){var g=So,w=Eo;g=(w&~(1<<32-lt(w)-1)).toString(32)+g,h=":"+h+"R"+g,g=zd++,0<g&&(h+="H"+g.toString(32)),h+=":"}else g=t$++,h=":"+h+"r"+g.toString(32)+":";return u.memoizedState=h},unstable_isNewReconciler:!1},s$={readContext:pa,useCallback:RM,useContext:pa,useEffect:Q1,useImperativeHandle:OM,useInsertionEffect:IM,useLayoutEffect:MM,useMemo:kM,useReducer:X1,useRef:TM,useState:function(){return X1(Ud)},useDebugValue:J1,useDeferredValue:function(u){var h=ma();return NM(h,Wn.memoizedState,u)},useTransition:function(){var u=X1(Ud)[0],h=ma().memoizedState;return[u,h]},useMutableSource:vM,useSyncExternalStore:_M,useId:LM,unstable_isNewReconciler:!1},o$={readContext:pa,useCallback:RM,useContext:pa,useEffect:Q1,useImperativeHandle:OM,useInsertionEffect:IM,useLayoutEffect:MM,useMemo:kM,useReducer:Y1,useRef:TM,useState:function(){return Y1(Ud)},useDebugValue:J1,useDeferredValue:function(u){var h=ma();return Wn===null?h.memoizedState=u:NM(h,Wn.memoizedState,u)},useTransition:function(){var u=Y1(Ud)[0],h=ma().memoizedState;return[u,h]},useMutableSource:vM,useSyncExternalStore:_M,useId:LM,unstable_isNewReconciler:!1};function Ga(u,h){if(u&&u.defaultProps){h=ie({},h),u=u.defaultProps;for(var g in u)h[g]===void 0&&(h[g]=u[g]);return h}return h}function ew(u,h,g,w){h=u.memoizedState,g=g(w,h),g=g==null?h:ie({},h,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var ay={isMounted:function(u){return(u=u._reactInternals)?ii(u)===u:!1},enqueueSetState:function(u,h,g){u=u._reactInternals;var w=Zr(),T=Fu(u),A=To(w,T);A.payload=h,g!=null&&(A.callback=g),h=Lu(u,A,T),h!==null&&(Ka(h,u,T,w),Yg(h,u,T))},enqueueReplaceState:function(u,h,g){u=u._reactInternals;var w=Zr(),T=Fu(u),A=To(w,T);A.tag=1,A.payload=h,g!=null&&(A.callback=g),h=Lu(u,A,T),h!==null&&(Ka(h,u,T,w),Yg(h,u,T))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var g=Zr(),w=Fu(u),T=To(g,w);T.tag=2,h!=null&&(T.callback=h),h=Lu(u,T,w),h!==null&&(Ka(h,u,w,g),Yg(h,u,w))}};function FM(u,h,g,w,T,A,U){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(w,A,U):h.prototype&&h.prototype.isPureReactComponent?!Ts(g,w)||!Ts(T,A):!0}function BM(u,h,g){var w=!1,T=Ru,A=h.contextType;return typeof A=="object"&&A!==null?A=pa(A):(T=hi(h)?Xl:Tr.current,w=h.contextTypes,A=(w=w!=null)?Th(u,T):Ru),h=new h(g,A),u.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=ay,u.stateNode=h,h._reactInternals=u,w&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=T,u.__reactInternalMemoizedMaskedChildContext=A),h}function $M(u,h,g,w){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(g,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(g,w),h.state!==u&&ay.enqueueReplaceState(h,h.state,null)}function tw(u,h,g,w){var T=u.stateNode;T.props=g,T.state=u.memoizedState,T.refs={},$1(u);var A=h.contextType;typeof A=="object"&&A!==null?T.context=pa(A):(A=hi(h)?Xl:Tr.current,T.context=Th(u,A)),T.state=u.memoizedState,A=h.getDerivedStateFromProps,typeof A=="function"&&(ew(u,h,A,g),T.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(h=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),h!==T.state&&ay.enqueueReplaceState(T,T.state,null),Qg(u,g,T,w),T.state=u.memoizedState),typeof T.componentDidMount=="function"&&(u.flags|=4194308)}function Nh(u,h){try{var g="",w=h;do g+=Oe(w),w=w.return;while(w);var T=g}catch(A){T=`
Error generating stack: `+A.message+`
`+A.stack}return{value:u,source:h,stack:T,digest:null}}function nw(u,h,g){return{value:u,source:null,stack:g??null,digest:h??null}}function rw(u,h){try{console.error(h.value)}catch(g){setTimeout(function(){throw g})}}var u$=typeof WeakMap=="function"?WeakMap:Map;function zM(u,h,g){g=To(-1,g),g.tag=3,g.payload={element:null};var w=h.value;return g.callback=function(){fy||(fy=!0,vw=w),rw(u,h)},g}function UM(u,h,g){g=To(-1,g),g.tag=3;var w=u.type.getDerivedStateFromError;if(typeof w=="function"){var T=h.value;g.payload=function(){return w(T)},g.callback=function(){rw(u,h)}}var A=u.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(g.callback=function(){rw(u,h),typeof w!="function"&&(ju===null?ju=new Set([this]):ju.add(this));var U=h.stack;this.componentDidCatch(h.value,{componentStack:U!==null?U:""})}),g}function qM(u,h,g){var w=u.pingCache;if(w===null){w=u.pingCache=new u$;var T=new Set;w.set(h,T)}else T=w.get(h),T===void 0&&(T=new Set,w.set(h,T));T.has(g)||(T.add(g),u=x$.bind(null,u,h,g),h.then(u,u))}function GM(u){do{var h;if((h=u.tag===13)&&(h=u.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return u;u=u.return}while(u!==null);return null}function WM(u,h,g,w,T){return(u.mode&1)===0?(u===h?u.flags|=65536:(u.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(h=To(-1,1),h.tag=2,Lu(g,h,1))),g.lanes|=1),u):(u.flags|=65536,u.lanes=T,u)}var l$=$.ReactCurrentOwner,fi=!1;function Kr(u,h,g,w){h.child=u===null?fM(h,null,g,w):Ch(h,u.child,g,w)}function HM(u,h,g,w,T){g=g.render;var A=h.ref;return Rh(h,T),w=K1(u,h,g,w,A,T),g=Z1(),u!==null&&!fi?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~T,Ao(u,h,T)):(cn&&g&&O1(h),h.flags|=1,Kr(u,h,w,T),h.child)}function KM(u,h,g,w,T){if(u===null){var A=g.type;return typeof A=="function"&&!Pw(A)&&A.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(h.tag=15,h.type=A,ZM(u,h,A,w,T)):(u=vy(g.type,null,w,h,h.mode,T),u.ref=h.ref,u.return=h,h.child=u)}if(A=u.child,(u.lanes&T)===0){var U=A.memoizedProps;if(g=g.compare,g=g!==null?g:Ts,g(U,w)&&u.ref===h.ref)return Ao(u,h,T)}return h.flags|=1,u=$u(A,w),u.ref=h.ref,u.return=h,h.child=u}function ZM(u,h,g,w,T){if(u!==null){var A=u.memoizedProps;if(Ts(A,w)&&u.ref===h.ref)if(fi=!1,h.pendingProps=w=A,(u.lanes&T)!==0)(u.flags&131072)!==0&&(fi=!0);else return h.lanes=u.lanes,Ao(u,h,T)}return iw(u,h,g,w,T)}function XM(u,h,g){var w=h.pendingProps,T=w.children,A=u!==null?u.memoizedState:null;if(w.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},tn(Dh,Ni),Ni|=g;else{if((g&1073741824)===0)return u=A!==null?A.baseLanes|g:g,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:u,cachePool:null,transitions:null},h.updateQueue=null,tn(Dh,Ni),Ni|=u,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=A!==null?A.baseLanes:g,tn(Dh,Ni),Ni|=w}else A!==null?(w=A.baseLanes|g,h.memoizedState=null):w=g,tn(Dh,Ni),Ni|=w;return Kr(u,h,T,g),h.child}function YM(u,h){var g=h.ref;(u===null&&g!==null||u!==null&&u.ref!==g)&&(h.flags|=512,h.flags|=2097152)}function iw(u,h,g,w,T){var A=hi(g)?Xl:Tr.current;return A=Th(h,A),Rh(h,T),g=K1(u,h,g,w,A,T),w=Z1(),u!==null&&!fi?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~T,Ao(u,h,T)):(cn&&w&&O1(h),h.flags|=1,Kr(u,h,g,T),h.child)}function QM(u,h,g,w,T){if(hi(g)){var A=!0;Ug(h)}else A=!1;if(Rh(h,T),h.stateNode===null)oy(u,h),BM(h,g,w),tw(h,g,w,T),w=!0;else if(u===null){var U=h.stateNode,X=h.memoizedProps;U.props=X;var J=U.context,pe=g.contextType;typeof pe=="object"&&pe!==null?pe=pa(pe):(pe=hi(g)?Xl:Tr.current,pe=Th(h,pe));var Te=g.getDerivedStateFromProps,Ae=typeof Te=="function"||typeof U.getSnapshotBeforeUpdate=="function";Ae||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(X!==w||J!==pe)&&$M(h,U,w,pe),Nu=!1;var Ee=h.memoizedState;U.state=Ee,Qg(h,w,U,T),J=h.memoizedState,X!==w||Ee!==J||ci.current||Nu?(typeof Te=="function"&&(ew(h,g,Te,w),J=h.memoizedState),(X=Nu||FM(h,g,X,w,Ee,J,pe))?(Ae||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(h.flags|=4194308)):(typeof U.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=J),U.props=w,U.state=J,U.context=pe,w=X):(typeof U.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{U=h.stateNode,pM(u,h),X=h.memoizedProps,pe=h.type===h.elementType?X:Ga(h.type,X),U.props=pe,Ae=h.pendingProps,Ee=U.context,J=g.contextType,typeof J=="object"&&J!==null?J=pa(J):(J=hi(g)?Xl:Tr.current,J=Th(h,J));var $e=g.getDerivedStateFromProps;(Te=typeof $e=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(X!==Ae||Ee!==J)&&$M(h,U,w,J),Nu=!1,Ee=h.memoizedState,U.state=Ee,Qg(h,w,U,T);var Ge=h.memoizedState;X!==Ae||Ee!==Ge||ci.current||Nu?(typeof $e=="function"&&(ew(h,g,$e,w),Ge=h.memoizedState),(pe=Nu||FM(h,g,pe,w,Ee,Ge,J)||!1)?(Te||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(w,Ge,J),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(w,Ge,J)),typeof U.componentDidUpdate=="function"&&(h.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof U.componentDidUpdate!="function"||X===u.memoizedProps&&Ee===u.memoizedState||(h.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||X===u.memoizedProps&&Ee===u.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=Ge),U.props=w,U.state=Ge,U.context=J,w=pe):(typeof U.componentDidUpdate!="function"||X===u.memoizedProps&&Ee===u.memoizedState||(h.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||X===u.memoizedProps&&Ee===u.memoizedState||(h.flags|=1024),w=!1)}return aw(u,h,g,w,A,T)}function aw(u,h,g,w,T,A){YM(u,h);var U=(h.flags&128)!==0;if(!w&&!U)return T&&rM(h,g,!1),Ao(u,h,A);w=h.stateNode,l$.current=h;var X=U&&typeof g.getDerivedStateFromError!="function"?null:w.render();return h.flags|=1,u!==null&&U?(h.child=Ch(h,u.child,null,A),h.child=Ch(h,null,X,A)):Kr(u,h,X,A),h.memoizedState=w.state,T&&rM(h,g,!0),h.child}function JM(u){var h=u.stateNode;h.pendingContext?tM(u,h.pendingContext,h.pendingContext!==h.context):h.context&&tM(u,h.context,!1),z1(u,h.containerInfo)}function eC(u,h,g,w,T){return Mh(),L1(T),h.flags|=256,Kr(u,h,g,w),h.child}var sw={dehydrated:null,treeContext:null,retryLane:0};function ow(u){return{baseLanes:u,cachePool:null,transitions:null}}function tC(u,h,g){var w=h.pendingProps,T=vn.current,A=!1,U=(h.flags&128)!==0,X;if((X=U)||(X=u!==null&&u.memoizedState===null?!1:(T&2)!==0),X?(A=!0,h.flags&=-129):(u===null||u.memoizedState!==null)&&(T|=1),tn(vn,T&1),u===null)return N1(h),u=h.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((h.mode&1)===0?h.lanes=1:u.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(U=w.children,u=w.fallback,A?(w=h.mode,A=h.child,U={mode:"hidden",children:U},(w&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=U):A=_y(U,w,0,null),u=sc(u,w,g,null),A.return=h,u.return=h,A.sibling=u,h.child=A,h.child.memoizedState=ow(g),h.memoizedState=sw,u):uw(h,U));if(T=u.memoizedState,T!==null&&(X=T.dehydrated,X!==null))return c$(u,h,U,w,X,T,g);if(A){A=w.fallback,U=h.mode,T=u.child,X=T.sibling;var J={mode:"hidden",children:w.children};return(U&1)===0&&h.child!==T?(w=h.child,w.childLanes=0,w.pendingProps=J,h.deletions=null):(w=$u(T,J),w.subtreeFlags=T.subtreeFlags&14680064),X!==null?A=$u(X,A):(A=sc(A,U,g,null),A.flags|=2),A.return=h,w.return=h,w.sibling=A,h.child=w,w=A,A=h.child,U=u.child.memoizedState,U=U===null?ow(g):{baseLanes:U.baseLanes|g,cachePool:null,transitions:U.transitions},A.memoizedState=U,A.childLanes=u.childLanes&~g,h.memoizedState=sw,w}return A=u.child,u=A.sibling,w=$u(A,{mode:"visible",children:w.children}),(h.mode&1)===0&&(w.lanes=g),w.return=h,w.sibling=null,u!==null&&(g=h.deletions,g===null?(h.deletions=[u],h.flags|=16):g.push(u)),h.child=w,h.memoizedState=null,w}function uw(u,h){return h=_y({mode:"visible",children:h},u.mode,0,null),h.return=u,u.child=h}function sy(u,h,g,w){return w!==null&&L1(w),Ch(h,u.child,null,g),u=uw(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function c$(u,h,g,w,T,A,U){if(g)return h.flags&256?(h.flags&=-257,w=nw(Error(n(422))),sy(u,h,U,w)):h.memoizedState!==null?(h.child=u.child,h.flags|=128,null):(A=w.fallback,T=h.mode,w=_y({mode:"visible",children:w.children},T,0,null),A=sc(A,T,U,null),A.flags|=2,w.return=h,A.return=h,w.sibling=A,h.child=w,(h.mode&1)!==0&&Ch(h,u.child,null,U),h.child.memoizedState=ow(U),h.memoizedState=sw,A);if((h.mode&1)===0)return sy(u,h,U,null);if(T.data==="$!"){if(w=T.nextSibling&&T.nextSibling.dataset,w)var X=w.dgst;return w=X,A=Error(n(419)),w=nw(A,w,void 0),sy(u,h,U,w)}if(X=(U&u.childLanes)!==0,fi||X){if(w=rr,w!==null){switch(U&-U){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(w.suspendedLanes|U))!==0?0:T,T!==0&&T!==A.retryLane&&(A.retryLane=T,Po(u,T),Ka(w,u,T,-1))}return Sw(),w=nw(Error(n(421))),sy(u,h,U,w)}return T.data==="$?"?(h.flags|=128,h.child=u.child,h=E$.bind(null,u),T._reactRetry=h,null):(u=A.treeContext,ki=Ms(T.nextSibling),Ri=h,cn=!0,qa=null,u!==null&&(fa[da++]=Eo,fa[da++]=So,fa[da++]=Yl,Eo=u.id,So=u.overflow,Yl=h),h=uw(h,w.children),h.flags|=4096,h)}function nC(u,h,g){u.lanes|=h;var w=u.alternate;w!==null&&(w.lanes|=h),F1(u.return,h,g)}function lw(u,h,g,w,T){var A=u.memoizedState;A===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:T}:(A.isBackwards=h,A.rendering=null,A.renderingStartTime=0,A.last=w,A.tail=g,A.tailMode=T)}function rC(u,h,g){var w=h.pendingProps,T=w.revealOrder,A=w.tail;if(Kr(u,h,w.children,g),w=vn.current,(w&2)!==0)w=w&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&nC(u,g,h);else if(u.tag===19)nC(u,g,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}w&=1}if(tn(vn,w),(h.mode&1)===0)h.memoizedState=null;else switch(T){case"forwards":for(g=h.child,T=null;g!==null;)u=g.alternate,u!==null&&Jg(u)===null&&(T=g),g=g.sibling;g=T,g===null?(T=h.child,h.child=null):(T=g.sibling,g.sibling=null),lw(h,!1,T,g,A);break;case"backwards":for(g=null,T=h.child,h.child=null;T!==null;){if(u=T.alternate,u!==null&&Jg(u)===null){h.child=T;break}u=T.sibling,T.sibling=g,g=T,T=u}lw(h,!0,g,null,A);break;case"together":lw(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function oy(u,h){(h.mode&1)===0&&u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2)}function Ao(u,h,g){if(u!==null&&(h.dependencies=u.dependencies),nc|=h.lanes,(g&h.childLanes)===0)return null;if(u!==null&&h.child!==u.child)throw Error(n(153));if(h.child!==null){for(u=h.child,g=$u(u,u.pendingProps),h.child=g,g.return=h;u.sibling!==null;)u=u.sibling,g=g.sibling=$u(u,u.pendingProps),g.return=h;g.sibling=null}return h.child}function h$(u,h,g){switch(h.tag){case 3:JM(h),Mh();break;case 5:yM(h);break;case 1:hi(h.type)&&Ug(h);break;case 4:z1(h,h.stateNode.containerInfo);break;case 10:var w=h.type._context,T=h.memoizedProps.value;tn(Zg,w._currentValue),w._currentValue=T;break;case 13:if(w=h.memoizedState,w!==null)return w.dehydrated!==null?(tn(vn,vn.current&1),h.flags|=128,null):(g&h.child.childLanes)!==0?tC(u,h,g):(tn(vn,vn.current&1),u=Ao(u,h,g),u!==null?u.sibling:null);tn(vn,vn.current&1);break;case 19:if(w=(g&h.childLanes)!==0,(u.flags&128)!==0){if(w)return rC(u,h,g);h.flags|=128}if(T=h.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),tn(vn,vn.current),w)break;return null;case 22:case 23:return h.lanes=0,XM(u,h,g)}return Ao(u,h,g)}var iC,cw,aC,sC;iC=function(u,h){for(var g=h.child;g!==null;){if(g.tag===5||g.tag===6)u.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},cw=function(){},aC=function(u,h,g,w){var T=u.memoizedProps;if(T!==w){u=h.stateNode,ec(Cs.current);var A=null;switch(g){case"input":T=ft(u,T),w=ft(u,w),A=[];break;case"select":T=ie({},T,{value:void 0}),w=ie({},w,{value:void 0}),A=[];break;case"textarea":T=_r(u,T),w=_r(u,w),A=[];break;default:typeof T.onClick!="function"&&typeof w.onClick=="function"&&(u.onclick=we)}Pi(g,w);var U;g=null;for(pe in T)if(!w.hasOwnProperty(pe)&&T.hasOwnProperty(pe)&&T[pe]!=null)if(pe==="style"){var X=T[pe];for(U in X)X.hasOwnProperty(U)&&(g||(g={}),g[U]="")}else pe!=="dangerouslySetInnerHTML"&&pe!=="children"&&pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&pe!=="autoFocus"&&(i.hasOwnProperty(pe)?A||(A=[]):(A=A||[]).push(pe,null));for(pe in w){var J=w[pe];if(X=T?.[pe],w.hasOwnProperty(pe)&&J!==X&&(J!=null||X!=null))if(pe==="style")if(X){for(U in X)!X.hasOwnProperty(U)||J&&J.hasOwnProperty(U)||(g||(g={}),g[U]="");for(U in J)J.hasOwnProperty(U)&&X[U]!==J[U]&&(g||(g={}),g[U]=J[U])}else g||(A||(A=[]),A.push(pe,g)),g=J;else pe==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,X=X?X.__html:void 0,J!=null&&X!==J&&(A=A||[]).push(pe,J)):pe==="children"?typeof J!="string"&&typeof J!="number"||(A=A||[]).push(pe,""+J):pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&(i.hasOwnProperty(pe)?(J!=null&&pe==="onScroll"&&Ht("scroll",u),A||X===J||(A=[])):(A=A||[]).push(pe,J))}g&&(A=A||[]).push("style",g);var pe=A;(h.updateQueue=pe)&&(h.flags|=4)}},sC=function(u,h,g,w){g!==w&&(h.flags|=4)};function Gd(u,h){if(!cn)switch(u.tailMode){case"hidden":h=u.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:w.sibling=null}}function Ir(u){var h=u.alternate!==null&&u.alternate.child===u.child,g=0,w=0;if(h)for(var T=u.child;T!==null;)g|=T.lanes|T.childLanes,w|=T.subtreeFlags&14680064,w|=T.flags&14680064,T.return=u,T=T.sibling;else for(T=u.child;T!==null;)g|=T.lanes|T.childLanes,w|=T.subtreeFlags,w|=T.flags,T.return=u,T=T.sibling;return u.subtreeFlags|=w,u.childLanes=g,h}function f$(u,h,g){var w=h.pendingProps;switch(R1(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ir(h),null;case 1:return hi(h.type)&&zg(),Ir(h),null;case 3:return w=h.stateNode,kh(),an(ci),an(Tr),G1(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(u===null||u.child===null)&&(Hg(h)?h.flags|=4:u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,qa!==null&&(bw(qa),qa=null))),cw(u,h),Ir(h),null;case 5:U1(h);var T=ec(Bd.current);if(g=h.type,u!==null&&h.stateNode!=null)aC(u,h,g,w,T),u.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!w){if(h.stateNode===null)throw Error(n(166));return Ir(h),null}if(u=ec(Cs.current),Hg(h)){w=h.stateNode,g=h.type;var A=h.memoizedProps;switch(w[ha]=h,w[Mu]=A,u=(h.mode&1)!==0,g){case"dialog":Ht("cancel",w),Ht("close",w);break;case"iframe":case"object":case"embed":Ht("load",w);break;case"video":case"audio":for(T=0;T<Tu.length;T++)Ht(Tu[T],w);break;case"source":Ht("error",w);break;case"img":case"image":case"link":Ht("error",w),Ht("load",w);break;case"details":Ht("toggle",w);break;case"input":Xt(w,A),Ht("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!A.multiple},Ht("invalid",w);break;case"textarea":Gi(w,A),Ht("invalid",w)}Pi(g,A),T=null;for(var U in A)if(A.hasOwnProperty(U)){var X=A[U];U==="children"?typeof X=="string"?w.textContent!==X&&(A.suppressHydrationWarning!==!0&&de(w.textContent,X,u),T=["children",X]):typeof X=="number"&&w.textContent!==""+X&&(A.suppressHydrationWarning!==!0&&de(w.textContent,X,u),T=["children",""+X]):i.hasOwnProperty(U)&&X!=null&&U==="onScroll"&&Ht("scroll",w)}switch(g){case"input":rt(w),Un(w,A,!0);break;case"textarea":rt(w),Si(w);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(w.onclick=we)}w=T,h.updateQueue=w,w!==null&&(h.flags|=4)}else{U=T.nodeType===9?T:T.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=Xs(g)),u==="http://www.w3.org/1999/xhtml"?g==="script"?(u=U.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof w.is=="string"?u=U.createElement(g,{is:w.is}):(u=U.createElement(g),g==="select"&&(U=u,w.multiple?U.multiple=!0:w.size&&(U.size=w.size))):u=U.createElementNS(u,g),u[ha]=h,u[Mu]=w,iC(u,h,!1,!1),h.stateNode=u;e:{switch(U=Wi(g,w),g){case"dialog":Ht("cancel",u),Ht("close",u),T=w;break;case"iframe":case"object":case"embed":Ht("load",u),T=w;break;case"video":case"audio":for(T=0;T<Tu.length;T++)Ht(Tu[T],u);T=w;break;case"source":Ht("error",u),T=w;break;case"img":case"image":case"link":Ht("error",u),Ht("load",u),T=w;break;case"details":Ht("toggle",u),T=w;break;case"input":Xt(u,w),T=ft(u,w),Ht("invalid",u);break;case"option":T=w;break;case"select":u._wrapperState={wasMultiple:!!w.multiple},T=ie({},w,{value:void 0}),Ht("invalid",u);break;case"textarea":Gi(u,w),T=_r(u,w),Ht("invalid",u);break;default:T=w}Pi(g,T),X=T;for(A in X)if(X.hasOwnProperty(A)){var J=X[A];A==="style"?hs(u,J):A==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&sh(u,J)):A==="children"?typeof J=="string"?(g!=="textarea"||J!=="")&&cs(u,J):typeof J=="number"&&cs(u,""+J):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?J!=null&&A==="onScroll"&&Ht("scroll",u):J!=null&&D(u,A,J,U))}switch(g){case"input":rt(u),Un(u,w,!1);break;case"textarea":rt(u),Si(u);break;case"option":w.value!=null&&u.setAttribute("value",""+Ye(w.value));break;case"select":u.multiple=!!w.multiple,A=w.value,A!=null?gn(u,!!w.multiple,A,!1):w.defaultValue!=null&&gn(u,!!w.multiple,w.defaultValue,!0);break;default:typeof T.onClick=="function"&&(u.onclick=we)}switch(g){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Ir(h),null;case 6:if(u&&h.stateNode!=null)sC(u,h,u.memoizedProps,w);else{if(typeof w!="string"&&h.stateNode===null)throw Error(n(166));if(g=ec(Bd.current),ec(Cs.current),Hg(h)){if(w=h.stateNode,g=h.memoizedProps,w[ha]=h,(A=w.nodeValue!==g)&&(u=Ri,u!==null))switch(u.tag){case 3:de(w.nodeValue,g,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&de(w.nodeValue,g,(u.mode&1)!==0)}A&&(h.flags|=4)}else w=(g.nodeType===9?g:g.ownerDocument).createTextNode(w),w[ha]=h,h.stateNode=w}return Ir(h),null;case 13:if(an(vn),w=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(cn&&ki!==null&&(h.mode&1)!==0&&(h.flags&128)===0)lM(),Mh(),h.flags|=98560,A=!1;else if(A=Hg(h),w!==null&&w.dehydrated!==null){if(u===null){if(!A)throw Error(n(318));if(A=h.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[ha]=h}else Mh(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Ir(h),A=!1}else qa!==null&&(bw(qa),qa=null),A=!0;if(!A)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=g,h):(w=w!==null,w!==(u!==null&&u.memoizedState!==null)&&w&&(h.child.flags|=8192,(h.mode&1)!==0&&(u===null||(vn.current&1)!==0?Hn===0&&(Hn=3):Sw())),h.updateQueue!==null&&(h.flags|=4),Ir(h),null);case 4:return kh(),cw(u,h),u===null&&Au(h.stateNode.containerInfo),Ir(h),null;case 10:return V1(h.type._context),Ir(h),null;case 17:return hi(h.type)&&zg(),Ir(h),null;case 19:if(an(vn),A=h.memoizedState,A===null)return Ir(h),null;if(w=(h.flags&128)!==0,U=A.rendering,U===null)if(w)Gd(A,!1);else{if(Hn!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(U=Jg(u),U!==null){for(h.flags|=128,Gd(A,!1),w=U.updateQueue,w!==null&&(h.updateQueue=w,h.flags|=4),h.subtreeFlags=0,w=g,g=h.child;g!==null;)A=g,u=w,A.flags&=14680066,U=A.alternate,U===null?(A.childLanes=0,A.lanes=u,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=U.childLanes,A.lanes=U.lanes,A.child=U.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=U.memoizedProps,A.memoizedState=U.memoizedState,A.updateQueue=U.updateQueue,A.type=U.type,u=U.dependencies,A.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),g=g.sibling;return tn(vn,vn.current&1|2),h.child}u=u.sibling}A.tail!==null&&Yt()>jh&&(h.flags|=128,w=!0,Gd(A,!1),h.lanes=4194304)}else{if(!w)if(u=Jg(U),u!==null){if(h.flags|=128,w=!0,g=u.updateQueue,g!==null&&(h.updateQueue=g,h.flags|=4),Gd(A,!0),A.tail===null&&A.tailMode==="hidden"&&!U.alternate&&!cn)return Ir(h),null}else 2*Yt()-A.renderingStartTime>jh&&g!==1073741824&&(h.flags|=128,w=!0,Gd(A,!1),h.lanes=4194304);A.isBackwards?(U.sibling=h.child,h.child=U):(g=A.last,g!==null?g.sibling=U:h.child=U,A.last=U)}return A.tail!==null?(h=A.tail,A.rendering=h,A.tail=h.sibling,A.renderingStartTime=Yt(),h.sibling=null,g=vn.current,tn(vn,w?g&1|2:g&1),h):(Ir(h),null);case 22:case 23:return Ew(),w=h.memoizedState!==null,u!==null&&u.memoizedState!==null!==w&&(h.flags|=8192),w&&(h.mode&1)!==0?(Ni&1073741824)!==0&&(Ir(h),h.subtreeFlags&6&&(h.flags|=8192)):Ir(h),null;case 24:return null;case 25:return null}throw Error(n(156,h.tag))}function d$(u,h){switch(R1(h),h.tag){case 1:return hi(h.type)&&zg(),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return kh(),an(ci),an(Tr),G1(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 5:return U1(h),null;case 13:if(an(vn),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(n(340));Mh()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return an(vn),null;case 4:return kh(),null;case 10:return V1(h.type._context),null;case 22:case 23:return Ew(),null;case 24:return null;default:return null}}var uy=!1,Mr=!1,p$=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Lh(u,h){var g=u.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(w){xn(u,h,w)}else g.current=null}function hw(u,h,g){try{g()}catch(w){xn(u,h,w)}}var oC=!1;function m$(u,h){if(Fe=na,u=Id(),Md(u)){if("selectionStart"in u)var g={start:u.selectionStart,end:u.selectionEnd};else e:{g=(g=u.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var T=w.anchorOffset,A=w.focusNode;w=w.focusOffset;try{g.nodeType,A.nodeType}catch{g=null;break e}var U=0,X=-1,J=-1,pe=0,Te=0,Ae=u,Ee=null;t:for(;;){for(var $e;Ae!==g||T!==0&&Ae.nodeType!==3||(X=U+T),Ae!==A||w!==0&&Ae.nodeType!==3||(J=U+w),Ae.nodeType===3&&(U+=Ae.nodeValue.length),($e=Ae.firstChild)!==null;)Ee=Ae,Ae=$e;for(;;){if(Ae===u)break t;if(Ee===g&&++pe===T&&(X=U),Ee===A&&++Te===w&&(J=U),($e=Ae.nextSibling)!==null)break;Ae=Ee,Ee=Ae.parentNode}Ae=$e}g=X===-1||J===-1?null:{start:X,end:J}}else g=null}g=g||{start:0,end:0}}else g=null;for(Je={focusedElem:u,selectionRange:g},na=!1,Ue=h;Ue!==null;)if(h=Ue,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,Ue=u;else for(;Ue!==null;){h=Ue;try{var Ge=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(Ge!==null){var He=Ge.memoizedProps,Cn=Ge.memoizedState,le=h.stateNode,te=le.getSnapshotBeforeUpdate(h.elementType===h.type?He:Ga(h.type,He),Cn);le.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var ce=h.stateNode.containerInfo;ce.nodeType===1?ce.textContent="":ce.nodeType===9&&ce.documentElement&&ce.removeChild(ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ce){xn(h,h.return,Ce)}if(u=h.sibling,u!==null){u.return=h.return,Ue=u;break}Ue=h.return}return Ge=oC,oC=!1,Ge}function Wd(u,h,g){var w=h.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var T=w=w.next;do{if((T.tag&u)===u){var A=T.destroy;T.destroy=void 0,A!==void 0&&hw(h,g,A)}T=T.next}while(T!==w)}}function ly(u,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&u)===u){var w=g.create;g.destroy=w()}g=g.next}while(g!==h)}}function fw(u){var h=u.ref;if(h!==null){var g=u.stateNode;u.tag,u=g,typeof h=="function"?h(u):h.current=u}}function uC(u){var h=u.alternate;h!==null&&(u.alternate=null,uC(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&(delete h[ha],delete h[Mu],delete h[Cu],delete h[A1],delete h[I1])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function lC(u){return u.tag===5||u.tag===3||u.tag===4}function cC(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||lC(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function dw(u,h,g){var w=u.tag;if(w===5||w===6)u=u.stateNode,h?g.nodeType===8?g.parentNode.insertBefore(u,h):g.insertBefore(u,h):(g.nodeType===8?(h=g.parentNode,h.insertBefore(u,g)):(h=g,h.appendChild(u)),g=g._reactRootContainer,g!=null||h.onclick!==null||(h.onclick=we));else if(w!==4&&(u=u.child,u!==null))for(dw(u,h,g),u=u.sibling;u!==null;)dw(u,h,g),u=u.sibling}function pw(u,h,g){var w=u.tag;if(w===5||w===6)u=u.stateNode,h?g.insertBefore(u,h):g.appendChild(u);else if(w!==4&&(u=u.child,u!==null))for(pw(u,h,g),u=u.sibling;u!==null;)pw(u,h,g),u=u.sibling}var hr=null,Wa=!1;function Du(u,h,g){for(g=g.child;g!==null;)hC(u,h,g),g=g.sibling}function hC(u,h,g){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(ys,g)}catch{}switch(g.tag){case 5:Mr||Lh(g,h);case 6:var w=hr,T=Wa;hr=null,Du(u,h,g),hr=w,Wa=T,hr!==null&&(Wa?(u=hr,g=g.stateNode,u.nodeType===8?u.parentNode.removeChild(g):u.removeChild(g)):hr.removeChild(g.stateNode));break;case 18:hr!==null&&(Wa?(u=hr,g=g.stateNode,u.nodeType===8?Dd(u.parentNode,g):u.nodeType===1&&Dd(u,g),xr(u)):Dd(hr,g.stateNode));break;case 4:w=hr,T=Wa,hr=g.stateNode.containerInfo,Wa=!0,Du(u,h,g),hr=w,Wa=T;break;case 0:case 11:case 14:case 15:if(!Mr&&(w=g.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){T=w=w.next;do{var A=T,U=A.destroy;A=A.tag,U!==void 0&&((A&2)!==0||(A&4)!==0)&&hw(g,h,U),T=T.next}while(T!==w)}Du(u,h,g);break;case 1:if(!Mr&&(Lh(g,h),w=g.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=g.memoizedProps,w.state=g.memoizedState,w.componentWillUnmount()}catch(X){xn(g,h,X)}Du(u,h,g);break;case 21:Du(u,h,g);break;case 22:g.mode&1?(Mr=(w=Mr)||g.memoizedState!==null,Du(u,h,g),Mr=w):Du(u,h,g);break;default:Du(u,h,g)}}function fC(u){var h=u.updateQueue;if(h!==null){u.updateQueue=null;var g=u.stateNode;g===null&&(g=u.stateNode=new p$),h.forEach(function(w){var T=S$.bind(null,u,w);g.has(w)||(g.add(w),w.then(T,T))})}}function Ha(u,h){var g=h.deletions;if(g!==null)for(var w=0;w<g.length;w++){var T=g[w];try{var A=u,U=h,X=U;e:for(;X!==null;){switch(X.tag){case 5:hr=X.stateNode,Wa=!1;break e;case 3:hr=X.stateNode.containerInfo,Wa=!0;break e;case 4:hr=X.stateNode.containerInfo,Wa=!0;break e}X=X.return}if(hr===null)throw Error(n(160));hC(A,U,T),hr=null,Wa=!1;var J=T.alternate;J!==null&&(J.return=null),T.return=null}catch(pe){xn(T,h,pe)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)dC(h,u),h=h.sibling}function dC(u,h){var g=u.alternate,w=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Ha(h,u),Rs(u),w&4){try{Wd(3,u,u.return),ly(3,u)}catch(He){xn(u,u.return,He)}try{Wd(5,u,u.return)}catch(He){xn(u,u.return,He)}}break;case 1:Ha(h,u),Rs(u),w&512&&g!==null&&Lh(g,g.return);break;case 5:if(Ha(h,u),Rs(u),w&512&&g!==null&&Lh(g,g.return),u.flags&32){var T=u.stateNode;try{cs(T,"")}catch(He){xn(u,u.return,He)}}if(w&4&&(T=u.stateNode,T!=null)){var A=u.memoizedProps,U=g!==null?g.memoizedProps:A,X=u.type,J=u.updateQueue;if(u.updateQueue=null,J!==null)try{X==="input"&&A.type==="radio"&&A.name!=null&&zt(T,A),Wi(X,U);var pe=Wi(X,A);for(U=0;U<J.length;U+=2){var Te=J[U],Ae=J[U+1];Te==="style"?hs(T,Ae):Te==="dangerouslySetInnerHTML"?sh(T,Ae):Te==="children"?cs(T,Ae):D(T,Te,Ae,pe)}switch(X){case"input":Jt(T,A);break;case"textarea":Zs(T,A);break;case"select":var Ee=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!A.multiple;var $e=A.value;$e!=null?gn(T,!!A.multiple,$e,!1):Ee!==!!A.multiple&&(A.defaultValue!=null?gn(T,!!A.multiple,A.defaultValue,!0):gn(T,!!A.multiple,A.multiple?[]:"",!1))}T[Mu]=A}catch(He){xn(u,u.return,He)}}break;case 6:if(Ha(h,u),Rs(u),w&4){if(u.stateNode===null)throw Error(n(162));T=u.stateNode,A=u.memoizedProps;try{T.nodeValue=A}catch(He){xn(u,u.return,He)}}break;case 3:if(Ha(h,u),Rs(u),w&4&&g!==null&&g.memoizedState.isDehydrated)try{xr(h.containerInfo)}catch(He){xn(u,u.return,He)}break;case 4:Ha(h,u),Rs(u);break;case 13:Ha(h,u),Rs(u),T=u.child,T.flags&8192&&(A=T.memoizedState!==null,T.stateNode.isHidden=A,!A||T.alternate!==null&&T.alternate.memoizedState!==null||(yw=Yt())),w&4&&fC(u);break;case 22:if(Te=g!==null&&g.memoizedState!==null,u.mode&1?(Mr=(pe=Mr)||Te,Ha(h,u),Mr=pe):Ha(h,u),Rs(u),w&8192){if(pe=u.memoizedState!==null,(u.stateNode.isHidden=pe)&&!Te&&(u.mode&1)!==0)for(Ue=u,Te=u.child;Te!==null;){for(Ae=Ue=Te;Ue!==null;){switch(Ee=Ue,$e=Ee.child,Ee.tag){case 0:case 11:case 14:case 15:Wd(4,Ee,Ee.return);break;case 1:Lh(Ee,Ee.return);var Ge=Ee.stateNode;if(typeof Ge.componentWillUnmount=="function"){w=Ee,g=Ee.return;try{h=w,Ge.props=h.memoizedProps,Ge.state=h.memoizedState,Ge.componentWillUnmount()}catch(He){xn(w,g,He)}}break;case 5:Lh(Ee,Ee.return);break;case 22:if(Ee.memoizedState!==null){gC(Ae);continue}}$e!==null?($e.return=Ee,Ue=$e):gC(Ae)}Te=Te.sibling}e:for(Te=null,Ae=u;;){if(Ae.tag===5){if(Te===null){Te=Ae;try{T=Ae.stateNode,pe?(A=T.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(X=Ae.stateNode,J=Ae.memoizedProps.style,U=J!=null&&J.hasOwnProperty("display")?J.display:null,X.style.display=Va("display",U))}catch(He){xn(u,u.return,He)}}}else if(Ae.tag===6){if(Te===null)try{Ae.stateNode.nodeValue=pe?"":Ae.memoizedProps}catch(He){xn(u,u.return,He)}}else if((Ae.tag!==22&&Ae.tag!==23||Ae.memoizedState===null||Ae===u)&&Ae.child!==null){Ae.child.return=Ae,Ae=Ae.child;continue}if(Ae===u)break e;for(;Ae.sibling===null;){if(Ae.return===null||Ae.return===u)break e;Te===Ae&&(Te=null),Ae=Ae.return}Te===Ae&&(Te=null),Ae.sibling.return=Ae.return,Ae=Ae.sibling}}break;case 19:Ha(h,u),Rs(u),w&4&&fC(u);break;case 21:break;default:Ha(h,u),Rs(u)}}function Rs(u){var h=u.flags;if(h&2){try{e:{for(var g=u.return;g!==null;){if(lC(g)){var w=g;break e}g=g.return}throw Error(n(160))}switch(w.tag){case 5:var T=w.stateNode;w.flags&32&&(cs(T,""),w.flags&=-33);var A=cC(u);pw(u,A,T);break;case 3:case 4:var U=w.stateNode.containerInfo,X=cC(u);dw(u,X,U);break;default:throw Error(n(161))}}catch(J){xn(u,u.return,J)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function g$(u,h,g){Ue=u,pC(u)}function pC(u,h,g){for(var w=(u.mode&1)!==0;Ue!==null;){var T=Ue,A=T.child;if(T.tag===22&&w){var U=T.memoizedState!==null||uy;if(!U){var X=T.alternate,J=X!==null&&X.memoizedState!==null||Mr;X=uy;var pe=Mr;if(uy=U,(Mr=J)&&!pe)for(Ue=T;Ue!==null;)U=Ue,J=U.child,U.tag===22&&U.memoizedState!==null?yC(T):J!==null?(J.return=U,Ue=J):yC(T);for(;A!==null;)Ue=A,pC(A),A=A.sibling;Ue=T,uy=X,Mr=pe}mC(u)}else(T.subtreeFlags&8772)!==0&&A!==null?(A.return=T,Ue=A):mC(u)}}function mC(u){for(;Ue!==null;){var h=Ue;if((h.flags&8772)!==0){var g=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:Mr||ly(5,h);break;case 1:var w=h.stateNode;if(h.flags&4&&!Mr)if(g===null)w.componentDidMount();else{var T=h.elementType===h.type?g.memoizedProps:Ga(h.type,g.memoizedProps);w.componentDidUpdate(T,g.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var A=h.updateQueue;A!==null&&gM(h,A,w);break;case 3:var U=h.updateQueue;if(U!==null){if(g=null,h.child!==null)switch(h.child.tag){case 5:g=h.child.stateNode;break;case 1:g=h.child.stateNode}gM(h,U,g)}break;case 5:var X=h.stateNode;if(g===null&&h.flags&4){g=X;var J=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&g.focus();break;case"img":J.src&&(g.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var pe=h.alternate;if(pe!==null){var Te=pe.memoizedState;if(Te!==null){var Ae=Te.dehydrated;Ae!==null&&xr(Ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Mr||h.flags&512&&fw(h)}catch(Ee){xn(h,h.return,Ee)}}if(h===u){Ue=null;break}if(g=h.sibling,g!==null){g.return=h.return,Ue=g;break}Ue=h.return}}function gC(u){for(;Ue!==null;){var h=Ue;if(h===u){Ue=null;break}var g=h.sibling;if(g!==null){g.return=h.return,Ue=g;break}Ue=h.return}}function yC(u){for(;Ue!==null;){var h=Ue;try{switch(h.tag){case 0:case 11:case 15:var g=h.return;try{ly(4,h)}catch(J){xn(h,g,J)}break;case 1:var w=h.stateNode;if(typeof w.componentDidMount=="function"){var T=h.return;try{w.componentDidMount()}catch(J){xn(h,T,J)}}var A=h.return;try{fw(h)}catch(J){xn(h,A,J)}break;case 5:var U=h.return;try{fw(h)}catch(J){xn(h,U,J)}}}catch(J){xn(h,h.return,J)}if(h===u){Ue=null;break}var X=h.sibling;if(X!==null){X.return=h.return,Ue=X;break}Ue=h.return}}var y$=Math.ceil,cy=$.ReactCurrentDispatcher,mw=$.ReactCurrentOwner,ga=$.ReactCurrentBatchConfig,It=0,rr=null,jn=null,fr=0,Ni=0,Dh=Ou(0),Hn=0,Hd=null,nc=0,hy=0,gw=0,Kd=null,di=null,yw=0,jh=1/0,Io=null,fy=!1,vw=null,ju=null,dy=!1,Vu=null,py=0,Zd=0,_w=null,my=-1,gy=0;function Zr(){return(It&6)!==0?Yt():my!==-1?my:my=Yt()}function Fu(u){return(u.mode&1)===0?1:(It&2)!==0&&fr!==0?fr&-fr:e$.transition!==null?(gy===0&&(gy=Vl()),gy):(u=pt,u!==0||(u=window.event,u=u===void 0?16:mt(u.type)),u)}function Ka(u,h,g,w){if(50<Zd)throw Zd=0,_w=null,Error(n(185));Br(u,g,w),((It&2)===0||u!==rr)&&(u===rr&&((It&2)===0&&(hy|=g),Hn===4&&Bu(u,fr)),pi(u,w),g===1&&It===0&&(h.mode&1)===0&&(jh=Yt()+500,qg&&ku()))}function pi(u,h){var g=u.callbackNode;Ji(u,h);var w=kt(u,u===rr?fr:0);if(w===0)g!==null&&no(g),u.callbackNode=null,u.callbackPriority=0;else if(h=w&-w,u.callbackPriority!==h){if(g!=null&&no(g),h===1)u.tag===0?JB(_C.bind(null,u)):iM(_C.bind(null,u)),Pr(function(){(It&6)===0&&ku()}),g=null;else{switch(br(w)){case 1:g=lu;break;case 4:g=jl;break;case 16:g=io;break;case 536870912:g=Yi;break;default:g=io}g=AC(g,vC.bind(null,u))}u.callbackPriority=h,u.callbackNode=g}}function vC(u,h){if(my=-1,gy=0,(It&6)!==0)throw Error(n(327));var g=u.callbackNode;if(Vh()&&u.callbackNode!==g)return null;var w=kt(u,u===rr?fr:0);if(w===0)return null;if((w&30)!==0||(w&u.expiredLanes)!==0||h)h=yy(u,w);else{h=w;var T=It;It|=2;var A=bC();(rr!==u||fr!==h)&&(Io=null,jh=Yt()+500,ic(u,h));do try{w$();break}catch(X){wC(u,X)}while(!0);j1(),cy.current=A,It=T,jn!==null?h=0:(rr=null,fr=0,h=Hn)}if(h!==0){if(h===2&&(T=er(u),T!==0&&(w=T,h=ww(u,T))),h===1)throw g=Hd,ic(u,0),Bu(u,w),pi(u,Yt()),g;if(h===6)Bu(u,w);else{if(T=u.current.alternate,(w&30)===0&&!v$(T)&&(h=yy(u,w),h===2&&(A=er(u),A!==0&&(w=A,h=ww(u,A))),h===1))throw g=Hd,ic(u,0),Bu(u,w),pi(u,Yt()),g;switch(u.finishedWork=T,u.finishedLanes=w,h){case 0:case 1:throw Error(n(345));case 2:ac(u,di,Io);break;case 3:if(Bu(u,w),(w&130023424)===w&&(h=yw+500-Yt(),10<h)){if(kt(u,0)!==0)break;if(T=u.suspendedLanes,(T&w)!==w){Zr(),u.pingedLanes|=u.suspendedLanes&T;break}u.timeoutHandle=Gn(ac.bind(null,u,di,Io),h);break}ac(u,di,Io);break;case 4:if(Bu(u,w),(w&4194240)===w)break;for(h=u.eventTimes,T=-1;0<w;){var U=31-lt(w);A=1<<U,U=h[U],U>T&&(T=U),w&=~A}if(w=T,w=Yt()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*y$(w/1960))-w,10<w){u.timeoutHandle=Gn(ac.bind(null,u,di,Io),w);break}ac(u,di,Io);break;case 5:ac(u,di,Io);break;default:throw Error(n(329))}}}return pi(u,Yt()),u.callbackNode===g?vC.bind(null,u):null}function ww(u,h){var g=Kd;return u.current.memoizedState.isDehydrated&&(ic(u,h).flags|=256),u=yy(u,h),u!==2&&(h=di,di=g,h!==null&&bw(h)),u}function bw(u){di===null?di=u:di.push.apply(di,u)}function v$(u){for(var h=u;;){if(h.flags&16384){var g=h.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var w=0;w<g.length;w++){var T=g[w],A=T.getSnapshot;T=T.value;try{if(!Ci(A(),T))return!1}catch{return!1}}}if(g=h.child,h.subtreeFlags&16384&&g!==null)g.return=h,h=g;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Bu(u,h){for(h&=~gw,h&=~hy,u.suspendedLanes|=h,u.pingedLanes&=~h,u=u.expirationTimes;0<h;){var g=31-lt(h),w=1<<g;u[g]=-1,h&=~w}}function _C(u){if((It&6)!==0)throw Error(n(327));Vh();var h=kt(u,0);if((h&1)===0)return pi(u,Yt()),null;var g=yy(u,h);if(u.tag!==0&&g===2){var w=er(u);w!==0&&(h=w,g=ww(u,w))}if(g===1)throw g=Hd,ic(u,0),Bu(u,h),pi(u,Yt()),g;if(g===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=h,ac(u,di,Io),pi(u,Yt()),null}function xw(u,h){var g=It;It|=1;try{return u(h)}finally{It=g,It===0&&(jh=Yt()+500,qg&&ku())}}function rc(u){Vu!==null&&Vu.tag===0&&(It&6)===0&&Vh();var h=It;It|=1;var g=ga.transition,w=pt;try{if(ga.transition=null,pt=1,u)return u()}finally{pt=w,ga.transition=g,It=h,(It&6)===0&&ku()}}function Ew(){Ni=Dh.current,an(Dh)}function ic(u,h){u.finishedWork=null,u.finishedLanes=0;var g=u.timeoutHandle;if(g!==-1&&(u.timeoutHandle=-1,Dn(g)),jn!==null)for(g=jn.return;g!==null;){var w=g;switch(R1(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&zg();break;case 3:kh(),an(ci),an(Tr),G1();break;case 5:U1(w);break;case 4:kh();break;case 13:an(vn);break;case 19:an(vn);break;case 10:V1(w.type._context);break;case 22:case 23:Ew()}g=g.return}if(rr=u,jn=u=$u(u.current,null),fr=Ni=h,Hn=0,Hd=null,gw=hy=nc=0,di=Kd=null,Jl!==null){for(h=0;h<Jl.length;h++)if(g=Jl[h],w=g.interleaved,w!==null){g.interleaved=null;var T=w.next,A=g.pending;if(A!==null){var U=A.next;A.next=T,w.next=U}g.pending=w}Jl=null}return u}function wC(u,h){do{var g=jn;try{if(j1(),ey.current=iy,ty){for(var w=_n.memoizedState;w!==null;){var T=w.queue;T!==null&&(T.pending=null),w=w.next}ty=!1}if(tc=0,nr=Wn=_n=null,$d=!1,zd=0,mw.current=null,g===null||g.return===null){Hn=1,Hd=h,jn=null;break}e:{var A=u,U=g.return,X=g,J=h;if(h=fr,X.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var pe=J,Te=X,Ae=Te.tag;if((Te.mode&1)===0&&(Ae===0||Ae===11||Ae===15)){var Ee=Te.alternate;Ee?(Te.updateQueue=Ee.updateQueue,Te.memoizedState=Ee.memoizedState,Te.lanes=Ee.lanes):(Te.updateQueue=null,Te.memoizedState=null)}var $e=GM(U);if($e!==null){$e.flags&=-257,WM($e,U,X,A,h),$e.mode&1&&qM(A,pe,h),h=$e,J=pe;var Ge=h.updateQueue;if(Ge===null){var He=new Set;He.add(J),h.updateQueue=He}else Ge.add(J);break e}else{if((h&1)===0){qM(A,pe,h),Sw();break e}J=Error(n(426))}}else if(cn&&X.mode&1){var Cn=GM(U);if(Cn!==null){(Cn.flags&65536)===0&&(Cn.flags|=256),WM(Cn,U,X,A,h),L1(Nh(J,X));break e}}A=J=Nh(J,X),Hn!==4&&(Hn=2),Kd===null?Kd=[A]:Kd.push(A),A=U;do{switch(A.tag){case 3:A.flags|=65536,h&=-h,A.lanes|=h;var le=zM(A,J,h);mM(A,le);break e;case 1:X=J;var te=A.type,ce=A.stateNode;if((A.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(ju===null||!ju.has(ce)))){A.flags|=65536,h&=-h,A.lanes|=h;var Ce=UM(A,X,h);mM(A,Ce);break e}}A=A.return}while(A!==null)}EC(g)}catch(Ze){h=Ze,jn===g&&g!==null&&(jn=g=g.return);continue}break}while(!0)}function bC(){var u=cy.current;return cy.current=iy,u===null?iy:u}function Sw(){(Hn===0||Hn===3||Hn===2)&&(Hn=4),rr===null||(nc&268435455)===0&&(hy&268435455)===0||Bu(rr,fr)}function yy(u,h){var g=It;It|=2;var w=bC();(rr!==u||fr!==h)&&(Io=null,ic(u,h));do try{_$();break}catch(T){wC(u,T)}while(!0);if(j1(),It=g,cy.current=w,jn!==null)throw Error(n(261));return rr=null,fr=0,Hn}function _$(){for(;jn!==null;)xC(jn)}function w$(){for(;jn!==null&&!ro();)xC(jn)}function xC(u){var h=TC(u.alternate,u,Ni);u.memoizedProps=u.pendingProps,h===null?EC(u):jn=h,mw.current=null}function EC(u){var h=u;do{var g=h.alternate;if(u=h.return,(h.flags&32768)===0){if(g=f$(g,h,Ni),g!==null){jn=g;return}}else{if(g=d$(g,h),g!==null){g.flags&=32767,jn=g;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Hn=6,jn=null;return}}if(h=h.sibling,h!==null){jn=h;return}jn=h=u}while(h!==null);Hn===0&&(Hn=5)}function ac(u,h,g){var w=pt,T=ga.transition;try{ga.transition=null,pt=1,b$(u,h,g,w)}finally{ga.transition=T,pt=w}return null}function b$(u,h,g,w){do Vh();while(Vu!==null);if((It&6)!==0)throw Error(n(327));g=u.finishedWork;var T=u.finishedLanes;if(g===null)return null;if(u.finishedWork=null,u.finishedLanes=0,g===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var A=g.lanes|g.childLanes;if(un(u,A),u===rr&&(jn=rr=null,fr=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||dy||(dy=!0,AC(io,function(){return Vh(),null})),A=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||A){A=ga.transition,ga.transition=null;var U=pt;pt=1;var X=It;It|=4,mw.current=null,m$(u,g),dC(g,u),la(Je),na=!!Fe,Je=Fe=null,u.current=g,g$(g),ai(),It=X,pt=U,ga.transition=A}else u.current=g;if(dy&&(dy=!1,Vu=u,py=T),A=u.pendingLanes,A===0&&(ju=null),vs(g.stateNode),pi(u,Yt()),h!==null)for(w=u.onRecoverableError,g=0;g<h.length;g++)T=h[g],w(T.value,{componentStack:T.stack,digest:T.digest});if(fy)throw fy=!1,u=vw,vw=null,u;return(py&1)!==0&&u.tag!==0&&Vh(),A=u.pendingLanes,(A&1)!==0?u===_w?Zd++:(Zd=0,_w=u):Zd=0,ku(),null}function Vh(){if(Vu!==null){var u=br(py),h=ga.transition,g=pt;try{if(ga.transition=null,pt=16>u?16:u,Vu===null)var w=!1;else{if(u=Vu,Vu=null,py=0,(It&6)!==0)throw Error(n(331));var T=It;for(It|=4,Ue=u.current;Ue!==null;){var A=Ue,U=A.child;if((Ue.flags&16)!==0){var X=A.deletions;if(X!==null){for(var J=0;J<X.length;J++){var pe=X[J];for(Ue=pe;Ue!==null;){var Te=Ue;switch(Te.tag){case 0:case 11:case 15:Wd(8,Te,A)}var Ae=Te.child;if(Ae!==null)Ae.return=Te,Ue=Ae;else for(;Ue!==null;){Te=Ue;var Ee=Te.sibling,$e=Te.return;if(uC(Te),Te===pe){Ue=null;break}if(Ee!==null){Ee.return=$e,Ue=Ee;break}Ue=$e}}}var Ge=A.alternate;if(Ge!==null){var He=Ge.child;if(He!==null){Ge.child=null;do{var Cn=He.sibling;He.sibling=null,He=Cn}while(He!==null)}}Ue=A}}if((A.subtreeFlags&2064)!==0&&U!==null)U.return=A,Ue=U;else e:for(;Ue!==null;){if(A=Ue,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:Wd(9,A,A.return)}var le=A.sibling;if(le!==null){le.return=A.return,Ue=le;break e}Ue=A.return}}var te=u.current;for(Ue=te;Ue!==null;){U=Ue;var ce=U.child;if((U.subtreeFlags&2064)!==0&&ce!==null)ce.return=U,Ue=ce;else e:for(U=te;Ue!==null;){if(X=Ue,(X.flags&2048)!==0)try{switch(X.tag){case 0:case 11:case 15:ly(9,X)}}catch(Ze){xn(X,X.return,Ze)}if(X===U){Ue=null;break e}var Ce=X.sibling;if(Ce!==null){Ce.return=X.return,Ue=Ce;break e}Ue=X.return}}if(It=T,ku(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(ys,u)}catch{}w=!0}return w}finally{pt=g,ga.transition=h}}return!1}function SC(u,h,g){h=Nh(g,h),h=zM(u,h,1),u=Lu(u,h,1),h=Zr(),u!==null&&(Br(u,1,h),pi(u,h))}function xn(u,h,g){if(u.tag===3)SC(u,u,g);else for(;h!==null;){if(h.tag===3){SC(h,u,g);break}else if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(ju===null||!ju.has(w))){u=Nh(g,u),u=UM(h,u,1),h=Lu(h,u,1),u=Zr(),h!==null&&(Br(h,1,u),pi(h,u));break}}h=h.return}}function x$(u,h,g){var w=u.pingCache;w!==null&&w.delete(h),h=Zr(),u.pingedLanes|=u.suspendedLanes&g,rr===u&&(fr&g)===g&&(Hn===4||Hn===3&&(fr&130023424)===fr&&500>Yt()-yw?ic(u,0):gw|=g),pi(u,h)}function PC(u,h){h===0&&((u.mode&1)===0?h=1:(h=Qi,Qi<<=1,(Qi&130023424)===0&&(Qi=4194304)));var g=Zr();u=Po(u,h),u!==null&&(Br(u,h,g),pi(u,g))}function E$(u){var h=u.memoizedState,g=0;h!==null&&(g=h.retryLane),PC(u,g)}function S$(u,h){var g=0;switch(u.tag){case 13:var w=u.stateNode,T=u.memoizedState;T!==null&&(g=T.retryLane);break;case 19:w=u.stateNode;break;default:throw Error(n(314))}w!==null&&w.delete(h),PC(u,g)}var TC;TC=function(u,h,g){if(u!==null)if(u.memoizedProps!==h.pendingProps||ci.current)fi=!0;else{if((u.lanes&g)===0&&(h.flags&128)===0)return fi=!1,h$(u,h,g);fi=(u.flags&131072)!==0}else fi=!1,cn&&(h.flags&1048576)!==0&&aM(h,Wg,h.index);switch(h.lanes=0,h.tag){case 2:var w=h.type;oy(u,h),u=h.pendingProps;var T=Th(h,Tr.current);Rh(h,g),T=K1(null,h,w,u,T,g);var A=Z1();return h.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,hi(w)?(A=!0,Ug(h)):A=!1,h.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,$1(h),T.updater=ay,h.stateNode=T,T._reactInternals=h,tw(h,w,u,g),h=aw(null,h,w,!0,A,g)):(h.tag=0,cn&&A&&O1(h),Kr(null,h,T,g),h=h.child),h;case 16:w=h.elementType;e:{switch(oy(u,h),u=h.pendingProps,T=w._init,w=T(w._payload),h.type=w,T=h.tag=T$(w),u=Ga(w,u),T){case 0:h=iw(null,h,w,u,g);break e;case 1:h=QM(null,h,w,u,g);break e;case 11:h=HM(null,h,w,u,g);break e;case 14:h=KM(null,h,w,Ga(w.type,u),g);break e}throw Error(n(306,w,""))}return h;case 0:return w=h.type,T=h.pendingProps,T=h.elementType===w?T:Ga(w,T),iw(u,h,w,T,g);case 1:return w=h.type,T=h.pendingProps,T=h.elementType===w?T:Ga(w,T),QM(u,h,w,T,g);case 3:e:{if(JM(h),u===null)throw Error(n(387));w=h.pendingProps,A=h.memoizedState,T=A.element,pM(u,h),Qg(h,w,null,g);var U=h.memoizedState;if(w=U.element,A.isDehydrated)if(A={element:w,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},h.updateQueue.baseState=A,h.memoizedState=A,h.flags&256){T=Nh(Error(n(423)),h),h=eC(u,h,w,g,T);break e}else if(w!==T){T=Nh(Error(n(424)),h),h=eC(u,h,w,g,T);break e}else for(ki=Ms(h.stateNode.containerInfo.firstChild),Ri=h,cn=!0,qa=null,g=fM(h,null,w,g),h.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Mh(),w===T){h=Ao(u,h,g);break e}Kr(u,h,w,g)}h=h.child}return h;case 5:return yM(h),u===null&&N1(h),w=h.type,T=h.pendingProps,A=u!==null?u.memoizedProps:null,U=T.children,dt(w,T)?U=null:A!==null&&dt(w,A)&&(h.flags|=32),YM(u,h),Kr(u,h,U,g),h.child;case 6:return u===null&&N1(h),null;case 13:return tC(u,h,g);case 4:return z1(h,h.stateNode.containerInfo),w=h.pendingProps,u===null?h.child=Ch(h,null,w,g):Kr(u,h,w,g),h.child;case 11:return w=h.type,T=h.pendingProps,T=h.elementType===w?T:Ga(w,T),HM(u,h,w,T,g);case 7:return Kr(u,h,h.pendingProps,g),h.child;case 8:return Kr(u,h,h.pendingProps.children,g),h.child;case 12:return Kr(u,h,h.pendingProps.children,g),h.child;case 10:e:{if(w=h.type._context,T=h.pendingProps,A=h.memoizedProps,U=T.value,tn(Zg,w._currentValue),w._currentValue=U,A!==null)if(Ci(A.value,U)){if(A.children===T.children&&!ci.current){h=Ao(u,h,g);break e}}else for(A=h.child,A!==null&&(A.return=h);A!==null;){var X=A.dependencies;if(X!==null){U=A.child;for(var J=X.firstContext;J!==null;){if(J.context===w){if(A.tag===1){J=To(-1,g&-g),J.tag=2;var pe=A.updateQueue;if(pe!==null){pe=pe.shared;var Te=pe.pending;Te===null?J.next=J:(J.next=Te.next,Te.next=J),pe.pending=J}}A.lanes|=g,J=A.alternate,J!==null&&(J.lanes|=g),F1(A.return,g,h),X.lanes|=g;break}J=J.next}}else if(A.tag===10)U=A.type===h.type?null:A.child;else if(A.tag===18){if(U=A.return,U===null)throw Error(n(341));U.lanes|=g,X=U.alternate,X!==null&&(X.lanes|=g),F1(U,g,h),U=A.sibling}else U=A.child;if(U!==null)U.return=A;else for(U=A;U!==null;){if(U===h){U=null;break}if(A=U.sibling,A!==null){A.return=U.return,U=A;break}U=U.return}A=U}Kr(u,h,T.children,g),h=h.child}return h;case 9:return T=h.type,w=h.pendingProps.children,Rh(h,g),T=pa(T),w=w(T),h.flags|=1,Kr(u,h,w,g),h.child;case 14:return w=h.type,T=Ga(w,h.pendingProps),T=Ga(w.type,T),KM(u,h,w,T,g);case 15:return ZM(u,h,h.type,h.pendingProps,g);case 17:return w=h.type,T=h.pendingProps,T=h.elementType===w?T:Ga(w,T),oy(u,h),h.tag=1,hi(w)?(u=!0,Ug(h)):u=!1,Rh(h,g),BM(h,w,T),tw(h,w,T,g),aw(null,h,w,!0,u,g);case 19:return rC(u,h,g);case 22:return XM(u,h,g)}throw Error(n(156,h.tag))};function AC(u,h){return Dl(u,h)}function P$(u,h,g,w){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ya(u,h,g,w){return new P$(u,h,g,w)}function Pw(u){return u=u.prototype,!(!u||!u.isReactComponent)}function T$(u){if(typeof u=="function")return Pw(u)?1:0;if(u!=null){if(u=u.$$typeof,u===G)return 11;if(u===he)return 14}return 2}function $u(u,h){var g=u.alternate;return g===null?(g=ya(u.tag,h,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=h,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&14680064,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,h=u.dependencies,g.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g}function vy(u,h,g,w,T,A){var U=2;if(w=u,typeof u=="function")Pw(u)&&(U=1);else if(typeof u=="string")U=5;else e:switch(u){case C:return sc(g.children,T,A,h);case j:U=8,T|=8;break;case B:return u=ya(12,g,h,T|2),u.elementType=B,u.lanes=A,u;case q:return u=ya(13,g,h,T),u.elementType=q,u.lanes=A,u;case ae:return u=ya(19,g,h,T),u.elementType=ae,u.lanes=A,u;case ye:return _y(g,T,A,h);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case H:U=10;break e;case z:U=9;break e;case G:U=11;break e;case he:U=14;break e;case me:U=16,w=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return h=ya(U,g,h,T),h.elementType=u,h.type=w,h.lanes=A,h}function sc(u,h,g,w){return u=ya(7,u,w,h),u.lanes=g,u}function _y(u,h,g,w){return u=ya(22,u,w,h),u.elementType=ye,u.lanes=g,u.stateNode={isHidden:!1},u}function Tw(u,h,g){return u=ya(6,u,null,h),u.lanes=g,u}function Aw(u,h,g){return h=ya(4,u.children!==null?u.children:[],u.key,h),h.lanes=g,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}function A$(u,h,g,w,T){this.tag=h,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_s(0),this.expirationTimes=_s(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_s(0),this.identifierPrefix=w,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function Iw(u,h,g,w,T,A,U,X,J){return u=new A$(u,h,g,X,J),h===1?(h=1,A===!0&&(h|=8)):h=0,A=ya(3,null,null,h),u.current=A,A.stateNode=u,A.memoizedState={element:w,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},$1(A),u}function I$(u,h,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:w==null?null:""+w,children:u,containerInfo:h,implementation:g}}function IC(u){if(!u)return Ru;u=u._reactInternals;e:{if(ii(u)!==u||u.tag!==1)throw Error(n(170));var h=u;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(hi(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(n(171))}if(u.tag===1){var g=u.type;if(hi(g))return nM(u,g,h)}return h}function MC(u,h,g,w,T,A,U,X,J){return u=Iw(g,w,!0,u,T,A,U,X,J),u.context=IC(null),g=u.current,w=Zr(),T=Fu(g),A=To(w,T),A.callback=h??null,Lu(g,A,T),u.current.lanes=T,Br(u,T,w),pi(u,w),u}function wy(u,h,g,w){var T=h.current,A=Zr(),U=Fu(T);return g=IC(g),h.context===null?h.context=g:h.pendingContext=g,h=To(A,U),h.payload={element:u},w=w===void 0?null:w,w!==null&&(h.callback=w),u=Lu(T,h,U),u!==null&&(Ka(u,T,U,A),Yg(u,T,U)),U}function by(u){return u=u.current,u.child?(u.child.tag===5,u.child.stateNode):null}function CC(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<h?g:h}}function Mw(u,h){CC(u,h),(u=u.alternate)&&CC(u,h)}function M$(){return null}var OC=typeof reportError=="function"?reportError:function(u){console.error(u)};function Cw(u){this._internalRoot=u}xy.prototype.render=Cw.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(n(409));wy(u,h,null,null)},xy.prototype.unmount=Cw.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;rc(function(){wy(null,u,null,null)}),h[jt]=null}};function xy(u){this._internalRoot=u}xy.prototype.unstable_scheduleHydration=function(u){if(u){var h=uo();u={blockedOn:null,target:u,priority:h};for(var g=0;g<ln.length&&h!==0&&h<ln[g].priority;g++);ln.splice(g,0,u),g===0&&xs(u)}};function Ow(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function Ey(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function RC(){}function C$(u,h,g,w,T){if(T){if(typeof w=="function"){var A=w;w=function(){var pe=by(U);A.call(pe)}}var U=MC(h,w,u,0,null,!1,!1,"",RC);return u._reactRootContainer=U,u[jt]=U.current,Au(u.nodeType===8?u.parentNode:u),rc(),U}for(;T=u.lastChild;)u.removeChild(T);if(typeof w=="function"){var X=w;w=function(){var pe=by(J);X.call(pe)}}var J=Iw(u,0,!1,null,null,!1,!1,"",RC);return u._reactRootContainer=J,u[jt]=J.current,Au(u.nodeType===8?u.parentNode:u),rc(function(){wy(h,J,g,w)}),J}function Sy(u,h,g,w,T){var A=g._reactRootContainer;if(A){var U=A;if(typeof T=="function"){var X=T;T=function(){var J=by(U);X.call(J)}}wy(h,U,u,T)}else U=C$(g,h,u,T,w);return by(U)}so=function(u){switch(u.tag){case 3:var h=u.stateNode;if(h.current.memoizedState.isDehydrated){var g=Be(h.pendingLanes);g!==0&&(Ti(h,g|1),pi(h,Yt()),(It&6)===0&&(jh=Yt()+500,ku()))}break;case 13:rc(function(){var w=Po(u,1);if(w!==null){var T=Zr();Ka(w,u,1,T)}}),Mw(u,1)}},ea=function(u){if(u.tag===13){var h=Po(u,134217728);if(h!==null){var g=Zr();Ka(h,u,134217728,g)}Mw(u,134217728)}},oo=function(u){if(u.tag===13){var h=Fu(u),g=Po(u,h);if(g!==null){var w=Zr();Ka(g,u,h,w)}Mw(u,h)}},uo=function(){return pt},ws=function(u,h){var g=pt;try{return pt=u,h()}finally{pt=g}},Hi=function(u,h,g){switch(h){case"input":if(Jt(u,g),h=g.name,g.type==="radio"&&h!=null){for(g=u;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<g.length;h++){var w=g[h];if(w!==u&&w.form===u.form){var T=Sh(w);if(!T)throw Error(n(90));be(w),Jt(w,T)}}}break;case"textarea":Zs(u,g);break;case"select":h=g.value,h!=null&&gn(u,!!g.multiple,h,!1)}},uh=xw,lh=rc;var O$={usingClientEntryPoint:!1,Events:[wo,bo,Sh,ds,ps,xw]},Xd={findFiberByHostInstance:_o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R$={bundleType:Xd.bundleType,version:Xd.version,rendererPackageName:Xd.rendererPackageName,rendererConfig:Xd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=fh(u),u===null?null:u.stateNode},findFiberByHostInstance:Xd.findFiberByHostInstance||M$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Py=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Py.isDisabled&&Py.supportsFiber)try{ys=Py.inject(R$),wr=Py}catch{}}return mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O$,mi.createPortal=function(u,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ow(h))throw Error(n(200));return I$(u,h,null,g)},mi.createRoot=function(u,h){if(!Ow(u))throw Error(n(299));var g=!1,w="",T=OC;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onRecoverableError!==void 0&&(T=h.onRecoverableError)),h=Iw(u,1,!1,null,null,g,!1,w,T),u[jt]=h.current,Au(u.nodeType===8?u.parentNode:u),new Cw(h)},mi.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=fh(h),u=u===null?null:u.stateNode,u},mi.flushSync=function(u){return rc(u)},mi.hydrate=function(u,h,g){if(!Ey(h))throw Error(n(200));return Sy(null,u,h,!0,g)},mi.hydrateRoot=function(u,h,g){if(!Ow(u))throw Error(n(405));var w=g!=null&&g.hydratedSources||null,T=!1,A="",U=OC;if(g!=null&&(g.unstable_strictMode===!0&&(T=!0),g.identifierPrefix!==void 0&&(A=g.identifierPrefix),g.onRecoverableError!==void 0&&(U=g.onRecoverableError)),h=MC(h,null,u,1,g??null,T,!1,A,U),u[jt]=h.current,Au(u),w)for(u=0;u<w.length;u++)g=w[u],T=g._getVersion,T=T(g._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[g,T]:h.mutableSourceEagerHydrationData.push(g,T);return new xy(h)},mi.render=function(u,h,g){if(!Ey(h))throw Error(n(200));return Sy(null,u,h,!1,g)},mi.unmountComponentAtNode=function(u){if(!Ey(u))throw Error(n(40));return u._reactRootContainer?(rc(function(){Sy(null,null,u,!1,function(){u._reactRootContainer=null,u[jt]=null})}),!0):!1},mi.unstable_batchedUpdates=xw,mi.unstable_renderSubtreeIntoContainer=function(u,h,g,w){if(!Ey(g))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return Sy(u,h,g,!1,w)},mi.version="18.3.1-next-f1338f8080-20240426",mi}var BC;function u8(){if(BC)return Nw.exports;BC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Nw.exports=F$(),Nw.exports}var $C;function B$(){if($C)return Ay;$C=1;var t=u8();return Ay.createRoot=t.createRoot,Ay.hydrateRoot=t.hydrateRoot,Ay}var $$=B$();const z$=Zt($$);var zC="popstate";function U$(t={}){function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return uP("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Zp(i)}return G$(e,n,null,t)}function pn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function os(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function q$(){return Math.random().toString(36).substring(2,10)}function UC(t,e){return{usr:t.state,key:t.key,idx:e}}function uP(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ad(e):e,state:n,key:e&&e.key||r||q$()}}function Zp({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ad(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function G$(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",c=null,f=m();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function m(){return(s.state||{idx:null}).idx}function p(){o="POP";let x=m(),M=x==null?null:x-f;f=x,c&&c({action:o,location:S.location,delta:M})}function y(x,M){o="PUSH";let O=uP(S.location,x,M);f=m()+1;let D=UC(O,f),$=S.createHref(O);try{s.pushState(D,"",$)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign($)}a&&c&&c({action:o,location:S.location,delta:1})}function b(x,M){o="REPLACE";let O=uP(S.location,x,M);f=m();let D=UC(O,f),$=S.createHref(O);s.replaceState(D,"",$),a&&c&&c({action:o,location:S.location,delta:0})}function E(x){return W$(x)}let S={get action(){return o},get location(){return t(i,s)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(zC,p),c=x,()=>{i.removeEventListener(zC,p),c=null}},createHref(x){return e(i,x)},createURL:E,encodeLocation(x){let M=E(x);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:y,replace:b,go(x){return s.go(x)}};return S}function W$(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),pn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Zp(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function l8(t,e,n="/"){return H$(t,e,n,!1)}function H$(t,e,n,r){let i=typeof e=="string"?ad(e):e,a=Bo(i.pathname||"/",n);if(a==null)return null;let s=c8(t);K$(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let f=az(a);o=rz(s[c],f,r)}return o}function c8(t,e=[],n=[],r="",i=!1){let a=(s,o,c=i,f)=>{let m={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&c)return;pn(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let p=Do([r,m.relativePath]),y=n.concat(m);s.children&&s.children.length>0&&(pn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),c8(s.children,e,y,p,c)),!(s.path==null&&!s.index)&&e.push({path:p,score:tz(p,s.index),routesMeta:y})};return t.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))a(s,o);else for(let c of h8(s.path))a(s,o,!0,c)}),e}function h8(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=h8(r.join("/")),o=[];return o.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&o.push(...s),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function K$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nz(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Z$=/^:[\w-]+$/,X$=3,Y$=2,Q$=1,J$=10,ez=-2,qC=t=>t==="*";function tz(t,e){let n=t.split("/"),r=n.length;return n.some(qC)&&(r+=ez),e&&(r+=Y$),n.filter(i=>!qC(i)).reduce((i,a)=>i+(Z$.test(a)?X$:a===""?Q$:J$),r)}function nz(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function rz(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let c=r[o],f=o===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",p=Pv({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},m),y=c.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=Pv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:Do([a,p.pathname]),pathnameBase:lz(Do([a,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(a=Do([a,p.pathnameBase]))}return s}function Pv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=iz(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:p},y)=>{if(m==="*"){let E=o[y]||"";s=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const b=o[y];return p&&!b?f[m]=void 0:f[m]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:t}}function iz(t,e=!1,n=!0){os(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function az(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return os(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Bo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var sz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function oz(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ad(t):t,a;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?a=GC(n.substring(1),"/"):a=GC(n,e)):a=e,{pathname:a,search:cz(r),hash:hz(i)}}function GC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function jw(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function v2(t){let e=uz(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function _2(t,e,n,r=!1){let i;typeof t=="string"?i=ad(t):(i={...t},pn(!i.pathname||!i.pathname.includes("?"),jw("?","pathname","search",i)),pn(!i.pathname||!i.pathname.includes("#"),jw("#","pathname","hash",i)),pn(!i.search||!i.search.includes("#"),jw("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let p=e.length-1;if(!r&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}o=p>=0?e[p]:"/"}let c=oz(i,o),f=s&&s!=="/"&&s.endsWith("/"),m=(a||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||m)&&(c.pathname+="/"),c}var Do=t=>t.join("/").replace(/\/\/+/g,"/"),lz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,fz=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function dz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function pz(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var f8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function d8(t,e){let n=t;if(typeof n!="string"||!sz.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(f8)try{let a=new URL(window.location.href),s=n.startsWith("//")?new URL(a.protocol+n):new URL(n),o=Bo(s.pathname,e);s.origin===a.origin&&o!=null?n=o+s.search+s.hash:i=!0}catch{os(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var p8=["POST","PUT","PATCH","DELETE"];new Set(p8);var mz=["GET",...p8];new Set(mz);var sd=Z.createContext(null);sd.displayName="DataRouter";var r0=Z.createContext(null);r0.displayName="DataRouterState";var gz=Z.createContext(!1),m8=Z.createContext({isTransitioning:!1});m8.displayName="ViewTransition";var yz=Z.createContext(new Map);yz.displayName="Fetchers";var vz=Z.createContext(null);vz.displayName="Await";var qi=Z.createContext(null);qi.displayName="Navigation";var Ym=Z.createContext(null);Ym.displayName="Location";var us=Z.createContext({outlet:null,matches:[],isDataRoute:!1});us.displayName="Route";var w2=Z.createContext(null);w2.displayName="RouteError";var g8="REACT_ROUTER_ERROR",_z="REDIRECT",wz="ROUTE_ERROR_RESPONSE";function bz(t){if(t.startsWith(`${g8}:${_z}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function xz(t){if(t.startsWith(`${g8}:${wz}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new fz(e.status,e.statusText,e.data)}catch{}}function Ez(t,{relative:e}={}){pn(od(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=Z.useContext(qi),{hash:i,pathname:a,search:s}=Qm(t,{relative:e}),o=a;return n!=="/"&&(o=a==="/"?n:Do([n,a])),r.createHref({pathname:o,search:s,hash:i})}function od(){return Z.useContext(Ym)!=null}function bl(){return pn(od(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(Ym).location}var y8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function v8(t){Z.useContext(qi).static||Z.useLayoutEffect(t)}function Na(){let{isDataRoute:t}=Z.useContext(us);return t?Dz():Sz()}function Sz(){pn(od(),"useNavigate() may be used only in the context of a <Router> component.");let t=Z.useContext(sd),{basename:e,navigator:n}=Z.useContext(qi),{matches:r}=Z.useContext(us),{pathname:i}=bl(),a=JSON.stringify(v2(r)),s=Z.useRef(!1);return v8(()=>{s.current=!0}),Z.useCallback((c,f={})=>{if(os(s.current,y8),!s.current)return;if(typeof c=="number"){n.go(c);return}let m=_2(c,JSON.parse(a),i,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Do([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,a,i,t])}Z.createContext(null);function i0(){let{matches:t}=Z.useContext(us),e=t[t.length-1];return e?e.params:{}}function Qm(t,{relative:e}={}){let{matches:n}=Z.useContext(us),{pathname:r}=bl(),i=JSON.stringify(v2(n));return Z.useMemo(()=>_2(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Pz(t,e){return _8(t,e)}function _8(t,e,n,r,i){pn(od(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=Z.useContext(qi),{matches:s}=Z.useContext(us),o=s[s.length-1],c=o?o.params:{},f=o?o.pathname:"/",m=o?o.pathnameBase:"/",p=o&&o.route;{let O=p&&p.path||"";b8(f,!p||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let y=bl(),b;if(e){let O=typeof e=="string"?ad(e):e;pn(m==="/"||O.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${O.pathname}" was given in the \`location\` prop.`),b=O}else b=y;let E=b.pathname||"/",S=E;if(m!=="/"){let O=m.replace(/^\//,"").split("/");S="/"+E.replace(/^\//,"").split("/").slice(O.length).join("/")}let x=l8(t,{pathname:S});os(p||x!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),os(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=Cz(x&&x.map(O=>Object.assign({},O,{params:Object.assign({},c,O.params),pathname:Do([m,a.encodeLocation?a.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?m:Do([m,a.encodeLocation?a.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),s,n,r,i);return e&&M?Z.createElement(Ym.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},M):M}function Tz(){let t=Lz(),e=dz(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=Z.createElement(Z.Fragment,null,Z.createElement("p",null," Hey developer "),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:a},"ErrorBoundary")," or"," ",Z.createElement("code",{style:a},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),n?Z.createElement("pre",{style:i},n):null,s)}var Az=Z.createElement(Tz,null),w8=class extends Z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=xz(t.digest);n&&(t=n)}let e=t!==void 0?Z.createElement(us.Provider,{value:this.props.routeContext},Z.createElement(w2.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?Z.createElement(Iz,{error:t},e):e}};w8.contextType=gz;var Vw=new WeakMap;function Iz({children:t,error:e}){let{basename:n}=Z.useContext(qi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=bz(e.digest);if(r){let i=Vw.get(e);if(i)throw i;let a=d8(r.location,n);if(f8&&!Vw.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw Vw.set(e,s),s}return Z.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function Mz({routeContext:t,match:e,children:n}){let r=Z.useContext(sd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),Z.createElement(us.Provider,{value:t},n)}function Cz(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n?.errors;if(s!=null){let m=a.findIndex(p=>p.route.id&&s?.[p.route.id]!==void 0);pn(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let o=!1,c=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=m),p.route.id){let{loaderData:y,errors:b}=n,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||E){o=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}let f=n&&r?(m,p)=>{r(m,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:pz(n.matches),errorInfo:p})}:void 0;return a.reduceRight((m,p,y)=>{let b,E=!1,S=null,x=null;n&&(b=s&&p.route.id?s[p.route.id]:void 0,S=p.route.errorElement||Az,o&&(c<0&&y===0?(b8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,x=null):c===y&&(E=!0,x=p.route.hydrateFallbackElement||null)));let M=e.concat(a.slice(0,y+1)),O=()=>{let D;return b?D=S:E?D=x:p.route.Component?D=Z.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=m,Z.createElement(Mz,{match:p,routeContext:{outlet:m,matches:M,isDataRoute:n!=null},children:D})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?Z.createElement(w8,{location:n.location,revalidation:n.revalidation,component:S,error:b,children:O(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:f}):O()},null)}function b2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Oz(t){let e=Z.useContext(sd);return pn(e,b2(t)),e}function Rz(t){let e=Z.useContext(r0);return pn(e,b2(t)),e}function kz(t){let e=Z.useContext(us);return pn(e,b2(t)),e}function x2(t){let e=kz(t),n=e.matches[e.matches.length-1];return pn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Nz(){return x2("useRouteId")}function Lz(){let t=Z.useContext(w2),e=Rz("useRouteError"),n=x2("useRouteError");return t!==void 0?t:e.errors?.[n]}function Dz(){let{router:t}=Oz("useNavigate"),e=x2("useNavigate"),n=Z.useRef(!1);return v8(()=>{n.current=!0}),Z.useCallback(async(i,a={})=>{os(n.current,y8),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var WC={};function b8(t,e,n){!e&&!WC[t]&&(WC[t]=!0,os(!1,n))}Z.memo(jz);function jz({routes:t,future:e,state:n,onError:r}){return _8(t,void 0,n,r,e)}function HC({to:t,replace:e,state:n,relative:r}){pn(od(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=Z.useContext(qi);os(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=Z.useContext(us),{pathname:s}=bl(),o=Na(),c=_2(t,v2(a),s,r==="path"),f=JSON.stringify(c);return Z.useEffect(()=>{o(JSON.parse(f),{replace:e,state:n,relative:r})},[o,f,r,e,n]),null}function ba(t){pn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Vz({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){pn(!od(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=Z.useMemo(()=>({basename:o,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[o,i,a,s]);typeof n=="string"&&(n=ad(n));let{pathname:f="/",search:m="",hash:p="",state:y=null,key:b="default"}=n,E=Z.useMemo(()=>{let S=Bo(f,o);return S==null?null:{location:{pathname:S,search:m,hash:p,state:y,key:b},navigationType:r}},[o,f,m,p,y,b,r]);return os(E!=null,`<Router basename="${o}"> is not able to match the URL "${f}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:Z.createElement(qi.Provider,{value:c},Z.createElement(Ym.Provider,{children:e,value:E}))}function Fz({children:t,location:e}){return Pz(lP(t),e)}function lP(t,e=[]){let n=[];return Z.Children.forEach(t,(r,i)=>{if(!Z.isValidElement(r))return;let a=[...e,i];if(r.type===Z.Fragment){n.push.apply(n,lP(r.props.children,a));return}pn(r.type===ba,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=lP(r.props.children,a)),n.push(s)}),n}var nv="get",rv="application/x-www-form-urlencoded";function a0(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Bz(t){return a0(t)&&t.tagName.toLowerCase()==="button"}function $z(t){return a0(t)&&t.tagName.toLowerCase()==="form"}function zz(t){return a0(t)&&t.tagName.toLowerCase()==="input"}function Uz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qz(t,e){return t.button===0&&(!e||e==="_self")&&!Uz(t)}var Iy=null;function Gz(){if(Iy===null)try{new FormData(document.createElement("form"),0),Iy=!1}catch{Iy=!0}return Iy}var Wz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fw(t){return t!=null&&!Wz.has(t)?(os(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rv}"`),null):t}function Hz(t,e){let n,r,i,a,s;if($z(t)){let o=t.getAttribute("action");r=o?Bo(o,e):null,n=t.getAttribute("method")||nv,i=Fw(t.getAttribute("enctype"))||rv,a=new FormData(t)}else if(Bz(t)||zz(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||o.getAttribute("action");if(r=c?Bo(c,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||nv,i=Fw(t.getAttribute("formenctype"))||Fw(o.getAttribute("enctype"))||rv,a=new FormData(o,t),!Gz()){let{name:f,type:m,value:p}=t;if(m==="image"){let y=f?`${f}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else f&&a.append(f,p)}}else{if(a0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nv,r=null,i=rv,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function E2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Kz(t,e,n,r){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&Bo(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function Zz(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Xz(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Yz(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await Zz(a,n);return s.links?s.links():[]}return[]}));return tU(r.flat(1).filter(Xz).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function KC(t,e,n,r,i,a){let s=(c,f)=>n[f]?c.route.id!==n[f].route.id:!0,o=(c,f)=>n[f].pathname!==c.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==c.params["*"];return a==="assets"?e.filter((c,f)=>s(c,f)||o(c,f)):a==="data"?e.filter((c,f)=>{let m=r.routes[c.route.id];if(!m||!m.hasLoader)return!1;if(s(c,f)||o(c,f))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Qz(t,e,{includeHydrateFallback:n}={}){return Jz(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function Jz(t){return[...new Set(t)]}function eU(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function tU(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(eU(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function x8(){let t=Z.useContext(sd);return E2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function nU(){let t=Z.useContext(r0);return E2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var S2=Z.createContext(void 0);S2.displayName="FrameworkContext";function E8(){let t=Z.useContext(S2);return E2(t,"You must render this element inside a <HydratedRouter> element"),t}function rU(t,e){let n=Z.useContext(S2),[r,i]=Z.useState(!1),[a,s]=Z.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:f,onMouseLeave:m,onTouchStart:p}=e,y=Z.useRef(null);Z.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let S=M=>{M.forEach(O=>{s(O.isIntersecting)})},x=new IntersectionObserver(S,{threshold:.5});return y.current&&x.observe(y.current),()=>{x.disconnect()}}},[t]),Z.useEffect(()=>{if(r){let S=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(S)}}},[r]);let b=()=>{i(!0)},E=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,y,{}]:[a,y,{onFocus:Qd(o,b),onBlur:Qd(c,E),onMouseEnter:Qd(f,b),onMouseLeave:Qd(m,E),onTouchStart:Qd(p,b)}]:[!1,y,{}]}function Qd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function iU({page:t,...e}){let{router:n}=x8(),r=Z.useMemo(()=>l8(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?Z.createElement(sU,{page:t,matches:r,...e}):null}function aU(t){let{manifest:e,routeModules:n}=E8(),[r,i]=Z.useState([]);return Z.useEffect(()=>{let a=!1;return Yz(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function sU({page:t,matches:e,...n}){let r=bl(),{future:i,manifest:a,routeModules:s}=E8(),{basename:o}=x8(),{loaderData:c,matches:f}=nU(),m=Z.useMemo(()=>KC(t,e,f,a,r,"data"),[t,e,f,a,r]),p=Z.useMemo(()=>KC(t,e,f,a,r,"assets"),[t,e,f,a,r]),y=Z.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,x=!1;if(e.forEach(O=>{let D=a.routes[O.route.id];!D||!D.hasLoader||(!m.some($=>$.route.id===O.route.id)&&O.route.id in c&&s[O.route.id]?.shouldRevalidate||D.hasClientLoader?x=!0:S.add(O.route.id))}),S.size===0)return[];let M=Kz(t,o,i.unstable_trailingSlashAwareDataRequests,"data");return x&&S.size>0&&M.searchParams.set("_routes",e.filter(O=>S.has(O.route.id)).map(O=>O.route.id).join(",")),[M.pathname+M.search]},[o,i.unstable_trailingSlashAwareDataRequests,c,r,a,m,e,t,s]),b=Z.useMemo(()=>Qz(p,a),[p,a]),E=aU(p);return Z.createElement(Z.Fragment,null,y.map(S=>Z.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),b.map(S=>Z.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),E.map(({key:S,link:x})=>Z.createElement("link",{key:S,nonce:n.nonce,...x,crossOrigin:x.crossOrigin??n.crossOrigin})))}function oU(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var uU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uU&&(window.__reactRouterVersion="7.13.0")}catch{}function lU({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=Z.useRef();i.current==null&&(i.current=U$({window:r,v5Compat:!0}));let a=i.current,[s,o]=Z.useState({action:a.action,location:a.location}),c=Z.useCallback(f=>{n===!1?o(f):Z.startTransition(()=>o(f))},[n]);return Z.useLayoutEffect(()=>a.listen(c),[a,c]),Z.createElement(Vz,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n})}var S8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P8=Z.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:o,target:c,to:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:y,...b},E){let{basename:S,unstable_useTransitions:x}=Z.useContext(qi),M=typeof f=="string"&&S8.test(f),O=d8(f,S);f=O.to;let D=Ez(f,{relative:i}),[$,k,V]=rU(r,b),C=fU(f,{replace:s,state:o,target:c,preventScrollReset:m,relative:i,viewTransition:p,unstable_defaultShouldRevalidate:y,unstable_useTransitions:x});function j(H){e&&e(H),H.defaultPrevented||C(H)}let B=Z.createElement("a",{...b,...V,href:O.absoluteURL||D,onClick:O.isExternal||a?e:j,ref:oU(E,k),target:c,"data-discover":!M&&n==="render"?"true":void 0});return $&&!M?Z.createElement(Z.Fragment,null,B,Z.createElement(iU,{page:D})):B});P8.displayName="Link";var s0=Z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:o,children:c,...f},m){let p=Qm(s,{relative:f.relative}),y=bl(),b=Z.useContext(r0),{navigator:E,basename:S}=Z.useContext(qi),x=b!=null&&yU(p)&&o===!0,M=E.encodeLocation?E.encodeLocation(p).pathname:p.pathname,O=y.pathname,D=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(O=O.toLowerCase(),D=D?D.toLowerCase():null,M=M.toLowerCase()),D&&S&&(D=Bo(D,S)||D);const $=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let k=O===M||!i&&O.startsWith(M)&&O.charAt($)==="/",V=D!=null&&(D===M||!i&&D.startsWith(M)&&D.charAt(M.length)==="/"),C={isActive:k,isPending:V,isTransitioning:x},j=k?e:void 0,B;typeof r=="function"?B=r(C):B=[r,k?"active":null,V?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let H=typeof a=="function"?a(C):a;return Z.createElement(P8,{...f,"aria-current":j,className:B,ref:m,style:H,to:s,viewTransition:o},typeof c=="function"?c(C):c)});s0.displayName="NavLink";var cU=Z.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=nv,action:o,onSubmit:c,relative:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:y,...b},E)=>{let{unstable_useTransitions:S}=Z.useContext(qi),x=mU(),M=gU(o,{relative:f}),O=s.toLowerCase()==="get"?"get":"post",D=typeof o=="string"&&S8.test(o),$=k=>{if(c&&c(k),k.defaultPrevented)return;k.preventDefault();let V=k.nativeEvent.submitter,C=V?.getAttribute("formmethod")||s,j=()=>x(V||k.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:i,state:a,relative:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:y});S&&n!==!1?Z.startTransition(()=>j()):j()};return Z.createElement("form",{ref:E,method:O,action:M,onSubmit:r?c:$,...b,"data-discover":!D&&t==="render"?"true":void 0})});cU.displayName="Form";function hU(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T8(t){let e=Z.useContext(sd);return pn(e,hU(t)),e}function fU(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:o,unstable_useTransitions:c}={}){let f=Na(),m=bl(),p=Qm(t,{relative:a});return Z.useCallback(y=>{if(qz(y,e)){y.preventDefault();let b=n!==void 0?n:Zp(m)===Zp(p),E=()=>f(t,{replace:b,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:o});c?Z.startTransition(()=>E()):E()}},[m,f,p,n,r,e,t,i,a,s,o,c])}var dU=0,pU=()=>`__${String(++dU)}__`;function mU(){let{router:t}=T8("useSubmit"),{basename:e}=Z.useContext(qi),n=Nz(),r=t.fetch,i=t.navigate;return Z.useCallback(async(a,s={})=>{let{action:o,method:c,encType:f,formData:m,body:p}=Hz(a,e);if(s.navigate===!1){let y=s.fetcherKey||pU();await r(y,n,s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:m,body:p,formMethod:s.method||c,formEncType:s.encType||f,flushSync:s.flushSync})}else await i(s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:m,body:p,formMethod:s.method||c,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,e,n])}function gU(t,{relative:e}={}){let{basename:n}=Z.useContext(qi),r=Z.useContext(us);pn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Qm(t||".",{relative:e})},s=bl();if(t==null){a.search=s.search;let o=new URLSearchParams(a.search),c=o.getAll("index");if(c.some(m=>m==="")){o.delete("index"),c.filter(p=>p).forEach(p=>o.append("index",p));let m=o.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Do([n,a.pathname])),Zp(a)}function yU(t,{relative:e}={}){let n=Z.useContext(m8);pn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=T8("useViewTransitionState"),i=Qm(t,{relative:e});if(!n.isTransitioning)return!1;let a=Bo(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Bo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Pv(i.pathname,s)!=null||Pv(i.pathname,a)!=null}var vU=u8();const _U=()=>{};var ZC={};const A8=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},I8={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,m=a>>2,p=(a&3)<<4|o>>4;let y=(o&15)<<2|f>>6,b=f&63;c||(b=64,s||(y=64)),r.push(n[m],n[p],n[y],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(A8(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||f==null||p==null)throw new bU;const y=a<<2|o>>4;if(r.push(y),f!==64){const b=o<<4&240|f>>2;if(r.push(b),p!==64){const E=f<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xU=function(t){const e=A8(t);return I8.encodeByteArray(e,!0)},Tv=function(t){return xU(t).replace(/\./g,"")},M8=function(t){try{return I8.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function C8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const EU=()=>C8().__FIREBASE_DEFAULTS__,SU=()=>{if(typeof process>"u"||typeof ZC>"u")return;const t=ZC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&M8(t[1]);return e&&JSON.parse(e)},o0=()=>{try{return _U()||EU()||SU()||PU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},O8=t=>o0()?.emulatorHosts?.[t],P2=t=>{const e=O8(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},R8=()=>o0()?.config,k8=t=>o0()?.[`_${t}`];class TU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Jo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function u0(t){return(await fetch(t,{credentials:"include"})).ok}function N8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Tv(JSON.stringify(n)),Tv(JSON.stringify(s)),""].join(".")}const Ip={};function AU(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ip))Ip[e]?t.emulator.push(e):t.prod.push(e);return t}function IU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let XC=!1;function l0(t,e){if(typeof window>"u"||typeof document>"u"||!Jo(window.location.host)||Ip[t]===e||Ip[t]||XC)return;Ip[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",a=AU().prod.length>0;function s(){const y=document.getElementById(r);y&&y.remove()}function o(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,b){y.setAttribute("width","24"),y.setAttribute("id",b),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function f(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{XC=!0,s()},y}function m(y,b){y.setAttribute("id",b),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=IU(r),b=n("text"),E=document.getElementById(b)||document.createElement("span"),S=n("learnmore"),x=document.getElementById(S)||document.createElement("a"),M=n("preprendIcon"),O=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const D=y.element;o(D),m(x,S);const $=f();c(O,M),D.append(O,E,x,$),document.body.appendChild(D)}a?(E.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yn())}function L8(){const t=o0()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kU(){const t=Yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function D8(){return!L8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j8(){return!L8()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function V8(){try{return typeof indexedDB=="object"}catch{return!1}}function NU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const LU="FirebaseError";class Hs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LU,Object.setPrototypeOf(this,Hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jm.prototype.create)}}class Jm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?DU(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Hs(i,o,r)}}function DU(t,e){return t.replace(jU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const jU=/\{\$([^}]+)}/g;function VU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(YC(a)&&YC(s)){if(!Nc(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function YC(t){return t!==null&&typeof t=="object"}function eg(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function FU(t,e){const n=new BU(t,e);return n.subscribe.bind(n)}class BU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$U(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Bw),i.error===void 0&&(i.error=Bw),i.complete===void 0&&(i.complete=Bw);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $U(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bw(){}function Tn(t){return t&&t._delegate?t._delegate:t}class $o{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const lc="[DEFAULT]";class zU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new TU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qU(e))try{this.getOrInitializeService({instanceIdentifier:lc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=lc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lc){return this.instances.has(e)}getOptions(e=lc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=lc){return this.component?this.component.multipleInstances?e:lc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UU(t){return t===lc?void 0:t}function qU(t){return t.instantiationMode==="EAGER"}class GU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var wt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(wt||(wt={}));const WU={debug:wt.DEBUG,verbose:wt.VERBOSE,info:wt.INFO,warn:wt.WARN,error:wt.ERROR,silent:wt.SILENT},HU=wt.INFO,KU={[wt.DEBUG]:"log",[wt.VERBOSE]:"log",[wt.INFO]:"info",[wt.WARN]:"warn",[wt.ERROR]:"error"},ZU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=KU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class T2{constructor(e){this.name=e,this._logLevel=HU,this._logHandler=ZU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,wt.DEBUG,...e),this._logHandler(this,wt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,wt.VERBOSE,...e),this._logHandler(this,wt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,wt.INFO,...e),this._logHandler(this,wt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,wt.WARN,...e),this._logHandler(this,wt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,wt.ERROR,...e),this._logHandler(this,wt.ERROR,...e)}}const XU=(t,e)=>e.some(n=>t instanceof n);let QC,JC;function YU(){return QC||(QC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QU(){return JC||(JC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F8=new WeakMap,cP=new WeakMap,B8=new WeakMap,$w=new WeakMap,A2=new WeakMap;function JU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(al(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&F8.set(n,t)}).catch(()=>{}),A2.set(e,t),e}function eq(t){if(cP.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});cP.set(t,e)}let hP={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cP.get(t);if(e==="objectStoreNames")return t.objectStoreNames||B8.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return al(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tq(t){hP=t(hP)}function nq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zw(this),e,...n);return B8.set(r,e.sort?e.sort():[e]),al(r)}:QU().includes(t)?function(...e){return t.apply(zw(this),e),al(F8.get(this))}:function(...e){return al(t.apply(zw(this),e))}}function rq(t){return typeof t=="function"?nq(t):(t instanceof IDBTransaction&&eq(t),XU(t,YU())?new Proxy(t,hP):t)}function al(t){if(t instanceof IDBRequest)return JU(t);if($w.has(t))return $w.get(t);const e=rq(t);return e!==t&&($w.set(t,e),A2.set(e,t)),e}const zw=t=>A2.get(t);function iq(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=al(s);return r&&s.addEventListener("upgradeneeded",c=>{r(al(s.result),c.oldVersion,c.newVersion,al(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),o.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),o}const aq=["get","getKey","getAll","getAllKeys","count"],sq=["put","add","delete","clear"],Uw=new Map;function eO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Uw.get(e))return Uw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||aq.includes(n)))return;const a=async function(s,...o){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(o.shift())),(await Promise.all([f[n](...o),i&&c.done]))[0]};return Uw.set(e,a),a}tq(t=>({...t,get:(e,n,r)=>eO(e,n)||t.get(e,n,r),has:(e,n)=>!!eO(e,n)||t.has(e,n)}));class oq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uq(t){return t.getComponent()?.type==="VERSION"}const fP="@firebase/app",tO="0.14.8";const zo=new T2("@firebase/app"),lq="@firebase/app-compat",cq="@firebase/analytics-compat",hq="@firebase/analytics",fq="@firebase/app-check-compat",dq="@firebase/app-check",pq="@firebase/auth",mq="@firebase/auth-compat",gq="@firebase/database",yq="@firebase/data-connect",vq="@firebase/database-compat",_q="@firebase/functions",wq="@firebase/functions-compat",bq="@firebase/installations",xq="@firebase/installations-compat",Eq="@firebase/messaging",Sq="@firebase/messaging-compat",Pq="@firebase/performance",Tq="@firebase/performance-compat",Aq="@firebase/remote-config",Iq="@firebase/remote-config-compat",Mq="@firebase/storage",Cq="@firebase/storage-compat",Oq="@firebase/firestore",Rq="@firebase/ai",kq="@firebase/firestore-compat",Nq="firebase",Lq="12.9.0";const dP="[DEFAULT]",Dq={[fP]:"fire-core",[lq]:"fire-core-compat",[hq]:"fire-analytics",[cq]:"fire-analytics-compat",[dq]:"fire-app-check",[fq]:"fire-app-check-compat",[pq]:"fire-auth",[mq]:"fire-auth-compat",[gq]:"fire-rtdb",[yq]:"fire-data-connect",[vq]:"fire-rtdb-compat",[_q]:"fire-fn",[wq]:"fire-fn-compat",[bq]:"fire-iid",[xq]:"fire-iid-compat",[Eq]:"fire-fcm",[Sq]:"fire-fcm-compat",[Pq]:"fire-perf",[Tq]:"fire-perf-compat",[Aq]:"fire-rc",[Iq]:"fire-rc-compat",[Mq]:"fire-gcs",[Cq]:"fire-gcs-compat",[Oq]:"fire-fst",[kq]:"fire-fst-compat",[Rq]:"fire-vertex","fire-js":"fire-js",[Nq]:"fire-js-all"};const Av=new Map,jq=new Map,pP=new Map;function nO(t,e){try{t.container.addComponent(e)}catch(n){zo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dl(t){const e=t.name;if(pP.has(e))return zo.debug(`There were multiple attempts to register component ${e}.`),!1;pP.set(e,t);for(const n of Av.values())nO(n,t);for(const n of jq.values())nO(n,t);return!0}function tg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ea(t){return t==null?!1:t.settings!==void 0}const Vq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sl=new Jm("app","Firebase",Vq);class Fq{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sl.create("app-deleted",{appName:this._name})}}const Qc=Lq;function $8(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:dP,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw sl.create("bad-app-name",{appName:String(i)});if(n||(n=R8()),!n)throw sl.create("no-options");const a=Av.get(i);if(a){if(Nc(n,a.options)&&Nc(r,a.config))return a;throw sl.create("duplicate-app",{appName:i})}const s=new GU(i);for(const c of pP.values())s.addComponent(c);const o=new Fq(n,r,s);return Av.set(i,o),o}function c0(t=dP){const e=Av.get(t);if(!e&&t===dP&&R8())return $8();if(!e)throw sl.create("no-app",{appName:t});return e}function Aa(t,e,n){let r=Dq[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zo.warn(s.join(" "));return}dl(new $o(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Bq="firebase-heartbeat-database",$q=1,Xp="firebase-heartbeat-store";let qw=null;function z8(){return qw||(qw=iq(Bq,$q,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xp)}catch(n){console.warn(n)}}}}).catch(t=>{throw sl.create("idb-open",{originalErrorMessage:t.message})})),qw}async function zq(t){try{const n=(await z8()).transaction(Xp),r=await n.objectStore(Xp).get(U8(t));return await n.done,r}catch(e){if(e instanceof Hs)zo.warn(e.message);else{const n=sl.create("idb-get",{originalErrorMessage:e?.message});zo.warn(n.message)}}}async function rO(t,e){try{const r=(await z8()).transaction(Xp,"readwrite");await r.objectStore(Xp).put(e,U8(t)),await r.done}catch(n){if(n instanceof Hs)zo.warn(n.message);else{const r=sl.create("idb-set",{originalErrorMessage:n?.message});zo.warn(r.message)}}}function U8(t){return`${t.name}!${t.options.appId}`}const Uq=1024,qq=30;class Gq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Hq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=iO();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>qq){const i=Kq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){zo.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=iO(),{heartbeatsToSend:n,unsentEntries:r}=Wq(this._heartbeatsCache.heartbeats),i=Tv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return zo.warn(e),""}}}function iO(){return new Date().toISOString().substring(0,10)}function Wq(t,e=Uq){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),aO(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),aO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Hq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V8()?NU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zq(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rO(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rO(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function aO(t){return Tv(JSON.stringify({version:2,heartbeats:t})).length}function Kq(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Zq(t){dl(new $o("platform-logger",e=>new oq(e),"PRIVATE")),dl(new $o("heartbeat",e=>new Gq(e),"PRIVATE")),Aa(fP,tO,t),Aa(fP,tO,"esm2020"),Aa("fire-js","")}Zq("");var sO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ol,q8;(function(){var t;function e(C,j){function B(){}B.prototype=j.prototype,C.F=j.prototype,C.prototype=new B,C.prototype.constructor=C,C.D=function(H,z,G){for(var q=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)q[ae-2]=arguments[ae];return j.prototype[z].apply(H,q)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,j,B){B||(B=0);const H=Array(16);if(typeof j=="string")for(var z=0;z<16;++z)H[z]=j.charCodeAt(B++)|j.charCodeAt(B++)<<8|j.charCodeAt(B++)<<16|j.charCodeAt(B++)<<24;else for(z=0;z<16;++z)H[z]=j[B++]|j[B++]<<8|j[B++]<<16|j[B++]<<24;j=C.g[0],B=C.g[1],z=C.g[2];let G=C.g[3],q;q=j+(G^B&(z^G))+H[0]+3614090360&4294967295,j=B+(q<<7&4294967295|q>>>25),q=G+(z^j&(B^z))+H[1]+3905402710&4294967295,G=j+(q<<12&4294967295|q>>>20),q=z+(B^G&(j^B))+H[2]+606105819&4294967295,z=G+(q<<17&4294967295|q>>>15),q=B+(j^z&(G^j))+H[3]+3250441966&4294967295,B=z+(q<<22&4294967295|q>>>10),q=j+(G^B&(z^G))+H[4]+4118548399&4294967295,j=B+(q<<7&4294967295|q>>>25),q=G+(z^j&(B^z))+H[5]+1200080426&4294967295,G=j+(q<<12&4294967295|q>>>20),q=z+(B^G&(j^B))+H[6]+2821735955&4294967295,z=G+(q<<17&4294967295|q>>>15),q=B+(j^z&(G^j))+H[7]+4249261313&4294967295,B=z+(q<<22&4294967295|q>>>10),q=j+(G^B&(z^G))+H[8]+1770035416&4294967295,j=B+(q<<7&4294967295|q>>>25),q=G+(z^j&(B^z))+H[9]+2336552879&4294967295,G=j+(q<<12&4294967295|q>>>20),q=z+(B^G&(j^B))+H[10]+4294925233&4294967295,z=G+(q<<17&4294967295|q>>>15),q=B+(j^z&(G^j))+H[11]+2304563134&4294967295,B=z+(q<<22&4294967295|q>>>10),q=j+(G^B&(z^G))+H[12]+1804603682&4294967295,j=B+(q<<7&4294967295|q>>>25),q=G+(z^j&(B^z))+H[13]+4254626195&4294967295,G=j+(q<<12&4294967295|q>>>20),q=z+(B^G&(j^B))+H[14]+2792965006&4294967295,z=G+(q<<17&4294967295|q>>>15),q=B+(j^z&(G^j))+H[15]+1236535329&4294967295,B=z+(q<<22&4294967295|q>>>10),q=j+(z^G&(B^z))+H[1]+4129170786&4294967295,j=B+(q<<5&4294967295|q>>>27),q=G+(B^z&(j^B))+H[6]+3225465664&4294967295,G=j+(q<<9&4294967295|q>>>23),q=z+(j^B&(G^j))+H[11]+643717713&4294967295,z=G+(q<<14&4294967295|q>>>18),q=B+(G^j&(z^G))+H[0]+3921069994&4294967295,B=z+(q<<20&4294967295|q>>>12),q=j+(z^G&(B^z))+H[5]+3593408605&4294967295,j=B+(q<<5&4294967295|q>>>27),q=G+(B^z&(j^B))+H[10]+38016083&4294967295,G=j+(q<<9&4294967295|q>>>23),q=z+(j^B&(G^j))+H[15]+3634488961&4294967295,z=G+(q<<14&4294967295|q>>>18),q=B+(G^j&(z^G))+H[4]+3889429448&4294967295,B=z+(q<<20&4294967295|q>>>12),q=j+(z^G&(B^z))+H[9]+568446438&4294967295,j=B+(q<<5&4294967295|q>>>27),q=G+(B^z&(j^B))+H[14]+3275163606&4294967295,G=j+(q<<9&4294967295|q>>>23),q=z+(j^B&(G^j))+H[3]+4107603335&4294967295,z=G+(q<<14&4294967295|q>>>18),q=B+(G^j&(z^G))+H[8]+1163531501&4294967295,B=z+(q<<20&4294967295|q>>>12),q=j+(z^G&(B^z))+H[13]+2850285829&4294967295,j=B+(q<<5&4294967295|q>>>27),q=G+(B^z&(j^B))+H[2]+4243563512&4294967295,G=j+(q<<9&4294967295|q>>>23),q=z+(j^B&(G^j))+H[7]+1735328473&4294967295,z=G+(q<<14&4294967295|q>>>18),q=B+(G^j&(z^G))+H[12]+2368359562&4294967295,B=z+(q<<20&4294967295|q>>>12),q=j+(B^z^G)+H[5]+4294588738&4294967295,j=B+(q<<4&4294967295|q>>>28),q=G+(j^B^z)+H[8]+2272392833&4294967295,G=j+(q<<11&4294967295|q>>>21),q=z+(G^j^B)+H[11]+1839030562&4294967295,z=G+(q<<16&4294967295|q>>>16),q=B+(z^G^j)+H[14]+4259657740&4294967295,B=z+(q<<23&4294967295|q>>>9),q=j+(B^z^G)+H[1]+2763975236&4294967295,j=B+(q<<4&4294967295|q>>>28),q=G+(j^B^z)+H[4]+1272893353&4294967295,G=j+(q<<11&4294967295|q>>>21),q=z+(G^j^B)+H[7]+4139469664&4294967295,z=G+(q<<16&4294967295|q>>>16),q=B+(z^G^j)+H[10]+3200236656&4294967295,B=z+(q<<23&4294967295|q>>>9),q=j+(B^z^G)+H[13]+681279174&4294967295,j=B+(q<<4&4294967295|q>>>28),q=G+(j^B^z)+H[0]+3936430074&4294967295,G=j+(q<<11&4294967295|q>>>21),q=z+(G^j^B)+H[3]+3572445317&4294967295,z=G+(q<<16&4294967295|q>>>16),q=B+(z^G^j)+H[6]+76029189&4294967295,B=z+(q<<23&4294967295|q>>>9),q=j+(B^z^G)+H[9]+3654602809&4294967295,j=B+(q<<4&4294967295|q>>>28),q=G+(j^B^z)+H[12]+3873151461&4294967295,G=j+(q<<11&4294967295|q>>>21),q=z+(G^j^B)+H[15]+530742520&4294967295,z=G+(q<<16&4294967295|q>>>16),q=B+(z^G^j)+H[2]+3299628645&4294967295,B=z+(q<<23&4294967295|q>>>9),q=j+(z^(B|~G))+H[0]+4096336452&4294967295,j=B+(q<<6&4294967295|q>>>26),q=G+(B^(j|~z))+H[7]+1126891415&4294967295,G=j+(q<<10&4294967295|q>>>22),q=z+(j^(G|~B))+H[14]+2878612391&4294967295,z=G+(q<<15&4294967295|q>>>17),q=B+(G^(z|~j))+H[5]+4237533241&4294967295,B=z+(q<<21&4294967295|q>>>11),q=j+(z^(B|~G))+H[12]+1700485571&4294967295,j=B+(q<<6&4294967295|q>>>26),q=G+(B^(j|~z))+H[3]+2399980690&4294967295,G=j+(q<<10&4294967295|q>>>22),q=z+(j^(G|~B))+H[10]+4293915773&4294967295,z=G+(q<<15&4294967295|q>>>17),q=B+(G^(z|~j))+H[1]+2240044497&4294967295,B=z+(q<<21&4294967295|q>>>11),q=j+(z^(B|~G))+H[8]+1873313359&4294967295,j=B+(q<<6&4294967295|q>>>26),q=G+(B^(j|~z))+H[15]+4264355552&4294967295,G=j+(q<<10&4294967295|q>>>22),q=z+(j^(G|~B))+H[6]+2734768916&4294967295,z=G+(q<<15&4294967295|q>>>17),q=B+(G^(z|~j))+H[13]+1309151649&4294967295,B=z+(q<<21&4294967295|q>>>11),q=j+(z^(B|~G))+H[4]+4149444226&4294967295,j=B+(q<<6&4294967295|q>>>26),q=G+(B^(j|~z))+H[11]+3174756917&4294967295,G=j+(q<<10&4294967295|q>>>22),q=z+(j^(G|~B))+H[2]+718787259&4294967295,z=G+(q<<15&4294967295|q>>>17),q=B+(G^(z|~j))+H[9]+3951481745&4294967295,C.g[0]=C.g[0]+j&4294967295,C.g[1]=C.g[1]+(z+(q<<21&4294967295|q>>>11))&4294967295,C.g[2]=C.g[2]+z&4294967295,C.g[3]=C.g[3]+G&4294967295}r.prototype.v=function(C,j){j===void 0&&(j=C.length);const B=j-this.blockSize,H=this.C;let z=this.h,G=0;for(;G<j;){if(z==0)for(;G<=B;)i(this,C,G),G+=this.blockSize;if(typeof C=="string"){for(;G<j;)if(H[z++]=C.charCodeAt(G++),z==this.blockSize){i(this,H),z=0;break}}else for(;G<j;)if(H[z++]=C[G++],z==this.blockSize){i(this,H),z=0;break}}this.h=z,this.o+=j},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var j=1;j<C.length-8;++j)C[j]=0;j=this.o*8;for(var B=C.length-8;B<C.length;++B)C[B]=j&255,j/=256;for(this.v(C),C=Array(16),j=0,B=0;B<4;++B)for(let H=0;H<32;H+=8)C[j++]=this.g[B]>>>H&255;return C};function a(C,j){var B=o;return Object.prototype.hasOwnProperty.call(B,C)?B[C]:B[C]=j(C)}function s(C,j){this.h=j;const B=[];let H=!0;for(let z=C.length-1;z>=0;z--){const G=C[z]|0;H&&G==j||(B[z]=G,H=!1)}this.g=B}var o={};function c(C){return-128<=C&&C<128?a(C,function(j){return new s([j|0],j<0?-1:0)}):new s([C|0],C<0?-1:0)}function f(C){if(isNaN(C)||!isFinite(C))return p;if(C<0)return x(f(-C));const j=[];let B=1;for(let H=0;C>=B;H++)j[H]=C/B|0,B*=4294967296;return new s(j,0)}function m(C,j){if(C.length==0)throw Error("number format error: empty string");if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(C.charAt(0)=="-")return x(m(C.substring(1),j));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const B=f(Math.pow(j,8));let H=p;for(let G=0;G<C.length;G+=8){var z=Math.min(8,C.length-G);const q=parseInt(C.substring(G,G+z),j);z<8?(z=f(Math.pow(j,z)),H=H.j(z).add(f(q))):(H=H.j(B),H=H.add(f(q)))}return H}var p=c(0),y=c(1),b=c(16777216);t=s.prototype,t.m=function(){if(S(this))return-x(this).m();let C=0,j=1;for(let B=0;B<this.g.length;B++){const H=this.i(B);C+=(H>=0?H:4294967296+H)*j,j*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(E(this))return"0";if(S(this))return"-"+x(this).toString(C);const j=f(Math.pow(C,6));var B=this;let H="";for(;;){const z=$(B,j).g;B=M(B,z.j(j));let G=((B.g.length>0?B.g[0]:B.h)>>>0).toString(C);if(B=z,E(B))return G+H;for(;G.length<6;)G="0"+G;H=G+H}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function E(C){if(C.h!=0)return!1;for(let j=0;j<C.g.length;j++)if(C.g[j]!=0)return!1;return!0}function S(C){return C.h==-1}t.l=function(C){return C=M(this,C),S(C)?-1:E(C)?0:1};function x(C){const j=C.g.length,B=[];for(let H=0;H<j;H++)B[H]=~C.g[H];return new s(B,~C.h).add(y)}t.abs=function(){return S(this)?x(this):this},t.add=function(C){const j=Math.max(this.g.length,C.g.length),B=[];let H=0;for(let z=0;z<=j;z++){let G=H+(this.i(z)&65535)+(C.i(z)&65535),q=(G>>>16)+(this.i(z)>>>16)+(C.i(z)>>>16);H=q>>>16,G&=65535,q&=65535,B[z]=q<<16|G}return new s(B,B[B.length-1]&-2147483648?-1:0)};function M(C,j){return C.add(x(j))}t.j=function(C){if(E(this)||E(C))return p;if(S(this))return S(C)?x(this).j(x(C)):x(x(this).j(C));if(S(C))return x(this.j(x(C)));if(this.l(b)<0&&C.l(b)<0)return f(this.m()*C.m());const j=this.g.length+C.g.length,B=[];for(var H=0;H<2*j;H++)B[H]=0;for(H=0;H<this.g.length;H++)for(let z=0;z<C.g.length;z++){const G=this.i(H)>>>16,q=this.i(H)&65535,ae=C.i(z)>>>16,he=C.i(z)&65535;B[2*H+2*z]+=q*he,O(B,2*H+2*z),B[2*H+2*z+1]+=G*he,O(B,2*H+2*z+1),B[2*H+2*z+1]+=q*ae,O(B,2*H+2*z+1),B[2*H+2*z+2]+=G*ae,O(B,2*H+2*z+2)}for(C=0;C<j;C++)B[C]=B[2*C+1]<<16|B[2*C];for(C=j;C<2*j;C++)B[C]=0;return new s(B,0)};function O(C,j){for(;(C[j]&65535)!=C[j];)C[j+1]+=C[j]>>>16,C[j]&=65535,j++}function D(C,j){this.g=C,this.h=j}function $(C,j){if(E(j))throw Error("division by zero");if(E(C))return new D(p,p);if(S(C))return j=$(x(C),j),new D(x(j.g),x(j.h));if(S(j))return j=$(C,x(j)),new D(x(j.g),j.h);if(C.g.length>30){if(S(C)||S(j))throw Error("slowDivide_ only works with positive integers.");for(var B=y,H=j;H.l(C)<=0;)B=k(B),H=k(H);var z=V(B,1),G=V(H,1);for(H=V(H,2),B=V(B,2);!E(H);){var q=G.add(H);q.l(C)<=0&&(z=z.add(B),G=q),H=V(H,1),B=V(B,1)}return j=M(C,z.j(j)),new D(z,j)}for(z=p;C.l(j)>=0;){for(B=Math.max(1,Math.floor(C.m()/j.m())),H=Math.ceil(Math.log(B)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),G=f(B),q=G.j(j);S(q)||q.l(C)>0;)B-=H,G=f(B),q=G.j(j);E(G)&&(G=y),z=z.add(G),C=M(C,q)}return new D(z,C)}t.B=function(C){return $(this,C).h},t.and=function(C){const j=Math.max(this.g.length,C.g.length),B=[];for(let H=0;H<j;H++)B[H]=this.i(H)&C.i(H);return new s(B,this.h&C.h)},t.or=function(C){const j=Math.max(this.g.length,C.g.length),B=[];for(let H=0;H<j;H++)B[H]=this.i(H)|C.i(H);return new s(B,this.h|C.h)},t.xor=function(C){const j=Math.max(this.g.length,C.g.length),B=[];for(let H=0;H<j;H++)B[H]=this.i(H)^C.i(H);return new s(B,this.h^C.h)};function k(C){const j=C.g.length+1,B=[];for(let H=0;H<j;H++)B[H]=C.i(H)<<1|C.i(H-1)>>>31;return new s(B,C.h)}function V(C,j){const B=j>>5;j%=32;const H=C.g.length-B,z=[];for(let G=0;G<H;G++)z[G]=j>0?C.i(G+B)>>>j|C.i(G+B+1)<<32-j:C.i(G+B);return new s(z,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,q8=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=m,ol=s}).apply(typeof sO<"u"?sO:typeof self<"u"?self:typeof window<"u"?window:{});var My=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var G8,gp,W8,iv,mP,H8,K8,Z8;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof My=="object"&&My];for(var I=0;I<v.length;++I){var F=v[I];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var r=n(this);function i(v,I){if(I)e:{var F=r;v=v.split(".");for(var K=0;K<v.length-1;K++){var se=v[K];if(!(se in F))break e;F=F[se]}v=v[v.length-1],K=F[v],I=I(K),I!=K&&I!=null&&e(F,v,{configurable:!0,writable:!0,value:I})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(I){var F=[],K;for(K in I)Object.prototype.hasOwnProperty.call(I,K)&&F.push([K,I[K]]);return F}});var a=a||{},s=this||self;function o(v){var I=typeof v;return I=="object"&&v!=null||I=="function"}function c(v,I,F){return v.call.apply(v.bind,arguments)}function f(v,I,F){return f=c,f.apply(null,arguments)}function m(v,I){var F=Array.prototype.slice.call(arguments,1);return function(){var K=F.slice();return K.push.apply(K,arguments),v.apply(this,K)}}function p(v,I){function F(){}F.prototype=I.prototype,v.Z=I.prototype,v.prototype=new F,v.prototype.constructor=v,v.Ob=function(K,se,fe){for(var ke=Array(arguments.length-2),it=2;it<arguments.length;it++)ke[it-2]=arguments[it];return I.prototype[se].apply(K,ke)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function b(v){const I=v.length;if(I>0){const F=Array(I);for(let K=0;K<I;K++)F[K]=v[K];return F}return[]}function E(v,I){for(let K=1;K<arguments.length;K++){const se=arguments[K];var F=typeof se;if(F=F!="object"?F:se?Array.isArray(se)?"array":F:"null",F=="array"||F=="object"&&typeof se.length=="number"){F=v.length||0;const fe=se.length||0;v.length=F+fe;for(let ke=0;ke<fe;ke++)v[F+ke]=se[ke]}else v.push(se)}}class S{constructor(I,F){this.i=I,this.j=F,this.h=0,this.g=null}get(){let I;return this.h>0?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function x(v){s.setTimeout(()=>{throw v},0)}function M(){var v=C;let I=null;return v.g&&(I=v.g,v.g=v.g.next,v.g||(v.h=null),I.next=null),I}class O{constructor(){this.h=this.g=null}add(I,F){const K=D.get();K.set(I,F),this.h?this.h.next=K:this.g=K,this.h=K}}var D=new S(()=>new $,v=>v.reset());class ${constructor(){this.next=this.g=this.h=null}set(I,F){this.h=I,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let k,V=!1,C=new O,j=()=>{const v=Promise.resolve(void 0);k=()=>{v.then(B)}};function B(){for(var v;v=M();){try{v.h.call(v.g)}catch(F){x(F)}var I=D;I.j(v),I.h<100&&(I.h++,v.next=I.g,I.g=v)}V=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(v,I){this.type=v,this.g=this.target=I,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var G=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var v=!1,I=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const F=()=>{};s.addEventListener("test",F,I),s.removeEventListener("test",F,I)}catch{}return v})();function q(v){return/^[\s\xa0]*$/.test(v)}function ae(v,I){z.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,I)}p(ae,z),ae.prototype.init=function(v,I){const F=this.type=v.type,K=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=I,I=v.relatedTarget,I||(F=="mouseover"?I=v.fromElement:F=="mouseout"&&(I=v.toElement)),this.relatedTarget=I,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),me=0;function ye(v,I,F,K,se){this.listener=v,this.proxy=null,this.src=I,this.type=F,this.capture=!!K,this.ha=se,this.key=++me,this.da=this.fa=!1}function ee(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function ge(v,I,F){for(const K in v)I.call(F,v[K],K,v)}function ie(v,I){for(const F in v)I.call(void 0,v[F],F,v)}function Y(v){const I={};for(const F in v)I[F]=v[F];return I}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xe(v,I){let F,K;for(let se=1;se<arguments.length;se++){K=arguments[se];for(F in K)v[F]=K[F];for(let fe=0;fe<ne.length;fe++)F=ne[fe],Object.prototype.hasOwnProperty.call(K,F)&&(v[F]=K[F])}}function Me(v){this.src=v,this.g={},this.h=0}Me.prototype.add=function(v,I,F,K,se){const fe=v.toString();v=this.g[fe],v||(v=this.g[fe]=[],this.h++);const ke=Re(v,I,K,se);return ke>-1?(I=v[ke],F||(I.fa=!1)):(I=new ye(I,this.src,fe,!!K,se),I.fa=F,v.push(I)),I};function Oe(v,I){const F=I.type;if(F in v.g){var K=v.g[F],se=Array.prototype.indexOf.call(K,I,void 0),fe;(fe=se>=0)&&Array.prototype.splice.call(K,se,1),fe&&(ee(I),v.g[F].length==0&&(delete v.g[F],v.h--))}}function Re(v,I,F,K){for(let se=0;se<v.length;++se){const fe=v[se];if(!fe.da&&fe.listener==I&&fe.capture==!!F&&fe.ha==K)return se}return-1}var st="closure_lm_"+(Math.random()*1e6|0),Ye={};function Pe(v,I,F,K,se){if(Array.isArray(I)){for(let fe=0;fe<I.length;fe++)Pe(v,I[fe],F,K,se);return null}return F=Un(F),v&&v[he]?v.J(I,F,o(K)?!!K.capture:!1,se):Ke(v,I,F,!1,K,se)}function Ke(v,I,F,K,se,fe){if(!I)throw Error("Invalid event type");const ke=o(se)?!!se.capture:!!se;let it=zt(v);if(it||(v[st]=it=new Me(v)),F=it.add(I,F,K,ke,fe),F.proxy)return F;if(K=rt(),F.proxy=K,K.src=v,K.listener=F,v.addEventListener)G||(se=ke),se===void 0&&(se=!1),v.addEventListener(I.toString(),K,se);else if(v.attachEvent)v.attachEvent(ft(I.toString()),K);else if(v.addListener&&v.removeListener)v.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return F}function rt(){function v(F){return I.call(v.src,v.listener,F)}const I=Xt;return v}function be(v,I,F,K,se){if(Array.isArray(I))for(var fe=0;fe<I.length;fe++)be(v,I[fe],F,K,se);else K=o(K)?!!K.capture:!!K,F=Un(F),v&&v[he]?(v=v.i,fe=String(I).toString(),fe in v.g&&(I=v.g[fe],F=Re(I,F,K,se),F>-1&&(ee(I[F]),Array.prototype.splice.call(I,F,1),I.length==0&&(delete v.g[fe],v.h--)))):v&&(v=zt(v))&&(I=v.g[I.toString()],v=-1,I&&(v=Re(I,F,K,se)),(F=v>-1?I[v]:null)&&xt(F))}function xt(v){if(typeof v!="number"&&v&&!v.da){var I=v.src;if(I&&I[he])Oe(I.i,v);else{var F=v.type,K=v.proxy;I.removeEventListener?I.removeEventListener(F,K,v.capture):I.detachEvent?I.detachEvent(ft(F),K):I.addListener&&I.removeListener&&I.removeListener(K),(F=zt(I))?(Oe(F,v),F.h==0&&(F.src=null,I[st]=null)):ee(v)}}}function ft(v){return v in Ye?Ye[v]:Ye[v]="on"+v}function Xt(v,I){if(v.da)v=!0;else{I=new ae(I,this);const F=v.listener,K=v.ha||v.src;v.fa&&xt(v),v=F.call(K,I)}return v}function zt(v){return v=v[st],v instanceof Me?v:null}var Jt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Un(v){return typeof v=="function"?v:(v[Jt]||(v[Jt]=function(I){return v.handleEvent(I)}),v[Jt])}function Ut(){H.call(this),this.i=new Me(this),this.M=this,this.G=null}p(Ut,H),Ut.prototype[he]=!0,Ut.prototype.removeEventListener=function(v,I,F,K){be(this,v,I,F,K)};function qt(v,I){var F,K=v.G;if(K)for(F=[];K;K=K.G)F.push(K);if(v=v.M,K=I.type||I,typeof I=="string")I=new z(I,v);else if(I instanceof z)I.target=I.target||v;else{var se=I;I=new z(K,v),xe(I,se)}se=!0;let fe,ke;if(F)for(ke=F.length-1;ke>=0;ke--)fe=I.g=F[ke],se=gn(fe,K,!0,I)&&se;if(fe=I.g=v,se=gn(fe,K,!0,I)&&se,se=gn(fe,K,!1,I)&&se,F)for(ke=0;ke<F.length;ke++)fe=I.g=F[ke],se=gn(fe,K,!1,I)&&se}Ut.prototype.N=function(){if(Ut.Z.N.call(this),this.i){var v=this.i;for(const I in v.g){const F=v.g[I];for(let K=0;K<F.length;K++)ee(F[K]);delete v.g[I],v.h--}}this.G=null},Ut.prototype.J=function(v,I,F,K){return this.i.add(String(v),I,!1,F,K)},Ut.prototype.K=function(v,I,F,K){return this.i.add(String(v),I,!0,F,K)};function gn(v,I,F,K){if(I=v.i.g[String(I)],!I)return!0;I=I.concat();let se=!0;for(let fe=0;fe<I.length;++fe){const ke=I[fe];if(ke&&!ke.da&&ke.capture==F){const it=ke.listener,Tt=ke.ha||ke.src;ke.fa&&Oe(v.i,ke),se=it.call(Tt,K)!==!1&&se}}return se&&!K.defaultPrevented}function _r(v,I){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=f(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(I)>2147483647?-1:s.setTimeout(v,I||0)}function Gi(v){v.g=_r(()=>{v.g=null,v.i&&(v.i=!1,Gi(v))},v.l);const I=v.h;v.h=null,v.m.apply(null,I)}class Zs extends H{constructor(I,F){super(),this.m=I,this.l=F,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:Gi(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Si(v){H.call(this),this.h=v,this.g={}}p(Si,H);var Xs=[];function Ys(v){ge(v.g,function(I,F){this.g.hasOwnProperty(F)&&xt(I)},v),v.g={}}Si.prototype.N=function(){Si.Z.N.call(this),Ys(this)},Si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Da=s.JSON.stringify,sh=s.JSON.parse,cs=class{stringify(v){return s.JSON.stringify(v,void 0)}parse(v){return s.JSON.parse(v,void 0)}};function ja(){}function oh(){}var Va={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function hs(){z.call(this,"d")}p(hs,z);function su(){z.call(this,"c")}p(su,z);var Pi={},Wi=null;function fs(){return Wi=Wi||new Ut}Pi.Ia="serverreachability";function ou(v){z.call(this,Pi.Ia,v)}p(ou,z);function Hi(v){const I=fs();qt(I,new ou(I))}Pi.STAT_EVENT="statevent";function Ki(v,I){z.call(this,Pi.STAT_EVENT,v),this.stat=I}p(Ki,z);function rn(v){const I=fs();qt(I,new Ki(I,v))}Pi.Ja="timingevent";function Rl(v,I){z.call(this,Pi.Ja,v),this.size=I}p(Rl,z);function ds(v,I){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){v()},I)}function ps(){this.g=!0}ps.prototype.ua=function(){this.g=!1};function uh(v,I,F,K,se,fe){v.info(function(){if(v.g)if(fe){var ke="",it=fe.split("&");for(let Ct=0;Ct<it.length;Ct++){var Tt=it[Ct].split("=");if(Tt.length>1){const yn=Tt[0];Tt=Tt[1];const Gr=yn.split("_");ke=Gr.length>=2&&Gr[1]=="type"?ke+(yn+"="+Tt+"&"):ke+(yn+"=redacted&")}}}else ke=null;else ke=fe;return"XMLHTTP REQ ("+K+") [attempt "+se+"]: "+I+`
`+F+`
`+ke})}function lh(v,I,F,K,se,fe,ke){v.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+se+"]: "+I+`
`+F+`
`+fe+" "+ke})}function Zi(v,I,F,K){v.info(function(){return"XMLHTTP TEXT ("+I+"): "+Qs(v,F)+(K?" "+K:"")})}function uu(v,I){v.info(function(){return"TIMEOUT: "+I})}ps.prototype.info=function(){};function Qs(v,I){if(!v.g)return I;if(!I)return null;try{const fe=JSON.parse(I);if(fe){for(v=0;v<fe.length;v++)if(Array.isArray(fe[v])){var F=fe[v];if(!(F.length<2)){var K=F[1];if(Array.isArray(K)&&!(K.length<1)){var se=K[0];if(se!="noop"&&se!="stop"&&se!="close")for(let ke=1;ke<K.length;ke++)K[ke]=""}}}}return Da(fe)}catch{return I}}var ms={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ch;function Nn(){}p(Nn,ja),Nn.prototype.g=function(){return new XMLHttpRequest},ch=new Nn;function ze(v){return encodeURIComponent(String(v))}function Js(v){var I=1;v=v.split(":");const F=[];for(;I>0&&v.length;)F.push(v.shift()),I--;return v.length&&F.push(v.join(":")),F}function Fr(v,I,F,K){this.j=v,this.i=I,this.l=F,this.S=K||1,this.V=new Si(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new kl}function kl(){this.i=null,this.g="",this.h=!1}var Nl={},eo={};function ii(v,I,F){v.M=1,v.A=kt(ur(I)),v.u=F,v.R=!0,Xi(v,null)}function Xi(v,I){v.F=Date.now(),to(v),v.B=ur(v.A);var F=v.B,K=v.S;Array.isArray(K)||(K=[String(K)]),uo(F.i,"t",K),v.C=0,F=v.j.L,v.h=new kl,v.g=zl(v.j,F?I:null,!v.u),v.P>0&&(v.O=new Zs(f(v.Y,v,v.g),v.P)),I=v.V,F=v.g,K=v.ba;var se="readystatechange";Array.isArray(se)||(se&&(Xs[0]=se.toString()),se=Xs);for(let fe=0;fe<se.length;fe++){const ke=Pe(F,se[fe],K||I.handleEvent,!1,I.h||I);if(!ke)break;I.g[ke.key]=ke}I=v.J?Y(v.J):{},v.u?(v.v||(v.v="POST"),I["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,I)):(v.v="GET",v.g.ea(v.B,v.v,null,I)),Hi(),uh(v.i,v.v,v.B,v.l,v.S,v.u)}Fr.prototype.ba=function(v){v=v.target;const I=this.O;I&&ra(v)==3?I.j():this.Y(v)},Fr.prototype.Y=function(v){try{if(v==this.g)e:{const it=ra(this.g),Tt=this.g.ya(),Ct=this.g.ca();if(!(it<3)&&(it!=3||this.g&&(this.h.h||this.g.la()||Fl(this.g)))){this.K||it!=4||Tt==7||(Tt==8||Ct<=0?Hi(3):Hi(2)),no(this);var I=this.g.ca();this.X=I;var F=Ll(this);if(this.o=I==200,lh(this.i,this.v,this.B,this.l,this.S,it,I),this.o){if(this.U&&!this.L){t:{if(this.g){var K,se=this.g;if((K=se.g?se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(K)){var fe=K;break t}}fe=null}if(v=fe)Zi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Yt(this,v);else{this.o=!1,this.m=3,rn(12),ai(this),ro(this);break e}}if(this.R){v=!0;let yn;for(;!this.K&&this.C<F.length;)if(yn=fh(this,F),yn==eo){it==4&&(this.m=4,rn(14),v=!1),Zi(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==Nl){this.m=4,rn(15),Zi(this.i,this.l,F,"[Invalid Chunk]"),v=!1;break}else Zi(this.i,this.l,yn,null),Yt(this,yn);if(hh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||F.length!=0||this.h.h||(this.m=1,rn(16),v=!1),this.o=this.o&&v,!v)Zi(this.i,this.l,F,"[Invalid Chunked Response]"),ai(this),ro(this);else if(F.length>0&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.aa&&!ke.P&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),mo(ke),ke.P=!0,rn(11))}}else Zi(this.i,this.l,F,null),Yt(this,F);it==4&&ai(this),this.o&&!this.K&&(it==4?cr(this.j,this):(this.o=!1,to(this)))}else ho(this.g),I==400&&F.indexOf("Unknown SID")>0?(this.m=3,rn(12)):(this.m=0,rn(13)),ai(this),ro(this)}}}catch{}};function Ll(v){if(!hh(v))return v.g.la();const I=Fl(v.g);if(I==="")return"";let F="";const K=I.length,se=ra(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return ai(v),ro(v),"";v.h.i=new s.TextDecoder}for(let fe=0;fe<K;fe++)v.h.h=!0,F+=v.h.i.decode(I[fe],{stream:!(se&&fe==K-1)});return I.length=0,v.h.g+=F,v.C=0,v.h.g}function hh(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function fh(v,I){var F=v.C,K=I.indexOf(`
`,F);return K==-1?eo:(F=Number(I.substring(F,K)),isNaN(F)?Nl:(K+=1,K+F>I.length?eo:(I=I.slice(K,K+F),v.C=K+F,I)))}Fr.prototype.cancel=function(){this.K=!0,ai(this)};function to(v){v.T=Date.now()+v.H,Dl(v,v.H)}function Dl(v,I){if(v.D!=null)throw Error("WatchDog timer not null");v.D=ds(f(v.aa,v),I)}function no(v){v.D&&(s.clearTimeout(v.D),v.D=null)}Fr.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(uu(this.i,this.B),this.M!=2&&(Hi(),rn(17)),ai(this),this.m=2,ro(this)):Dl(this,this.T-v)};function ro(v){v.j.I==0||v.K||cr(v.j,v)}function ai(v){no(v);var I=v.O;I&&typeof I.dispose=="function"&&I.dispose(),v.O=null,Ys(v.V),v.g&&(I=v.g,v.g=null,I.abort(),I.dispose())}function Yt(v,I){try{var F=v.j;if(F.I!=0&&(F.g==v||ao(F.h,v))){if(!v.L&&ao(F.h,v)&&F.I==3){try{var K=F.Ba.g.parse(I)}catch{K=null}if(Array.isArray(K)&&K.length==3){var se=K;if(se[0]==0){e:if(!F.v){if(F.g)if(F.g.F+3e3<v.F)fu(F),Ur(F);else break e;aa(F),rn(18)}}else F.xa=se[1],0<F.xa-F.K&&se[2]<37500&&F.F&&F.A==0&&!F.C&&(F.C=ds(f(F.Va,F),6e3));io(F.h)<=1&&F.ta&&(F.ta=void 0)}else Er(F,11)}else if((v.L||F.g==v)&&fu(F),!q(I))for(se=F.Ba.g.parse(I),I=0;I<se.length;I++){let Ct=se[I];const yn=Ct[0];if(!(yn<=F.K))if(F.K=yn,Ct=Ct[1],F.I==2)if(Ct[0]=="c"){F.M=Ct[1],F.ba=Ct[2];const Gr=Ct[3];Gr!=null&&(F.ka=Gr,F.j.info("VER="+F.ka));const Ii=Ct[4];Ii!=null&&(F.za=Ii,F.j.info("SVER="+F.za));const li=Ct[5];li!=null&&typeof li=="number"&&li>0&&(K=1.5*li,F.O=K,F.j.info("backChannelRequestTimeoutMs_="+K)),K=F;const oa=v.g;if(oa){const yu=oa.g?oa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yu){var fe=K.h;fe.g||yu.indexOf("spdy")==-1&&yu.indexOf("quic")==-1&&yu.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(Yi(fe,fe.h),fe.h=null))}if(K.G){const vu=oa.g?oa.g.getResponseHeader("X-HTTP-Session-Id"):null;vu&&(K.wa=vu,Be(K.J,K.G,vu))}}F.I=3,F.l&&F.l.ra(),F.aa&&(F.T=Date.now()-v.F,F.j.info("Handshake RTT: "+F.T+"ms")),K=F;var ke=v;if(K.na=pu(K,K.L?K.ba:null,K.W),ke.L){ys(K.h,ke);var it=ke,Tt=K.O;Tt&&(it.H=Tt),it.D&&(no(it),to(it)),K.g=ke}else qn(K);F.i.length>0&&qr(F)}else Ct[0]!="stop"&&Ct[0]!="close"||Er(F,7);else F.I==3&&(Ct[0]=="stop"||Ct[0]=="close"?Ct[0]=="stop"?Er(F,7):mt(F):Ct[0]!="noop"&&F.l&&F.l.qa(Ct),F.A=0)}}Hi(4)}catch{}}var Sd=class{constructor(v,I){this.g=v,this.map=I}};function lu(v){this.l=v||10,s.PerformanceNavigationTiming?(v=s.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jl(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function io(v){return v.h?1:v.g?v.g.size:0}function ao(v,I){return v.h?v.h==I:v.g?v.g.has(I):!1}function Yi(v,I){v.g?v.g.add(I):v.h=I}function ys(v,I){v.h&&v.h==I?v.h=null:v.g&&v.g.has(I)&&v.g.delete(I)}lu.prototype.cancel=function(){if(this.i=wr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function wr(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let I=v.i;for(const F of v.g.values())I=I.concat(F.G);return I}return b(v.i)}var vs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lt(v,I){if(v){v=v.split("&");for(let F=0;F<v.length;F++){const K=v[F].indexOf("=");let se,fe=null;K>=0?(se=v[F].substring(0,K),fe=v[F].substring(K+1)):se=v[F],I(se,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function Pt(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let I;v instanceof Pt?(this.l=v.l,si(this,v.j),this.o=v.o,this.g=v.g,lr(this,v.u),this.h=v.h,Qi(this,ws(v.i)),this.m=v.m):v&&(I=String(v).match(vs))?(this.l=!1,si(this,I[1]||"",!0),this.o=Fa(I[2]||""),this.g=Fa(I[3]||"",!0),lr(this,I[4]),this.h=Fa(I[5]||"",!0),Qi(this,I[6]||"",!0),this.m=Fa(I[7]||"")):(this.l=!1,this.i=new pt(null,this.l))}Pt.prototype.toString=function(){const v=[];var I=this.j;I&&v.push(Ji(I,Vl,!0),":");var F=this.g;return(F||I=="file")&&(v.push("//"),(I=this.o)&&v.push(Ji(I,Vl,!0),"@"),v.push(ze(F).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.u,F!=null&&v.push(":",String(F))),(F=this.h)&&(this.g&&F.charAt(0)!="/"&&v.push("/"),v.push(Ji(F,F.charAt(0)=="/"?Br:_s,!0))),(F=this.i.toString())&&v.push("?",F),(F=this.m)&&v.push("#",Ji(F,Ti)),v.join("")},Pt.prototype.resolve=function(v){const I=ur(this);let F=!!v.j;F?si(I,v.j):F=!!v.o,F?I.o=v.o:F=!!v.g,F?I.g=v.g:F=v.u!=null;var K=v.h;if(F)lr(I,v.u);else if(F=!!v.h){if(K.charAt(0)!="/")if(this.g&&!this.h)K="/"+K;else{var se=I.h.lastIndexOf("/");se!=-1&&(K=I.h.slice(0,se+1)+K)}if(se=K,se==".."||se==".")K="";else if(se.indexOf("./")!=-1||se.indexOf("/.")!=-1){K=se.lastIndexOf("/",0)==0,se=se.split("/");const fe=[];for(let ke=0;ke<se.length;){const it=se[ke++];it=="."?K&&ke==se.length&&fe.push(""):it==".."?((fe.length>1||fe.length==1&&fe[0]!="")&&fe.pop(),K&&ke==se.length&&fe.push("")):(fe.push(it),K=!0)}K=fe.join("/")}else K=se}return F?I.h=K:F=v.i.toString()!=="",F?Qi(I,ws(v.i)):F=!!v.m,F&&(I.m=v.m),I};function ur(v){return new Pt(v)}function si(v,I,F){v.j=F?Fa(I,!0):I,v.j&&(v.j=v.j.replace(/:$/,""))}function lr(v,I){if(I){if(I=Number(I),isNaN(I)||I<0)throw Error("Bad port number "+I);v.u=I}else v.u=null}function Qi(v,I,F){I instanceof pt?(v.i=I,bs(v.i,v.l)):(F||(I=Ji(I,un)),v.i=new pt(I,v.l))}function Be(v,I,F){v.i.set(I,F)}function kt(v){return Be(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function Fa(v,I){return v?I?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Ji(v,I,F){return typeof v=="string"?(v=encodeURI(v).replace(I,er),F&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function er(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Vl=/[#\/\?@]/g,_s=/[#\?:]/g,Br=/[#\?]/g,un=/[#\?@]/g,Ti=/#/g;function pt(v,I){this.h=this.g=null,this.i=v||null,this.j=!!I}function br(v){v.g||(v.g=new Map,v.h=0,v.i&&lt(v.i,function(I,F){v.add(decodeURIComponent(I.replace(/\+/g," ")),F)}))}t=pt.prototype,t.add=function(v,I){br(this),this.i=null,v=oi(this,v);let F=this.g.get(v);return F||this.g.set(v,F=[]),F.push(I),this.h+=1,this};function so(v,I){br(v),I=oi(v,I),v.g.has(I)&&(v.i=null,v.h-=v.g.get(I).length,v.g.delete(I))}function ea(v,I){return br(v),I=oi(v,I),v.g.has(I)}t.forEach=function(v,I){br(this),this.g.forEach(function(F,K){F.forEach(function(se){v.call(I,se,K,this)},this)},this)};function oo(v,I){br(v);let F=[];if(typeof I=="string")ea(v,I)&&(F=F.concat(v.g.get(oi(v,I))));else for(v=Array.from(v.g.values()),I=0;I<v.length;I++)F=F.concat(v[I]);return F}t.set=function(v,I){return br(this),this.i=null,v=oi(this,v),ea(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[I]),this.h+=1,this},t.get=function(v,I){return v?(v=oo(this,v),v.length>0?String(v[0]):I):I};function uo(v,I,F){so(v,I),F.length>0&&(v.i=null,v.g.set(oi(v,I),b(F)),v.h+=F.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],I=Array.from(this.g.keys());for(let K=0;K<I.length;K++){var F=I[K];const se=ze(F);F=oo(this,F);for(let fe=0;fe<F.length;fe++){let ke=se;F[fe]!==""&&(ke+="="+ze(F[fe])),v.push(ke)}}return this.i=v.join("&")};function ws(v){const I=new pt;return I.i=v.i,v.g&&(I.g=new Map(v.g),I.h=v.h),I}function oi(v,I){return I=String(I),v.j&&(I=I.toLowerCase()),I}function bs(v,I){I&&!v.j&&(br(v),v.i=null,v.g.forEach(function(F,K){const se=K.toLowerCase();K!=se&&(so(this,K),uo(this,se,F))},v)),v.j=I}function $r(v,I){const F=new ps;if(s.Image){const K=new Image;K.onload=m(Mn,F,"TestLoadImage: loaded",!0,I,K),K.onerror=m(Mn,F,"TestLoadImage: error",!1,I,K),K.onabort=m(Mn,F,"TestLoadImage: abort",!1,I,K),K.ontimeout=m(Mn,F,"TestLoadImage: timeout",!1,I,K),s.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=v}else I(!1)}function Ai(v,I){const F=new ps,K=new AbortController,se=setTimeout(()=>{K.abort(),Mn(F,"TestPingServer: timeout",!1,I)},1e4);fetch(v,{signal:K.signal}).then(fe=>{clearTimeout(se),fe.ok?Mn(F,"TestPingServer: ok",!0,I):Mn(F,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(se),Mn(F,"TestPingServer: error",!1,I)})}function Mn(v,I,F,K,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),K(F)}catch{}}function lo(){this.g=new cs}function et(v){this.i=v.Sb||null,this.h=v.ab||!1}p(et,ja),et.prototype.g=function(){return new ln(this.i,this.h)};function ln(v,I){Ut.call(this),this.H=v,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(ln,Ut),t=ln.prototype,t.open=function(v,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=I,this.readyState=1,zr(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const I={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(I.body=v),(this.H||s).fetch(new Request(this.D,I)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ba(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,zr(this)),this.g&&(this.readyState=3,zr(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Nt(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function Nt(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var I=v.value?v.value:new Uint8Array(0);(I=this.B.decode(I,{stream:!v.done}))&&(this.response=this.responseText+=I)}v.done?Ba(this):zr(this),this.readyState==3&&Nt(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,Ba(this))},t.Na=function(v){this.g&&(this.response=v,Ba(this))},t.ga=function(){this.g&&Ba(this)};function Ba(v){v.readyState=4,v.l=null,v.j=null,v.B=null,zr(v)}t.setRequestHeader=function(v,I){this.A.append(v,I)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],I=this.h.entries();for(var F=I.next();!F.done;)F=F.value,v.push(F[0]+": "+F[1]),F=I.next();return v.join(`\r
`)};function zr(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(ln.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function cu(v){let I="";return ge(v,function(F,K){I+=K,I+=":",I+=F,I+=`\r
`}),I}function xs(v,I,F){e:{for(K in F){var K=!1;break e}K=!0}K||(F=cu(F),typeof v=="string"?F!=null&&ze(F):Be(v,I,F))}function Et(v){Ut.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Et,Ut);var hu=/^https?$/i,co=["POST","PUT"];t=Et.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,I,F,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);I=I?I.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ch.g(),this.g.onreadystatechange=y(f(this.Ca,this));try{this.B=!0,this.g.open(I,String(v),!0),this.B=!1}catch(fe){en(this,fe);return}if(v=F||"",F=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var se in K)F.set(se,K[se]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const fe of K.keys())F.set(fe,K.get(fe));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(F.keys()).find(fe=>fe.toLowerCase()=="content-type"),se=s.FormData&&v instanceof s.FormData,!(Array.prototype.indexOf.call(co,I,void 0)>=0)||K||se||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,ke]of F)this.g.setRequestHeader(fe,ke);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(fe){en(this,fe)}};function en(v,I){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=I,v.o=5,xr(v),na(v)}function xr(v){v.A||(v.A=!0,qt(v,"complete"),qt(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,qt(this,"complete"),qt(this,"abort"),na(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),na(this,!0)),Et.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ta(this):this.Xa())},t.Xa=function(){ta(this)};function ta(v){if(v.h&&typeof a<"u"){if(v.v&&ra(v)==4)setTimeout(v.Ca.bind(v),0);else if(qt(v,"readystatechange"),ra(v)==4){v.h=!1;try{const fe=v.ca();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var F;if(!(F=I)){var K;if(K=fe===0){let ke=String(v.D).match(vs)[1]||null;!ke&&s.self&&s.self.location&&(ke=s.self.location.protocol.slice(0,-1)),K=!hu.test(ke?ke.toLowerCase():"")}F=K}if(F)qt(v,"complete"),qt(v,"success");else{v.o=6;try{var se=ra(v)>2?v.g.statusText:""}catch{se=""}v.l=se+" ["+v.ca()+"]",xr(v)}}finally{na(v)}}}}function na(v,I){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const F=v.g;v.g=null,I||qt(v,"ready");try{F.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ra(v){return v.g?v.g.readyState:0}t.ca=function(){try{return ra(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var I=this.g.responseText;return v&&I.indexOf(v)==0&&(I=I.substring(v.length)),sh(I)}};function Fl(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function ho(v){const I={};v=(v.g&&ra(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<v.length;K++){if(q(v[K]))continue;var F=Js(v[K]);const se=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const fe=I[se]||[];I[se]=fe,fe.push(F)}ie(I,function(K){return K.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ia(v,I,F){return F&&F.internalChannelParams&&F.internalChannelParams[v]||I}function fo(v){this.za=0,this.i=[],this.j=new ps,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ia("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ia("baseRetryDelayMs",5e3,v),this.Za=ia("retryDelaySeedMs",1e4,v),this.Ta=ia("forwardChannelMaxRetries",2,v),this.va=ia("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new lu(v&&v.concurrentRequestLimit),this.Ba=new lo,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=fo.prototype,t.ka=8,t.I=1,t.connect=function(v,I,F,K){rn(0),this.W=v,this.H=I||{},F&&K!==void 0&&(this.H.OSID=F,this.H.OAID=K),this.F=this.X,this.J=pu(this,null,this.W),qr(this)};function mt(v){if(tr(v),v.I==3){var I=v.V++,F=ur(v.J);if(Be(F,"SID",v.M),Be(F,"RID",I),Be(F,"TYPE","terminate"),ui(v,F),I=new Fr(v,v.j,I),I.M=2,I.A=kt(ur(F)),F=!1,s.navigator&&s.navigator.sendBeacon)try{F=s.navigator.sendBeacon(I.A.toString(),"")}catch{}!F&&s.Image&&(new Image().src=I.A,F=!0),F||(I.g=zl(I.j,null),I.g.ea(I.A)),I.F=Date.now(),to(I)}Sr(v)}function Ur(v){v.g&&(mo(v),v.g.cancel(),v.g=null)}function tr(v){Ur(v),v.v&&(s.clearTimeout(v.v),v.v=null),fu(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&s.clearTimeout(v.m),v.m=null)}function qr(v){if(!jl(v.h)&&!v.m){v.m=!0;var I=v.Ea;k||j(),V||(k(),V=!0),C.add(I,v),v.D=0}}function Bl(v,I){return io(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=I.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=ds(f(v.Ea,v,I),du(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const se=new Fr(this,this.j,v);let fe=this.o;if(this.U&&(fe?(fe=Y(fe),xe(fe,this.U)):fe=this.U),this.u!==null||this.R||(se.J=fe,fe=null),this.S)e:{for(var I=0,F=0;F<this.i.length;F++){t:{var K=this.i[F];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(I+=K,I>4096){I=F;break e}if(I===4096||F===this.i.length-1){I=F+1;break e}}I=1e3}else I=1e3;I=$l(this,se,I),F=ur(this.J),Be(F,"RID",v),Be(F,"CVER",22),this.G&&Be(F,"X-HTTP-Session-Id",this.G),ui(this,F),fe&&(this.R?I="headers="+ze(cu(fe))+"&"+I:this.u&&xs(F,this.u,fe)),Yi(this.h,se),this.Ra&&Be(F,"TYPE","init"),this.S?(Be(F,"$req",I),Be(F,"SID","null"),se.U=!0,ii(se,F,null)):ii(se,F,I),this.I=2}}else this.I==3&&(v?po(this,v):this.i.length==0||jl(this.h)||po(this))};function po(v,I){var F;I?F=I.l:F=v.V++;const K=ur(v.J);Be(K,"SID",v.M),Be(K,"RID",F),Be(K,"AID",v.K),ui(v,K),v.u&&v.o&&xs(K,v.u,v.o),F=new Fr(v,v.j,F,v.D+1),v.u===null&&(F.J=v.o),I&&(v.i=I.G.concat(v.i)),I=$l(v,F,1e3),F.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),Yi(v.h,F),ii(F,K,I)}function ui(v,I){v.H&&ge(v.H,function(F,K){Be(I,K,F)}),v.l&&ge({},function(F,K){Be(I,K,F)})}function $l(v,I,F){F=Math.min(v.i.length,F);const K=v.l?f(v.l.Ka,v.l,v):null;e:{var se=v.i;let it=-1;for(;;){const Tt=["count="+F];it==-1?F>0?(it=se[0].g,Tt.push("ofs="+it)):it=0:Tt.push("ofs="+it);let Ct=!0;for(let yn=0;yn<F;yn++){var fe=se[yn].g;const Gr=se[yn].map;if(fe-=it,fe<0)it=Math.max(0,se[yn].g-100),Ct=!1;else try{fe="req"+fe+"_"||"";try{var ke=Gr instanceof Map?Gr:Object.entries(Gr);for(const[Ii,li]of ke){let oa=li;o(li)&&(oa=Da(li)),Tt.push(fe+Ii+"="+encodeURIComponent(oa))}}catch(Ii){throw Tt.push(fe+"type="+encodeURIComponent("_badmap")),Ii}}catch{K&&K(Gr)}}if(Ct){ke=Tt.join("&");break e}}ke=void 0}return v=v.i.splice(0,F),I.G=v,ke}function qn(v){if(!v.g&&!v.v){v.Y=1;var I=v.Da;k||j(),V||(k(),V=!0),C.add(I,v),v.A=0}}function aa(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=ds(f(v.Da,v),du(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,sa(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=ds(f(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,rn(10),Ur(this),sa(this))};function mo(v){v.B!=null&&(s.clearTimeout(v.B),v.B=null)}function sa(v){v.g=new Fr(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var I=ur(v.na);Be(I,"RID","rpc"),Be(I,"SID",v.M),Be(I,"AID",v.K),Be(I,"CI",v.F?"0":"1"),!v.F&&v.ia&&Be(I,"TO",v.ia),Be(I,"TYPE","xmlhttp"),ui(v,I),v.u&&v.o&&xs(I,v.u,v.o),v.O&&(v.g.H=v.O);var F=v.g;v=v.ba,F.M=1,F.A=kt(ur(I)),F.u=null,F.R=!0,Xi(F,v)}t.Va=function(){this.C!=null&&(this.C=null,Ur(this),aa(this),rn(19))};function fu(v){v.C!=null&&(s.clearTimeout(v.C),v.C=null)}function cr(v,I){var F=null;if(v.g==I){fu(v),mo(v),v.g=null;var K=2}else if(ao(v.h,I))F=I.G,ys(v.h,I),K=1;else return;if(v.I!=0){if(I.o)if(K==1){F=I.u?I.u.length:0,I=Date.now()-I.F;var se=v.D;K=fs(),qt(K,new Rl(K,F)),qr(v)}else qn(v);else if(se=I.m,se==3||se==0&&I.X>0||!(K==1&&Bl(v,I)||K==2&&aa(v)))switch(F&&F.length>0&&(I=v.h,I.i=I.i.concat(F)),se){case 1:Er(v,5);break;case 4:Er(v,10);break;case 3:Er(v,6);break;default:Er(v,2)}}}function du(v,I){let F=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(F*=2),F*I}function Er(v,I){if(v.j.info("Error code "+I),I==2){var F=f(v.bb,v),K=v.Ua;const se=!K;K=new Pt(K||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||si(K,"https"),kt(K),se?$r(K.toString(),F):Ai(K.toString(),F)}else rn(2);v.I=0,v.l&&v.l.pa(I),Sr(v),tr(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function Sr(v){if(v.I=0,v.ja=[],v.l){const I=wr(v.h);(I.length!=0||v.i.length!=0)&&(E(v.ja,I),E(v.ja,v.i),v.h.i.length=0,b(v.i),v.i.length=0),v.l.oa()}}function pu(v,I,F){var K=F instanceof Pt?ur(F):new Pt(F);if(K.g!="")I&&(K.g=I+"."+K.g),lr(K,K.u);else{var se=s.location;K=se.protocol,I=I?I+"."+se.hostname:se.hostname,se=+se.port;const fe=new Pt(null);K&&si(fe,K),I&&(fe.g=I),se&&lr(fe,se),F&&(fe.h=F),K=fe}return F=v.G,I=v.wa,F&&I&&Be(K,F,I),Be(K,"VER",v.ka),ui(v,K),K}function zl(v,I,F){if(I&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return I=v.Aa&&!v.ma?new Et(new et({ab:F})):new Et(v.ma),I.Fa(v.L),I}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}t=mu.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function gu(){}gu.prototype.g=function(v,I){return new Ln(v,I)};function Ln(v,I){Ut.call(this),this.g=new fo(I),this.l=v,this.h=I&&I.messageUrlParams||null,v=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(v?v["X-WebChannel-Content-Type"]=I.messageContentType:v={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.sa&&(v?v["X-WebChannel-Client-Profile"]=I.sa:v={"X-WebChannel-Client-Profile":I.sa}),this.g.U=v,(v=I&&I.Qb)&&!q(v)&&(this.g.u=v),this.A=I&&I.supportsCrossDomainXhr||!1,this.v=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!q(I)&&(this.g.G=I,v=this.h,v!==null&&I in v&&(v=this.h,I in v&&delete v[I])),this.j=new Es(this)}p(Ln,Ut),Ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){mt(this.g)},Ln.prototype.o=function(v){var I=this.g;if(typeof v=="string"){var F={};F.__data__=v,v=F}else this.v&&(F={},F.__data__=Da(v),v=F);I.i.push(new Sd(I.Ya++,v)),I.I==3&&qr(I)},Ln.prototype.N=function(){this.g.l=null,delete this.j,mt(this.g),delete this.g,Ln.Z.N.call(this)};function Ul(v){hs.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var I=v.__sm__;if(I){e:{for(const F in I){v=F;break e}v=void 0}(this.i=v)&&(v=this.i,I=I!==null&&v in I?I[v]:void 0),this.data=I}else this.data=v}p(Ul,hs);function dh(){su.call(this),this.status=1}p(dh,su);function Es(v){this.g=v}p(Es,mu),Es.prototype.ra=function(){qt(this.g,"a")},Es.prototype.qa=function(v){qt(this.g,new Ul(v))},Es.prototype.pa=function(v){qt(this.g,new dh)},Es.prototype.oa=function(){qt(this.g,"b")},gu.prototype.createWebChannel=gu.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,Z8=function(){return new gu},K8=function(){return fs()},H8=Pi,mP={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ms.NO_ERROR=0,ms.TIMEOUT=8,ms.HTTP_ERROR=6,iv=ms,gs.COMPLETE="complete",W8=gs,oh.EventType=Va,Va.OPEN="a",Va.CLOSE="b",Va.ERROR="c",Va.MESSAGE="d",Ut.prototype.listen=Ut.prototype.J,gp=oh,Et.prototype.listenOnce=Et.prototype.K,Et.prototype.getLastError=Et.prototype.Ha,Et.prototype.getLastErrorCode=Et.prototype.ya,Et.prototype.getStatus=Et.prototype.ca,Et.prototype.getResponseJson=Et.prototype.La,Et.prototype.getResponseText=Et.prototype.la,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Fa,G8=Et}).apply(typeof My<"u"?My:typeof self<"u"?self:typeof window<"u"?window:{});let mr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mr.UNAUTHENTICATED=new mr(null),mr.GOOGLE_CREDENTIALS=new mr("google-credentials-uid"),mr.FIRST_PARTY=new mr("first-party-uid"),mr.MOCK_USER=new mr("mock-user");let ud="12.9.0";function Xq(t){ud=t}const Lc=new T2("@firebase/firestore");function Zh(){return Lc.logLevel}function Ie(t,...e){if(Lc.logLevel<=wt.DEBUG){const n=e.map(I2);Lc.debug(`Firestore (${ud}): ${t}`,...n)}}function Yr(t,...e){if(Lc.logLevel<=wt.ERROR){const n=e.map(I2);Lc.error(`Firestore (${ud}): ${t}`,...n)}}function pl(t,...e){if(Lc.logLevel<=wt.WARN){const n=e.map(I2);Lc.warn(`Firestore (${ud}): ${t}`,...n)}}function I2(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function We(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,X8(t,r,n)}function X8(t,e,n){let r=`FIRESTORE (${ud}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Yr(r),new Error(r)}function Xe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||X8(e,i,r)}function ht(t,e){return t}const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Hs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Y8{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(mr.UNAUTHENTICATED)))}shutdown(){}}class Qq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Jq{constructor(e){this.t=e,this.currentUser=mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Vs,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=a;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},o=c=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>o(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Vs)}}),0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string",31837,{l:r}),new Y8(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new mr(e)}}class eG{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class tG{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new eG(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(mr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class oO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nG{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ea(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const r=a=>{a.error!=null&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,Ie("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new oO(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new oO(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function rG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class M2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=rG(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function ct(t,e){return t<e?-1:t>e?1:0}function gP(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Gw(i)===Gw(a)?ct(i,a):Gw(i)?1:-1}return ct(t.length,e.length)}const iG=55296,aG=57343;function Gw(t){const e=t.charCodeAt(0);return e>=iG&&e<=aG}function bf(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function Q8(t){return t+"\0"}const uO="__name__";class ks{constructor(e,n,r){n===void 0?n=0:n>e.length&&We(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&We(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ks.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ks?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=ks.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return ct(e.length,n.length)}static compareSegments(e,n){const r=ks.isNumericId(e),i=ks.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ks.extractNumericId(e).compare(ks.extractNumericId(n)):gP(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ol.fromString(e.substring(4,e.length-2))}}class Lt extends ks{construct(e,n,r){return new Lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Lt(n)}static emptyPath(){return new Lt([])}}const sG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends ks{construct(e,n,r){return new bn(e,n,r)}static isValidIdentifier(e){return sG.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uO}static keyField(){return new bn([uO])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ne(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Ne(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ne(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new Ne(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(n)}static emptyPath(){return new bn([])}}class je{constructor(e){this.path=e}static fromPath(e){return new je(Lt.fromString(e))}static fromName(e){return new je(Lt.fromString(e).popFirst(5))}static empty(){return new je(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new Lt(e.slice()))}}function J8(t,e,n){if(!n)throw new Ne(ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oG(t,e,n,r){if(e===!0&&r===!0)throw new Ne(ve.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lO(t){if(!je.isDocumentKey(t))throw new Ne(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cO(t){if(je.isDocumentKey(t))throw new Ne(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function e5(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function h0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":We(12329,{type:typeof t})}function Ra(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ne(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=h0(t);throw new Ne(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Bn(t,e){const n={typeString:t};return e&&(n.value=e),n}function ng(t,e){if(!e5(t))throw new Ne(ve.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Ne(ve.INVALID_ARGUMENT,n);return!0}const hO=-62135596800,fO=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*fO);return new Dt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ne(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hO)throw new Ne(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fO}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ng(e,Dt._jsonSchema))return new Dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Dt._jsonSchemaVersion="firestore/timestamp/1.0",Dt._jsonSchema={type:Bn("string",Dt._jsonSchemaVersion),seconds:Bn("number"),nanoseconds:Bn("number")};class Qe{static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new Dt(0,0))}static max(){return new Qe(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Yp=-1;class Iv{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function yP(t){return t.fields.find((e=>e.kind===2))}function cc(t){return t.fields.filter((e=>e.kind!==2))}Iv.UNKNOWN_ID=-1;class av{constructor(e,n){this.fieldPath=e,this.kind=n}}class Qp{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Qp(0,zi.min())}}function uG(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Qe.fromTimestamp(r===1e9?new Dt(n+1,0):new Dt(n,r));return new zi(i,je.empty(),e)}function t5(t){return new zi(t.readTime,t.key,Yp)}class zi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zi(Qe.min(),je.empty(),Yp)}static max(){return new zi(Qe.max(),je.empty(),Yp)}}function C2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=je.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}const n5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class r5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Jc(t){if(t.code!==ve.FAILED_PRECONDITION||t.message!==n5)throw t;Ie("LocalStore","Unexpectedly lost primary lease")}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&We(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.reject(n)}static resolve(e){return new ue(((n,r)=>{n(e)}))}static reject(e){return new ue(((n,r)=>{r(e)}))}static waitFor(e){return new ue(((n,r)=>{let i=0,a=0,s=!1;e.forEach((o=>{++i,o.next((()=>{++a,s&&a===i&&n()}),(c=>r(c)))})),s=!0,a===i&&n()}))}static or(e){let n=ue.resolve(!1);for(const r of e)n=n.next((i=>i?ue.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new ue(((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let c=0;c<a;c++){const f=c;n(e[f]).next((m=>{s[f]=m,++o,o===a&&r(s)}),(m=>i(m)))}}))}static doWhile(e,n){return new ue(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}const Vi="SimpleDb";class f0{static open(e,n,r,i){try{return new f0(n,e.transaction(i,r))}catch(a){throw new Mp(n,a)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Vs,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Mp(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=O2(r.target.error);this.S.reject(new Mp(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(Ie(Vi,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new cG(n)}}class ul{static delete(e){return Ie(Vi,"Removing database:",e),mc(C8().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!V8())return!1;if(ul.F())return!0;const e=Yn(),n=ul.M(e),r=0<n&&n<10,i=i5(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,ul.M(Yn())===12.2&&Yr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(Ie(Vi,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const s=a.target.result;n(s)},i.onblocked=()=>{r(new Mp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const s=a.target.error;s.name==="VersionError"?r(new Ne(ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new Ne(ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Mp(e,s))},i.onupgradeneeded=a=>{Ie(Vi,'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const s=a.target.result;this.N.k(s,i.transaction,a.oldVersion,this.version).next((()=>{Ie(Vi,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=n=>this.K(n)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const a=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.L(e);const o=f0.open(this.db,e,a?"readonly":"readwrite",r),c=i(o).next((f=>(o.C(),f))).catch((f=>(o.abort(f),ue.reject(f)))).toPromise();return c.catch((()=>{})),await o.D,c}catch(o){const c=o,f=c.name!=="FirebaseError"&&s<3;if(Ie(Vi,"Transaction failed with error:",c.message,"Retrying:",f),this.close(),!f)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function i5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class lG{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return mc(this.U.delete())}}class Mp extends Ne{constructor(e,n){super(ve.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function xl(t){return t.name==="IndexedDbTransactionError"}class cG{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Ie(Vi,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(Ie(Vi,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),mc(r)}add(e){return Ie(Vi,"ADD",this.store.name,e,e),mc(this.store.add(e))}get(e){return mc(this.store.get(e)).next((n=>(n===void 0&&(n=null),Ie(Vi,"GET",this.store.name,e,n),n)))}delete(e){return Ie(Vi,"DELETE",this.store.name,e),mc(this.store.delete(e))}count(){return Ie(Vi,"COUNT",this.store.name),mc(this.store.count())}H(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(r.range);return new ue(((s,o)=>{a.onerror=c=>{o(c.target.error)},a.onsuccess=c=>{s(c.target.result)}}))}{const a=this.cursor(r),s=[];return this.J(a,((o,c)=>{s.push(c)})).next((()=>s))}}Z(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new ue(((i,a)=>{r.onerror=s=>{a(s.target.error)},r.onsuccess=s=>{i(s.target.result)}}))}X(e,n){Ie(Vi,"DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.J(i,((a,s,o)=>o.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.J(i,n)}te(e){const n=this.cursor({});return new ue(((r,i)=>{n.onerror=a=>{const s=O2(a.target.error);i(s)},n.onsuccess=a=>{const s=a.target.result;s?e(s.primaryKey,s.value).next((o=>{o?s.continue():r()})):r()}}))}J(e,n){const r=[];return new ue(((i,a)=>{e.onerror=s=>{a(s.target.error)},e.onsuccess=s=>{const o=s.target.result;if(!o)return void i();const c=new lG(o),f=n(o.primaryKey,o.value,c);if(f instanceof ue){const m=f.catch((p=>(c.done(),ue.reject(p))));r.push(m)}c.isDone?i():c.G===null?o.continue():o.continue(c.G)}})).next((()=>ue.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function mc(t){return new ue(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=O2(r.target.error);n(i)}}))}let dO=!1;function O2(t){const e=ul.M(Yn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dO||(dO=!0,setTimeout((()=>{throw r}),0)),r}}return t}const Cp="IndexBackfiller";class hG{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){Ie(Cp,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();Ie(Cp,`Documents written: ${n}`)}catch(n){xl(n)?Ie(Cp,"Ignoring IndexedDB error during index backfill: ",n):await Jc(n)}await this.re(6e4)}))}}class fG{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,a=!0;return ue.doWhile((()=>a===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((s=>{if(s!==null&&!r.has(s))return Ie(Cp,`Processing collection: ${s}`),this.oe(e,s,i).next((o=>{i-=o,r.add(s)}));a=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((a=>{const s=a.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next((()=>this._e(i,a))).next((o=>(Ie(Cp,`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,n,o)))).next((()=>s.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,a)=>{const s=t5(a);C2(s,r)>0&&(r=s)})),new zi(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class Pa{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pa.ce=-1;const Pc=-1;function d0(t){return t==null}function Jp(t){return t===0&&1/t==-1/0}function dG(t){return typeof t=="number"&&Number.isInteger(t)&&!Jp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const Mv="";function Vr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=pO(e)),e=pG(t.get(n),e);return pO(e)}function pG(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case Mv:n+="";break;default:n+=a}}return n}function pO(t){return t+Mv+""}function Ns(t){const e=t.length;if(Xe(e>=2,64408,{path:t}),e===2)return Xe(t.charAt(0)===Mv&&t.charAt(1)==="",56145,{path:t}),Lt.emptyPath();const n=e-2,r=[];let i="";for(let a=0;a<e;){const s=t.indexOf(Mv,a);switch((s<0||s>n)&&We(50515,{path:t}),t.charAt(s+1)){case"":const o=t.substring(a,s);let c;i.length===0?c=o:(i+=o,c=i,i=""),r.push(c);break;case"":i+=t.substring(a,s),i+="\0";break;case"":i+=t.substring(a,s+1);break;default:We(61167,{path:t})}a=s+2}return new Lt(r)}const hc="remoteDocuments",rg="owner",Fh="owner",em="mutationQueues",mG="userId",Ya="mutations",mO="batchId",_c="userMutationsIndex",gO=["userId","batchId"];function sv(t,e){return[t,Vr(e)]}function a5(t,e,n){return[t,Vr(e),n]}const gG={},xf="documentMutations",Cv="remoteDocumentsV14",yG=["prefixPath","collectionGroup","readTime","documentId"],ov="documentKeyIndex",vG=["prefixPath","collectionGroup","documentId"],s5="collectionGroupIndex",_G=["collectionGroup","readTime","prefixPath","documentId"],tm="remoteDocumentGlobal",vP="remoteDocumentGlobalKey",Ef="targets",o5="queryTargetsIndex",wG=["canonicalId","targetId"],Sf="targetDocuments",bG=["targetId","path"],R2="documentTargetsIndex",xG=["path","targetId"],Ov="targetGlobalKey",Tc="targetGlobal",nm="collectionParents",EG=["collectionId","parent"],Pf="clientMetadata",SG="clientId",p0="bundles",PG="bundleId",m0="namedQueries",TG="name",k2="indexConfiguration",AG="indexId",_P="collectionGroupIndex",IG="collectionGroup",Op="indexState",MG=["indexId","uid"],u5="sequenceNumberIndex",CG=["uid","sequenceNumber"],Rp="indexEntries",OG=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],l5="documentKeyIndex",RG=["indexId","uid","orderedDocumentKey"],g0="documentOverlays",kG=["userId","collectionPath","documentId"],wP="collectionPathOverlayIndex",NG=["userId","collectionPath","largestBatchId"],c5="collectionGroupOverlayIndex",LG=["userId","collectionGroup","largestBatchId"],N2="globals",DG="name",h5=[em,Ya,xf,hc,Ef,rg,Tc,Sf,Pf,tm,nm,p0,m0],jG=[...h5,g0],f5=[em,Ya,xf,Cv,Ef,rg,Tc,Sf,Pf,tm,nm,p0,m0,g0],d5=f5,L2=[...d5,k2,Op,Rp],VG=L2,p5=[...L2,N2],FG=p5;class bP extends r5{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Qn(t,e){const n=ht(t);return ul.O(n.le,e)}function yO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function El(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function m5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class mn{constructor(e,n){this.comparator=e,this.root=n||gr.EMPTY}insert(e,n){return new mn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gr.BLACK,null,null))}remove(e){return new mn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cy(this.root,e,this.comparator,!0)}}class Cy{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??gr.RED,this.left=i??gr.EMPTY,this.right=a??gr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new gr(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return gr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw We(43730,{key:this.key,value:this.value});if(this.right.isRed())throw We(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw We(27949);return e+(this.isRed()?0:1)}}gr.EMPTY=null,gr.RED=!0,gr.BLACK=!1;gr.EMPTY=new class{constructor(){this.size=0}get key(){throw We(57766)}get value(){throw We(16141)}get color(){throw We(16727)}get left(){throw We(29726)}get right(){throw We(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new gr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wt{constructor(e){this.comparator=e,this.data=new mn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vO(this.data.getIterator())}getIteratorFrom(e){return new vO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class vO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Bh(t){return t.hasNext()?t.getNext():void 0}class vi{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new vi([])}unionWith(e){let n=new Wt(bn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bf(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class g5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class zn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new g5("Invalid base64 string: "+a):a}})(e);return new zn(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(e);return new zn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zn.EMPTY_BYTE_STRING=new zn("");const BG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uo(t){if(Xe(!!t,39018),typeof t=="string"){let e=0;const n=BG.exec(t);if(Xe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:fn(t.seconds),nanos:fn(t.nanos)}}function fn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qo(t){return typeof t=="string"?zn.fromBase64String(t):zn.fromUint8Array(t)}const y5="server_timestamp",v5="__type__",_5="__previous_value__",w5="__local_write_time__";function D2(t){return(t?.mapValue?.fields||{})[v5]?.stringValue===y5}function y0(t){const e=t.mapValue.fields[_5];return D2(e)?y0(e):e}function rm(t){const e=Uo(t.mapValue.fields[w5].timestampValue);return new Dt(e.seconds,e.nanos)}class $G{constructor(e,n,r,i,a,s,o,c,f,m,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=m,this.apiKey=p}}const Rv="(default)";class Dc{constructor(e,n){this.projectId=e,this.database=n||Rv}static empty(){return new Dc("","")}get isDefaultDatabase(){return this.database===Rv}isEqual(e){return e instanceof Dc&&e.projectId===this.projectId&&e.database===this.database}}function zG(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ne(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dc(t.options.projectId,e)}const j2="__type__",b5="__max__",tl={mapValue:{fields:{__type__:{stringValue:b5}}}},V2="__vector__",Tf="value",uv={nullValue:"NULL_VALUE"};function ml(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?D2(t)?4:x5(t)?9007199254740991:v0(t)?10:11:We(28295,{value:t})}function qs(t,e){if(t===e)return!0;const n=ml(t);if(n!==ml(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rm(t).isEqual(rm(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Uo(i.timestampValue),o=Uo(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return qo(i.bytesValue).isEqual(qo(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return fn(i.geoPointValue.latitude)===fn(a.geoPointValue.latitude)&&fn(i.geoPointValue.longitude)===fn(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return fn(i.integerValue)===fn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=fn(i.doubleValue),o=fn(a.doubleValue);return s===o?Jp(s)===Jp(o):isNaN(s)&&isNaN(o)}return!1})(t,e);case 9:return bf(t.arrayValue.values||[],e.arrayValue.values||[],qs);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(yO(s)!==yO(o))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(o[c]===void 0||!qs(s[c],o[c])))return!1;return!0})(t,e);default:return We(52216,{left:t})}}function im(t,e){return(t.values||[]).find((n=>qs(n,e)))!==void 0}function gl(t,e){if(t===e)return 0;const n=ml(t),r=ml(e);if(n!==r)return ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return(function(a,s){const o=fn(a.integerValue||a.doubleValue),c=fn(s.integerValue||s.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1})(t,e);case 3:return _O(t.timestampValue,e.timestampValue);case 4:return _O(rm(t),rm(e));case 5:return gP(t.stringValue,e.stringValue);case 6:return(function(a,s){const o=qo(a),c=qo(s);return o.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(a,s){const o=a.split("/"),c=s.split("/");for(let f=0;f<o.length&&f<c.length;f++){const m=ct(o[f],c[f]);if(m!==0)return m}return ct(o.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,s){const o=ct(fn(a.latitude),fn(s.latitude));return o!==0?o:ct(fn(a.longitude),fn(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return wO(t.arrayValue,e.arrayValue);case 10:return(function(a,s){const o=a.fields||{},c=s.fields||{},f=o[Tf]?.arrayValue,m=c[Tf]?.arrayValue,p=ct(f?.values?.length||0,m?.values?.length||0);return p!==0?p:wO(f,m)})(t.mapValue,e.mapValue);case 11:return(function(a,s){if(a===tl.mapValue&&s===tl.mapValue)return 0;if(a===tl.mapValue)return 1;if(s===tl.mapValue)return-1;const o=a.fields||{},c=Object.keys(o),f=s.fields||{},m=Object.keys(f);c.sort(),m.sort();for(let p=0;p<c.length&&p<m.length;++p){const y=gP(c[p],m[p]);if(y!==0)return y;const b=gl(o[c[p]],f[m[p]]);if(b!==0)return b}return ct(c.length,m.length)})(t.mapValue,e.mapValue);default:throw We(23264,{he:n})}}function _O(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const n=Uo(t),r=Uo(e),i=ct(n.seconds,r.seconds);return i!==0?i:ct(n.nanos,r.nanos)}function wO(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=gl(n[i],r[i]);if(a)return a}return ct(n.length,r.length)}function Af(t){return xP(t)}function xP(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Uo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return qo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return je.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=xP(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${xP(n.fields[s])}`;return i+"}"})(t.mapValue):We(61005,{value:t})}function lv(t){switch(ml(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=y0(t);return e?16+lv(e):16;case 5:return 2*t.stringValue.length;case 6:return qo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+lv(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return El(r.fields,((a,s)=>{i+=a.length+lv(s)})),i})(t.mapValue);default:throw We(13486,{value:t})}}function am(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function EP(t){return!!t&&"integerValue"in t}function sm(t){return!!t&&"arrayValue"in t}function bO(t){return!!t&&"nullValue"in t}function xO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cv(t){return!!t&&"mapValue"in t}function v0(t){return(t?.mapValue?.fields||{})[j2]?.stringValue===V2}function kp(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return El(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=kp(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kp(t.arrayValue.values[n]);return e}return{...t}}function x5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===b5}const E5={mapValue:{fields:{[j2]:{stringValue:V2},[Tf]:{arrayValue:{}}}}};function UG(t){return"nullValue"in t?uv:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?am(Dc.empty(),je.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?v0(t)?E5:{mapValue:{}}:We(35942,{value:t})}function qG(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?am(Dc.empty(),je.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?E5:"mapValue"in t?v0(t)?{mapValue:{}}:tl:We(61959,{value:t})}function EO(t,e){const n=gl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function SO(t,e){const n=gl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Dr{constructor(e){this.value=e}static empty(){return new Dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kp(n)}setAll(e){let n=bn.emptyPath(),r={},i=[];e.forEach(((s,o)=>{if(!n.isImmediateParentOf(o)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=kp(s):i.push(o.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());cv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];cv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){El(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Dr(kp(this.value))}}function S5(t){const e=[];return El(t.fields,((n,r)=>{const i=new bn([n]);if(cv(r)){const a=S5(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)})),new vi(e)}class Pn{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Pn(e,0,Qe.min(),Qe.min(),Qe.min(),Dr.empty(),0)}static newFoundDocument(e,n,r,i){return new Pn(e,1,n,Qe.min(),r,i,0)}static newNoDocument(e,n){return new Pn(e,2,n,Qe.min(),Qe.min(),Dr.empty(),0)}static newUnknownDocument(e,n){return new Pn(e,3,n,Qe.min(),Qe.min(),Dr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class If{constructor(e,n){this.position=e,this.inclusive=n}}function PO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=je.comparator(je.fromName(s.referenceValue),n.key):r=gl(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function TO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qs(t.position[n],e.position[n]))return!1;return!0}class om{constructor(e,n="asc"){this.field=e,this.dir=n}}function GG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class P5{}class bt extends P5{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new WG(e,n,r):n==="array-contains"?new ZG(e,r):n==="in"?new O5(e,r):n==="not-in"?new XG(e,r):n==="array-contains-any"?new YG(e,r):new bt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new HG(e,r):new KG(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(gl(n,this.value)):n!==null&&ml(this.value)===ml(n)&&this.matchesComparison(gl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return We(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gt extends P5{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Gt(e,n)}matches(e){return Mf(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Mf(t){return t.op==="and"}function SP(t){return t.op==="or"}function F2(t){return T5(t)&&Mf(t)}function T5(t){for(const e of t.filters)if(e instanceof Gt)return!1;return!0}function PP(t){if(t instanceof bt)return t.field.canonicalString()+t.op.toString()+Af(t.value);if(F2(t))return t.filters.map((e=>PP(e))).join(",");{const e=t.filters.map((n=>PP(n))).join(",");return`${t.op}(${e})`}}function A5(t,e){return t instanceof bt?(function(r,i){return i instanceof bt&&r.op===i.op&&r.field.isEqual(i.field)&&qs(r.value,i.value)})(t,e):t instanceof Gt?(function(r,i){return i instanceof Gt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,s,o)=>a&&A5(s,i.filters[o])),!0):!1})(t,e):void We(19439)}function I5(t,e){const n=t.filters.concat(e);return Gt.create(n,t.op)}function M5(t){return t instanceof bt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Af(n.value)}`})(t):t instanceof Gt?(function(n){return n.op.toString()+" {"+n.getFilters().map(M5).join(" ,")+"}"})(t):"Filter"}class WG extends bt{constructor(e,n,r){super(e,n,r),this.key=je.fromName(r.referenceValue)}matches(e){const n=je.comparator(e.key,this.key);return this.matchesComparison(n)}}class HG extends bt{constructor(e,n){super(e,"in",n),this.keys=C5("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class KG extends bt{constructor(e,n){super(e,"not-in",n),this.keys=C5("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function C5(t,e){return(e.arrayValue?.values||[]).map((n=>je.fromName(n.referenceValue)))}class ZG extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sm(n)&&im(n.arrayValue,this.value)}}class O5 extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&im(this.value.arrayValue,n)}}class XG extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(im(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!im(this.value.arrayValue,n)}}class YG extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>im(this.value.arrayValue,r)))}}class QG{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function TP(t,e=null,n=[],r=[],i=null,a=null,s=null){return new QG(t,e,n,r,i,a,s)}function jc(t){const e=ht(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>PP(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),d0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Af(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Af(r))).join(",")),e.Te=n}return e.Te}function ig(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!GG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!A5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TO(t.startAt,e.startAt)&&TO(t.endAt,e.endAt)}function kv(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Nv(t,e){return t.filters.filter((n=>n instanceof bt&&n.field.isEqual(e)))}function AO(t,e,n){let r=uv,i=!0;for(const a of Nv(t,e)){let s=uv,o=!0;switch(a.op){case"<":case"<=":s=UG(a.value);break;case"==":case"in":case">=":s=a.value;break;case">":s=a.value,o=!1;break;case"!=":case"not-in":s=uv}EO({value:r,inclusive:i},{value:s,inclusive:o})<0&&(r=s,i=o)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const s=n.position[a];EO({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function IO(t,e,n){let r=tl,i=!0;for(const a of Nv(t,e)){let s=tl,o=!0;switch(a.op){case">=":case">":s=qG(a.value),o=!1;break;case"==":case"in":case"<=":s=a.value;break;case"<":s=a.value,o=!1;break;case"!=":case"not-in":s=tl}SO({value:r,inclusive:i},{value:s,inclusive:o})>0&&(r=s,i=o)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const s=n.position[a];SO({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}class ld{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function JG(t,e,n,r,i,a,s,o){return new ld(t,e,n,r,i,a,s,o)}function _0(t){return new ld(t)}function MO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eW(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function R5(t){return t.collectionGroup!==null}function Np(t){const e=ht(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Wt(bn.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(o=o.add(f.field))}))})),o})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new om(a,r))})),n.has(bn.keyField().canonicalString())||e.Ie.push(new om(bn.keyField(),r))}return e.Ie}function Ia(t){const e=ht(t);return e.Ee||(e.Ee=tW(e,Np(t))),e.Ee}function tW(t,e){if(t.limitType==="F")return TP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new om(i.field,a)}));const n=t.endAt?new If(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new If(t.startAt.position,t.startAt.inclusive):null;return TP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function AP(t,e){const n=t.filters.concat([e]);return new ld(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function nW(t,e){const n=t.explicitOrderBy.concat([e]);return new ld(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Lv(t,e,n){return new ld(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function w0(t,e){return ig(Ia(t),Ia(e))&&t.limitType===e.limitType}function k5(t){return`${jc(Ia(t))}|lt:${t.limitType}`}function Xh(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>M5(i))).join(", ")}]`),d0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Af(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Af(i))).join(",")),`Target(${r})`})(Ia(t))}; limitType=${t.limitType})`}function ag(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):je.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Np(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,o,c){const f=PO(s,o,c);return s.inclusive?f<=0:f<0})(r.startAt,Np(r),i)||r.endAt&&!(function(s,o,c){const f=PO(s,o,c);return s.inclusive?f>=0:f>0})(r.endAt,Np(r),i))})(t,e)}function rW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function N5(t){return(e,n)=>{let r=!1;for(const i of Np(t)){const a=iW(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function iW(t,e,n){const r=t.field.isKeyField()?je.comparator(e.key,n.key):(function(a,s,o){const c=s.data.field(a),f=o.data.field(a);return c!==null&&f!==null?gl(c,f):We(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return We(19790,{direction:t.dir})}}class eu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){El(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return m5(this.inner)}size(){return this.innerSize}}const aW=new mn(je.comparator);function Bi(){return aW}const L5=new mn(je.comparator);function yp(...t){let e=L5;for(const n of t)e=e.insert(n.key,n);return e}function D5(t){let e=L5;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ls(){return Lp()}function j5(){return Lp()}function Lp(){return new eu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const sW=new mn(je.comparator),oW=new Wt(je.comparator);function yt(...t){let e=oW;for(const n of t)e=e.add(n);return e}const uW=new Wt(ct);function lW(){return uW}function B2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jp(e)?"-0":e}}function V5(t){return{integerValue:""+t}}function cW(t,e){return dG(e)?V5(e):B2(t,e)}class b0{constructor(){this._=void 0}}function hW(t,e,n){return t instanceof um?(function(i,a){const s={fields:{[v5]:{stringValue:y5},[w5]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&D2(a)&&(a=y0(a)),a&&(s.fields[_5]=a),{mapValue:s}})(n,e):t instanceof Cf?B5(t,e):t instanceof Of?$5(t,e):(function(i,a){const s=F5(i,a),o=CO(s)+CO(i.Ae);return EP(s)&&EP(i.Ae)?V5(o):B2(i.serializer,o)})(t,e)}function fW(t,e,n){return t instanceof Cf?B5(t,e):t instanceof Of?$5(t,e):n}function F5(t,e){return t instanceof lm?(function(r){return EP(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class um extends b0{}class Cf extends b0{constructor(e){super(),this.elements=e}}function B5(t,e){const n=z5(e);for(const r of t.elements)n.some((i=>qs(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Of extends b0{constructor(e){super(),this.elements=e}}function $5(t,e){let n=z5(e);for(const r of t.elements)n=n.filter((i=>!qs(i,r)));return{arrayValue:{values:n}}}class lm extends b0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function CO(t){return fn(t.integerValue||t.doubleValue)}function z5(t){return sm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class dW{constructor(e,n){this.field=e,this.transform=n}}function pW(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Cf&&i instanceof Cf||r instanceof Of&&i instanceof Of?bf(r.elements,i.elements,qs):r instanceof lm&&i instanceof lm?qs(r.Ae,i.Ae):r instanceof um&&i instanceof um})(t.transform,e.transform)}class mW{constructor(e,n){this.version=e,this.transformResults=n}}class jr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jr}static exists(e){return new jr(void 0,e)}static updateTime(e){return new jr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class x0{}function U5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new E0(t.key,jr.none()):new cd(t.key,t.data,jr.none());{const n=t.data,r=Dr.empty();let i=new Wt(bn.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new tu(t.key,r,new vi(i.toArray()),jr.none())}}function gW(t,e,n){t instanceof cd?(function(i,a,s){const o=i.value.clone(),c=RO(i.fieldTransforms,a,s.transformResults);o.setAll(c),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()})(t,e,n):t instanceof tu?(function(i,a,s){if(!hv(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=RO(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(q5(i)),c.setAll(o),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function Dp(t,e,n,r){return t instanceof cd?(function(a,s,o,c){if(!hv(a.precondition,s))return o;const f=a.value.clone(),m=kO(a.fieldTransforms,c,s);return f.setAll(m),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof tu?(function(a,s,o,c){if(!hv(a.precondition,s))return o;const f=kO(a.fieldTransforms,c,s),m=s.data;return m.setAll(q5(a)),m.setAll(f),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(a,s,o){return hv(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o})(t,e,n)}function yW(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=F5(r.transform,i||null);a!=null&&(n===null&&(n=Dr.empty()),n.set(r.field,a))}return n||null}function OO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&bf(r,i,((a,s)=>pW(a,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cd extends x0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class tu extends x0{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function q5(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function RO(t,e,n){const r=new Map;Xe(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,fW(s,o,n[i]))}return r}function kO(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,hW(a,s,e))}return r}class E0 extends x0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G5 extends x0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $2{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&gW(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Dp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Dp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=j5();return this.mutations.forEach((i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const c=U5(s,o);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Qe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),yt())}isEqual(e){return this.batchId===e.batchId&&bf(this.mutations,e.mutations,((n,r)=>OO(n,r)))&&bf(this.baseMutations,e.baseMutations,((n,r)=>OO(n,r)))}}class z2{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return sW})();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new z2(e,n,r,i)}}class U2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class vW{constructor(e,n){this.count=e,this.unchangedNames=n}}var Vn,At;function _W(t){switch(t){case ve.OK:return We(64938);case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return We(15467,{code:t})}}function W5(t){if(t===void 0)return Yr("GRPC error has no .code"),ve.UNKNOWN;switch(t){case Vn.OK:return ve.OK;case Vn.CANCELLED:return ve.CANCELLED;case Vn.UNKNOWN:return ve.UNKNOWN;case Vn.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case Vn.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case Vn.INTERNAL:return ve.INTERNAL;case Vn.UNAVAILABLE:return ve.UNAVAILABLE;case Vn.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case Vn.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case Vn.NOT_FOUND:return ve.NOT_FOUND;case Vn.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case Vn.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case Vn.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case Vn.ABORTED:return ve.ABORTED;case Vn.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case Vn.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case Vn.DATA_LOSS:return ve.DATA_LOSS;default:return We(39323,{code:t})}}(At=Vn||(Vn={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";function wW(){return new TextEncoder}const bW=new ol([4294967295,4294967295],0);function NO(t){const e=wW().encode(t),n=new q8;return n.update(e),new Uint8Array(n.digest())}function LO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ol([n,r],0),new ol([i,a],0)]}class q2{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vp(`Invalid padding: ${n}`);if(r<0)throw new vp(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vp(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vp(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ol.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ol.fromNumber(r)));return i.compare(bW)===1&&(i=new ol([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=NO(e),[r,i]=LO(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new q2(a,i,n);return r.forEach((o=>s.insert(o))),s}insert(e){if(this.ge===0)return;const n=NO(e),[r,i]=LO(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.be(s)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class vp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class S0{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,sg.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new S0(Qe.min(),i,new mn(ct),Bi(),yt())}}class sg{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new sg(r,n,yt(),yt(),yt())}}class fv{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class H5{constructor(e,n){this.targetId=e,this.Ce=n}}class K5{constructor(e,n,r=zn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class DO{constructor(){this.ve=0,this.Fe=jO(),this.Me=zn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=yt(),n=yt(),r=yt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:We(38017,{changeType:a})}})),new sg(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=jO()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class xW{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bi(),this.He=Oy(),this.Je=Oy(),this.Ze=new mn(ct)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:We(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(kv(a))if(r===0){const s=new je(a.path);this.et(n,s,Pn.newNoDocument(s,Qe.min()))}else Xe(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const o=this.ut(e),c=o?this.ct(o,e,s):1;if(c!==0){this.it(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=qo(r).toUint8Array()}catch(c){if(c instanceof g5)return pl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new q2(s,i,a)}catch(c){return pl(c instanceof vp?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,s)=>{const o=this.ot(s);if(o){if(a.current&&kv(o.target)){const c=new je(o.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,Pn.newNoDocument(c,e))}a.Be&&(n.set(s,a.ke()),a.Ke())}}));let r=yt();this.Je.forEach(((a,s)=>{let o=!0;s.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(r=r.add(a))})),this.je.forEach(((a,s)=>s.setReadTime(e)));const i=new S0(e,n,this.Ze,this.je,r);return this.je=Bi(),this.He=Oy(),this.Je=Oy(),this.Ze=new mn(ct),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new DO,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Wt(ct),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Wt(ct),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ie("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new DO),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Oy(){return new mn(je.comparator)}function jO(){return new mn(je.comparator)}const EW={asc:"ASCENDING",desc:"DESCENDING"},SW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PW={and:"AND",or:"OR"};class TW{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function IP(t,e){return t.useProto3Json||d0(e)?e:{value:e}}function Rf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function AW(t,e){return Rf(t,e.toTimestamp())}function ti(t){return Xe(!!t,49232),Qe.fromTimestamp((function(n){const r=Uo(n);return new Dt(r.seconds,r.nanos)})(t))}function G2(t,e){return MP(t,e).canonicalString()}function MP(t,e){const n=(function(i){return new Lt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function X5(t){const e=Lt.fromString(t);return Xe(aj(e),10190,{key:e.toString()}),e}function Dv(t,e){return G2(t.databaseId,e.path)}function Ac(t,e){const n=X5(e);if(n.get(1)!==t.databaseId.projectId)throw new Ne(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ne(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new je(J5(n))}function Y5(t,e){return G2(t.databaseId,e)}function Q5(t){const e=X5(t);return e.length===4?Lt.emptyPath():J5(e)}function CP(t){return new Lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function J5(t){return Xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function VO(t,e,n){return{name:Dv(t,e),fields:n.value.mapValue.fields}}function IW(t,e,n){const r=Ac(t,e.name),i=ti(e.updateTime),a=e.createTime?ti(e.createTime):Qe.min(),s=new Dr({mapValue:{fields:e.fields}}),o=Pn.newFoundDocument(r,i,a,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function MW(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:We(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,m){return f.useProto3Json?(Xe(m===void 0||typeof m=="string",58123),zn.fromBase64String(m||"")):(Xe(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),zn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&(function(f){const m=f.code===void 0?ve.UNKNOWN:W5(f.code);return new Ne(m,f.message||"")})(s);n=new K5(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ac(t,r.document.name),a=ti(r.document.updateTime),s=r.document.createTime?ti(r.document.createTime):Qe.min(),o=new Dr({mapValue:{fields:r.document.fields}}),c=Pn.newFoundDocument(i,a,s,o),f=r.targetIds||[],m=r.removedTargetIds||[];n=new fv(f,m,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ac(t,r.document),a=r.readTime?ti(r.readTime):Qe.min(),s=Pn.newNoDocument(i,a),o=r.removedTargetIds||[];n=new fv([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ac(t,r.document),a=r.removedTargetIds||[];n=new fv([],a,i,null)}else{if(!("filter"in e))return We(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new vW(i,a),o=r.targetId;n=new H5(o,s)}}return n}function jv(t,e){let n;if(e instanceof cd)n={update:VO(t,e.key,e.value)};else if(e instanceof E0)n={delete:Dv(t,e.key)};else if(e instanceof tu)n={update:VO(t,e.key,e.data),updateMask:LW(e.fieldMask)};else{if(!(e instanceof G5))return We(16599,{dt:e.type});n={verify:Dv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,s){const o=s.transform;if(o instanceof um)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Cf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Of)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof lm)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw We(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:AW(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:We(27497)})(t,e.precondition)),n}function OP(t,e){const n=e.currentDocument?(function(a){return a.updateTime!==void 0?jr.updateTime(ti(a.updateTime)):a.exists!==void 0?jr.exists(a.exists):jr.none()})(e.currentDocument):jr.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(s,o){let c=null;if("setToServerValue"in o)Xe(o.setToServerValue==="REQUEST_TIME",16630,{proto:o}),c=new um;else if("appendMissingElements"in o){const m=o.appendMissingElements.values||[];c=new Cf(m)}else if("removeAllFromArray"in o){const m=o.removeAllFromArray.values||[];c=new Of(m)}else"increment"in o?c=new lm(s,o.increment):We(16584,{proto:o});const f=bn.fromServerFormat(o.fieldPath);return new dW(f,c)})(t,i))):[];if(e.update){e.update.name;const i=Ac(t,e.update.name),a=new Dr({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=(function(c){const f=c.fieldPaths||[];return new vi(f.map((m=>bn.fromServerFormat(m))))})(e.updateMask);return new tu(i,a,s,n,r)}return new cd(i,a,n,r)}if(e.delete){const i=Ac(t,e.delete);return new E0(i,n)}if(e.verify){const i=Ac(t,e.verify);return new G5(i,n)}return We(1463,{proto:e})}function CW(t,e){return t&&t.length>0?(Xe(e!==void 0,14353),t.map((n=>(function(i,a){let s=i.updateTime?ti(i.updateTime):ti(a);return s.isEqual(Qe.min())&&(s=ti(a)),new mW(s,i.transformResults||[])})(n,e)))):[]}function ej(t,e){return{documents:[Y5(t,e.path)]}}function tj(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Y5(t,i);const a=(function(f){if(f.length!==0)return ij(Gt.create(f,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const s=(function(f){if(f.length!==0)return f.map((m=>(function(y){return{field:Yh(y.field),direction:RW(y.dir)}})(m)))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=IP(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function nj(t){let e=Q5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xe(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=(function(p){const y=rj(p);return y instanceof Gt&&F2(y)?y.getFilters():[y]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map((y=>(function(E){return new om(Qh(E.field),(function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(y)))})(n.orderBy));let o=null;n.limit&&(o=(function(p){let y;return y=typeof p=="object"?p.value:p,d0(y)?null:y})(n.limit));let c=null;n.startAt&&(c=(function(p){const y=!!p.before,b=p.values||[];return new If(b,y)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const y=!p.before,b=p.values||[];return new If(b,y)})(n.endAt)),JG(e,i,s,a,o,"F",c,f)}function OW(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return We(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rj(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qh(n.unaryFilter.field);return bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Qh(n.unaryFilter.field);return bt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Qh(n.unaryFilter.field);return bt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Qh(n.unaryFilter.field);return bt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return We(61313);default:return We(60726)}})(t):t.fieldFilter!==void 0?(function(n){return bt.create(Qh(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return We(58110);default:return We(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Gt.create(n.compositeFilter.filters.map((r=>rj(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return We(1026)}})(n.compositeFilter.op))})(t):We(30097,{filter:t})}function RW(t){return EW[t]}function kW(t){return SW[t]}function NW(t){return PW[t]}function Yh(t){return{fieldPath:t.canonicalString()}}function Qh(t){return bn.fromServerFormat(t.fieldPath)}function ij(t){return t instanceof bt?(function(n){if(n.op==="=="){if(xO(n.value))return{unaryFilter:{field:Yh(n.field),op:"IS_NAN"}};if(bO(n.value))return{unaryFilter:{field:Yh(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xO(n.value))return{unaryFilter:{field:Yh(n.field),op:"IS_NOT_NAN"}};if(bO(n.value))return{unaryFilter:{field:Yh(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yh(n.field),op:kW(n.op),value:n.value}}})(t):t instanceof Gt?(function(n){const r=n.getFilters().map((i=>ij(i)));return r.length===1?r[0]:{compositeFilter:{op:NW(n.op),filters:r}}})(t):We(54877,{filter:t})}function LW(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function aj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function sj(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Co{constructor(e,n,r,i,a=Qe.min(),s=Qe.min(),o=zn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(e){return new Co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class oj{constructor(e){this.yt=e}}function DW(t,e){let n;if(e.document)n=IW(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=je.fromSegments(e.noDocument.path),i=Fc(e.noDocument.readTime);n=Pn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return We(56709);{const r=je.fromSegments(e.unknownDocument.path),i=Fc(e.unknownDocument.version);n=Pn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const a=new Dt(i[0],i[1]);return Qe.fromTimestamp(a)})(e.readTime)),n}function FO(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Vv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(a,s){return{name:Dv(a,s.key),fields:s.data.value.mapValue.fields,updateTime:Rf(a,s.version.toTimestamp()),createTime:Rf(a,s.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Vc(e.version)};else{if(!e.isUnknownDocument())return We(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Vc(e.version)}}return r}function Vv(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Vc(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Fc(t){const e=new Dt(t.seconds,t.nanoseconds);return Qe.fromTimestamp(e)}function gc(t,e){const n=(e.baseMutations||[]).map((a=>OP(t.yt,a)));for(let a=0;a<e.mutations.length-1;++a){const s=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const o=e.mutations[a+1];s.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const r=e.mutations.map((a=>OP(t.yt,a))),i=Dt.fromMillis(e.localWriteTimeMs);return new $2(e.batchId,i,n,r)}function _p(t){const e=Fc(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Fc(t.lastLimboFreeSnapshotVersion):Qe.min();let r;return r=(function(a){return a.documents!==void 0})(t.query)?(function(a){const s=a.documents.length;return Xe(s===1,1966,{count:s}),Ia(_0(Q5(a.documents[0])))})(t.query):(function(a){return Ia(nj(a))})(t.query),new Co(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,zn.fromBase64String(t.resumeToken))}function uj(t,e){const n=Vc(e.snapshotVersion),r=Vc(e.lastLimboFreeSnapshotVersion);let i;i=kv(e.target)?ej(t.yt,e.target):tj(t.yt,e.target).ft;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:jc(e.target),readTime:n,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function lj(t){const e=nj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Lv(e,e.limit,"L"):e}function Ww(t,e){return new U2(e.largestBatchId,OP(t.yt,e.overlayMutation))}function BO(t,e){const n=e.path.lastSegment();return[t,Vr(e.path.popLast()),n]}function $O(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Vc(r.readTime),documentKey:Vr(r.documentKey.path),largestBatchId:r.largestBatchId}}class jW{getBundleMetadata(e,n){return zO(e).get(n).next((r=>{if(r)return(function(a){return{id:a.bundleId,createTime:Fc(a.createTime),version:a.version}})(r)}))}saveBundleMetadata(e,n){return zO(e).put((function(i){return{bundleId:i.id,createTime:Vc(ti(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return UO(e).get(n).next((r=>{if(r)return(function(a){return{name:a.name,query:lj(a.bundledQuery),readTime:Fc(a.readTime)}})(r)}))}saveNamedQuery(e,n){return UO(e).put((function(i){return{name:i.name,readTime:Vc(ti(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function zO(t){return Qn(t,p0)}function UO(t){return Qn(t,m0)}class P0{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new P0(e,r)}getOverlay(e,n){return Jd(e).get(BO(this.userId,n)).next((r=>r?Ww(this.serializer,r):null))}getOverlays(e,n){const r=Ls();return ue.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((a,s)=>{const o=new U2(n,s);i.push(this.bt(e,o))})),ue.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((s=>i.add(Vr(s.getCollectionPath()))));const a=[];return i.forEach((s=>{const o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);a.push(Jd(e).X(wP,o))})),ue.waitFor(a)}getOverlaysForCollection(e,n,r){const i=Ls(),a=Vr(n),s=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Jd(e).H(wP,s).next((o=>{for(const c of o){const f=Ww(this.serializer,c);i.set(f.getKey(),f)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const a=Ls();let s;const o=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Jd(e).ee({index:c5,range:o},((c,f,m)=>{const p=Ww(this.serializer,f);a.size()<i||p.largestBatchId===s?(a.set(p.getKey(),p),s=p.largestBatchId):m.done()})).next((()=>a))}bt(e,n){return Jd(e).put((function(i,a,s){const[o,c,f]=BO(a,s.mutation.key);return{userId:a,collectionPath:c,documentId:f,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:jv(i.yt,s.mutation)}})(this.serializer,this.userId,n))}}function Jd(t){return Qn(t,g0)}class VW{St(e){return Qn(e,N2)}getSessionToken(e){return this.St(e).get("sessionToken").next((n=>{const r=n?.value;return r?zn.fromUint8Array(r):zn.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.St(e).put({name:"sessionToken",value:n.toUint8Array()})}}class yc{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(fn(e.integerValue));else if("doubleValue"in e){const r=fn(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Jp(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Uo(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(qo(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?x5(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):v0(e)?this.kt(e.mapValue,n):(this.Kt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Nt(n)):We(19022,{Ut:e})}Ot(e,n){this.Ft(n,25),this.$t(e,n)}$t(e,n){n.xt(e)}Kt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const i=Tf,a=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(fn(a)),this.Ot(i,n),this.Ct(r[i],n)}qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),je.fromName(e).path.forEach((r=>{this.Ft(n,60),this.$t(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}yc.Wt=new yc;const $h=255;function FW(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function qO(t){const e=64-(function(r){let i=0;for(let a=0;a<8;++a){const s=FW(255&r[a]);if(i+=s,s!==8)break}return i})(t);return Math.ceil(e/8)}class BW{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ht(r.value),r=n.next();this.Jt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const i=n.codePointAt(0);this.Ht(240|i>>>18),this.Ht(128|63&i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i)}}this.Jt()}Yt(e){const n=this.en(e),r=qO(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=qO(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn($h),this.sn(255)}_n(){this.an($h),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(a){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,a,!1),new Uint8Array(s.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===$h?(this.sn($h),this.sn(0)):this.sn(n)}Ht(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===$h?(this.an($h),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class $W{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class zW{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class ep{constructor(){this.cn=new BW,this.ascending=new $W(this.cn),this.descending=new zW(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class vc{constructor(e,n,r,i){this.hn=e,this.Pn=n,this.Tn=r,this.In=i}En(){const e=this.In.length,n=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.In,0),n!==e?r.set([0],this.In.length):++r[r.length-1],new vc(this.hn,this.Pn,this.Tn,r)}Rn(e,n,r){return{indexId:this.hn,uid:e,arrayValue:dv(this.Tn),directionalValue:dv(this.In),orderedDocumentKey:dv(n),documentKey:r.path.toArray()}}An(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Uu(t,e){let n=t.hn-e.hn;return n!==0?n:(n=GO(t.Tn,e.Tn),n!==0?n:(n=GO(t.In,e.In),n!==0?n:je.comparator(t.Pn,e.Pn)))}function GO(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function dv(t){return j8()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function WO(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class HO{constructor(e){this.Vn=new Wt(((n,r)=>bn.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(Xe(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const n=yP(e);if(n!==void 0&&!this.pn(n))return!1;const r=cc(e);let i=new Set,a=0,s=0;for(;a<r.length&&this.pn(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(this.Vn.size>0){const o=this.Vn.getIterator().getNext();if(!i.has(o.field.canonicalString())){const c=r[a];if(!this.yn(o,c)||!this.wn(this.dn[s++],c))return!1}++a}for(;a<r.length;++a){const o=r[a];if(s>=this.dn.length||!this.wn(this.dn[s++],o))return!1}return!0}bn(){if(this.fn)return null;let e=new Wt(bn.comparator);const n=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new av(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new av(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new av(r.field,r.dir==="asc"?0:1)));return new Iv(Iv.UNKNOWN_ID,this.collectionId,n,Qp.empty())}pn(e){for(const n of this.mn)if(this.yn(n,e))return!0;return!1}yn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}wn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function cj(t){if(Xe(t instanceof bt||t instanceof Gt,20012),t instanceof bt){if(t instanceof O5){const n=t.value.arrayValue?.values?.map((r=>bt.create(t.field,"==",r)))||[];return Gt.create(n,"or")}return t}const e=t.filters.map((n=>cj(n)));return Gt.create(e,t.op)}function UW(t){if(t.getFilters().length===0)return[];const e=NP(cj(t));return Xe(hj(e),7391),RP(e)||kP(e)?[e]:e.getFilters()}function RP(t){return t instanceof bt}function kP(t){return t instanceof Gt&&F2(t)}function hj(t){return RP(t)||kP(t)||(function(n){if(n instanceof Gt&&SP(n)){for(const r of n.getFilters())if(!RP(r)&&!kP(r))return!1;return!0}return!1})(t)}function NP(t){if(Xe(t instanceof bt||t instanceof Gt,34018),t instanceof bt)return t;if(t.filters.length===1)return NP(t.filters[0]);const e=t.filters.map((r=>NP(r)));let n=Gt.create(e,t.op);return n=Fv(n),hj(n)?n:(Xe(n instanceof Gt,64498),Xe(Mf(n),40251),Xe(n.filters.length>1,57927),n.filters.reduce(((r,i)=>W2(r,i))))}function W2(t,e){let n;return Xe(t instanceof bt||t instanceof Gt,38388),Xe(e instanceof bt||e instanceof Gt,25473),n=t instanceof bt?e instanceof bt?(function(i,a){return Gt.create([i,a],"and")})(t,e):KO(t,e):e instanceof bt?KO(e,t):(function(i,a){if(Xe(i.filters.length>0&&a.filters.length>0,48005),Mf(i)&&Mf(a))return I5(i,a.getFilters());const s=SP(i)?i:a,o=SP(i)?a:i,c=s.filters.map((f=>W2(f,o)));return Gt.create(c,"or")})(t,e),Fv(n)}function KO(t,e){if(Mf(e))return I5(e,t.getFilters());{const n=e.filters.map((r=>W2(t,r)));return Gt.create(n,"or")}}function Fv(t){if(Xe(t instanceof bt||t instanceof Gt,11850),t instanceof bt)return t;const e=t.getFilters();if(e.length===1)return Fv(e[0]);if(T5(t))return t;const n=e.map((i=>Fv(i))),r=[];return n.forEach((i=>{i instanceof bt?r.push(i):i instanceof Gt&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:Gt.create(r,t.op)}class qW{constructor(){this.Sn=new H2}addToCollectionParentIndex(e,n){return this.Sn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(zi.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(zi.min())}updateCollectionGroup(e,n,r){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class H2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Wt(Lt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wt(Lt.comparator)).toArray()}}const ZO="IndexedDbIndexManager",Ry=new Uint8Array(0);class GW{constructor(e,n){this.databaseId=n,this.Dn=new H2,this.Cn=new eu((r=>jc(r)),((r,i)=>ig(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Dn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.Dn.add(n)}));const a={collectionId:r,parent:Vr(i)};return XO(e).put(a)}return ue.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[Q8(n),""],!1,!0);return XO(e).H(i).next((a=>{for(const s of a){if(s.collectionId!==n)break;r.push(Ns(s.parent))}return r}))}addFieldIndex(e,n){const r=tp(e),i=(function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map((c=>[c.fieldPath.canonicalString(),c.kind]))}})(n);delete i.indexId;const a=r.add(i);if(n.indexState){const s=Uh(e);return a.next((o=>{s.put($O(o,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return a.next()}deleteFieldIndex(e,n){const r=tp(e),i=Uh(e),a=zh(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=tp(e),r=zh(e),i=Uh(e);return n.X().next((()=>r.X())).next((()=>i.X()))}createTargetIndexes(e,n){return ue.forEach(this.vn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const a=new HO(r).bn();if(a!=null)return this.addFieldIndex(e,a)}}))))}getDocumentsMatchingTarget(e,n){const r=zh(e);let i=!0;const a=new Map;return ue.forEach(this.vn(n),(s=>this.Fn(e,s).next((o=>{i&&(i=!!o),a.set(s,o)})))).next((()=>{if(i){let s=yt();const o=[];return ue.forEach(a,((c,f)=>{Ie(ZO,`Using index ${(function(D){return`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(($=>`${$.fieldPath}:${$.kind}`)).join(",")}`})(c)} to execute ${jc(n)}`);const m=(function(D,$){const k=yP($);if(k===void 0)return null;for(const V of Nv(D,k.fieldPath))switch(V.op){case"array-contains-any":return V.value.arrayValue.values||[];case"array-contains":return[V.value]}return null})(f,c),p=(function(D,$){const k=new Map;for(const V of cc($))for(const C of Nv(D,V.fieldPath))switch(C.op){case"==":case"in":k.set(V.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return k.set(V.fieldPath.canonicalString(),C.value),Array.from(k.values())}return null})(f,c),y=(function(D,$){const k=[];let V=!0;for(const C of cc($)){const j=C.kind===0?AO(D,C.fieldPath,D.startAt):IO(D,C.fieldPath,D.startAt);k.push(j.value),V&&(V=j.inclusive)}return new If(k,V)})(f,c),b=(function(D,$){const k=[];let V=!0;for(const C of cc($)){const j=C.kind===0?IO(D,C.fieldPath,D.endAt):AO(D,C.fieldPath,D.endAt);k.push(j.value),V&&(V=j.inclusive)}return new If(k,V)})(f,c),E=this.Mn(c,f,y),S=this.Mn(c,f,b),x=this.xn(c,f,p),M=this.On(c.indexId,m,E,y.inclusive,S,b.inclusive,x);return ue.forEach(M,(O=>r.Z(O,n.limit).next((D=>{D.forEach(($=>{const k=je.fromSegments($.documentKey);s.has(k)||(s=s.add(k),o.push(k))}))}))))})).next((()=>o))}return ue.resolve(null)}))}vn(e){let n=this.Cn.get(e);return n||(e.filters.length===0?n=[e]:n=UW(Gt.create(e.filters,"and")).map((r=>TP(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,n),n)}On(e,n,r,i,a,s,o){const c=(n!=null?n.length:1)*Math.max(r.length,a.length),f=c/(n!=null?n.length:1),m=[];for(let p=0;p<c;++p){const y=n?this.Nn(n[p/f]):Ry,b=this.Bn(e,y,r[p%f],i),E=this.Ln(e,y,a[p%f],s),S=o.map((x=>this.Bn(e,y,x,!0)));m.push(...this.createRange(b,E,S))}return m}Bn(e,n,r,i){const a=new vc(e,je.empty(),n,r);return i?a:a.En()}Ln(e,n,r,i){const a=new vc(e,je.empty(),n,r);return i?a.En():a}Fn(e,n){const r=new HO(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((a=>{let s=null;for(const o of a)r.gn(o)&&(!s||o.fields.length>s.fields.length)&&(s=o);return s}))}getIndexType(e,n){let r=2;const i=this.vn(n);return ue.forEach(i,(a=>this.Fn(e,a).next((s=>{s?r!==0&&s.fields.length<(function(c){let f=new Wt(bn.comparator),m=!1;for(const p of c.filters)for(const y of p.getFlattenedFilters())y.field.isKeyField()||(y.op==="array-contains"||y.op==="array-contains-any"?m=!0:f=f.add(y.field));for(const p of c.orderBy)p.field.isKeyField()||(f=f.add(p.field));return f.size+(m?1:0)})(a)&&(r=1):r=0})))).next((()=>(function(s){return s.limit!==null})(n)&&i.length>1&&r===2?1:r))}kn(e,n){const r=new ep;for(const i of cc(e)){const a=n.data.field(i.fieldPath);if(a==null)return null;const s=r.ln(i.kind);yc.Wt.Dt(a,s)}return r.un()}Nn(e){const n=new ep;return yc.Wt.Dt(e,n.ln(0)),n.un()}Kn(e,n){const r=new ep;return yc.Wt.Dt(am(this.databaseId,n),r.ln((function(a){const s=cc(a);return s.length===0?0:s[s.length-1].kind})(e))),r.un()}xn(e,n,r){if(r===null)return[];let i=[];i.push(new ep);let a=0;for(const s of cc(e)){const o=r[a++];for(const c of i)if(this.qn(n,s.fieldPath)&&sm(o))i=this.Un(i,s,o);else{const f=c.ln(s.kind);yc.Wt.Dt(o,f)}}return this.$n(i)}Mn(e,n,r){return this.xn(e,n,r.position)}$n(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Un(e,n,r){const i=[...e],a=[];for(const s of r.arrayValue.values||[])for(const o of i){const c=new ep;c.seed(o.un()),yc.Wt.Dt(s,c.ln(n.kind)),a.push(c)}return a}qn(e,n){return!!e.filters.find((r=>r instanceof bt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=tp(e),i=Uh(e);return(n?r.H(_P,IDBKeyRange.bound(n,n)):r.H()).next((a=>{const s=[];return ue.forEach(a,(o=>i.get([o.indexId,this.uid]).next((c=>{s.push((function(m,p){const y=p?new Qp(p.sequenceNumber,new zi(Fc(p.readTime),new je(Ns(p.documentKey)),p.largestBatchId)):Qp.empty(),b=m.fields.map((([E,S])=>new av(bn.fromServerFormat(E),S)));return new Iv(m.indexId,m.collectionGroup,b,y)})(o,c))})))).next((()=>s))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:ct(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=tp(e),a=Uh(e);return this.Wn(e).next((s=>i.H(_P,IDBKeyRange.bound(n,n)).next((o=>ue.forEach(o,(c=>a.put($O(c.indexId,this.uid,s,r))))))))}updateIndexEntries(e,n){const r=new Map;return ue.forEach(n,((i,a)=>{const s=r.get(i.collectionGroup);return(s?ue.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next((o=>(r.set(i.collectionGroup,o),ue.forEach(o,(c=>this.Qn(e,i,c).next((f=>{const m=this.Gn(a,c);return f.isEqual(m)?ue.resolve():this.zn(e,a,c,f,m)})))))))}))}jn(e,n,r,i){return zh(e).put(i.Rn(this.uid,this.Kn(r,n.key),n.key))}Hn(e,n,r,i){return zh(e).delete(i.An(this.uid,this.Kn(r,n.key),n.key))}Qn(e,n,r){const i=zh(e);let a=new Wt(Uu);return i.ee({index:l5,range:IDBKeyRange.only([r.indexId,this.uid,dv(this.Kn(r,n))])},((s,o)=>{a=a.add(new vc(r.indexId,n,WO(o.arrayValue),WO(o.directionalValue)))})).next((()=>a))}Gn(e,n){let r=new Wt(Uu);const i=this.kn(n,e);if(i==null)return r;const a=yP(n);if(a!=null){const s=e.data.field(a.fieldPath);if(sm(s))for(const o of s.arrayValue.values||[])r=r.add(new vc(n.indexId,e.key,this.Nn(o),i))}else r=r.add(new vc(n.indexId,e.key,Ry,i));return r}zn(e,n,r,i,a){Ie(ZO,"Updating index entries for document '%s'",n.key);const s=[];return(function(c,f,m,p,y){const b=c.getIterator(),E=f.getIterator();let S=Bh(b),x=Bh(E);for(;S||x;){let M=!1,O=!1;if(S&&x){const D=m(S,x);D<0?O=!0:D>0&&(M=!0)}else S!=null?O=!0:M=!0;M?(p(x),x=Bh(E)):O?(y(S),S=Bh(b)):(S=Bh(b),x=Bh(E))}})(i,a,Uu,(o=>{s.push(this.jn(e,n,r,o))}),(o=>{s.push(this.Hn(e,n,r,o))})),ue.waitFor(s)}Wn(e){let n=1;return Uh(e).ee({index:u5,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,a)=>{a.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((s,o)=>Uu(s,o))).filter(((s,o,c)=>!o||Uu(s,c[o-1])!==0));const i=[];i.push(e);for(const s of r){const o=Uu(s,e),c=Uu(s,n);if(o===0)i[0]=e.En();else if(o>0&&c<0)i.push(s),i.push(s.En());else if(c>0)break}i.push(n);const a=[];for(let s=0;s<i.length;s+=2){if(this.Jn(i[s],i[s+1]))return[];const o=i[s].An(this.uid,Ry,je.empty()),c=i[s+1].An(this.uid,Ry,je.empty());a.push(IDBKeyRange.bound(o,c))}return a}Jn(e,n){return Uu(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(YO)}getMinOffset(e,n){return ue.mapArray(this.vn(n),(r=>this.Fn(e,r).next((i=>i||We(44426))))).next(YO)}}function XO(t){return Qn(t,nm)}function zh(t){return Qn(t,Rp)}function tp(t){return Qn(t,k2)}function Uh(t){return Qn(t,Op)}function YO(t){Xe(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;C2(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new zi(e.readTime,e.documentKey,n)}const QO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fj=41943040;class Rr{static withCacheSize(e){return new Rr(e,Rr.DEFAULT_COLLECTION_PERCENTILE,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function dj(t,e,n){const r=t.store(Ya),i=t.store(xf),a=[],s=IDBKeyRange.only(n.batchId);let o=0;const c=r.ee({range:s},((m,p,y)=>(o++,y.delete())));a.push(c.next((()=>{Xe(o===1,47070,{batchId:n.batchId})})));const f=[];for(const m of n.mutations){const p=a5(e,m.key.path,n.batchId);a.push(i.delete(p)),f.push(m.key)}return ue.waitFor(a).next((()=>f))}function Bv(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw We(14731);e=t.noDocument}return JSON.stringify(e).length}Rr.DEFAULT_COLLECTION_PERCENTILE=10,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rr.DEFAULT=new Rr(fj,Rr.DEFAULT_COLLECTION_PERCENTILE,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rr.DISABLED=new Rr(-1,0,0);class T0{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Zn={}}static wt(e,n,r,i){Xe(e.uid!=="",64387);const a=e.isAuthenticated()?e.uid:"";return new T0(a,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qu(e).ee({index:_c,range:r},((i,a,s)=>{n=!1,s.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const a=Jh(e),s=qu(e);return s.add({}).next((o=>{Xe(typeof o=="number",49019);const c=new $2(o,n,r,i),f=(function(b,E,S){const x=S.baseMutations.map((O=>jv(b.yt,O))),M=S.mutations.map((O=>jv(b.yt,O)));return{userId:E,batchId:S.batchId,localWriteTimeMs:S.localWriteTime.toMillis(),baseMutations:x,mutations:M}})(this.serializer,this.userId,c),m=[];let p=new Wt(((y,b)=>ct(y.canonicalString(),b.canonicalString())));for(const y of i){const b=a5(this.userId,y.key.path,o);p=p.add(y.key.path.popLast()),m.push(s.put(f)),m.push(a.put(b,gG))}return p.forEach((y=>{m.push(this.indexManager.addToCollectionParentIndex(e,y))})),e.addOnCommittedListener((()=>{this.Zn[o]=c.keys()})),ue.waitFor(m).next((()=>c))}))}lookupMutationBatch(e,n){return qu(e).get(n).next((r=>r?(Xe(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),gc(this.serializer,r)):null))}Xn(e,n){return this.Zn[n]?ue.resolve(this.Zn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Zn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return qu(e).ee({index:_c,range:i},((s,o,c)=>{o.userId===this.userId&&(Xe(o.batchId>=r,47524,{Yn:r}),a=gc(this.serializer,o)),c.done()})).next((()=>a))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Pc;return qu(e).ee({index:_c,range:n,reverse:!0},((i,a,s)=>{r=a.batchId,s.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Pc],[this.userId,Number.POSITIVE_INFINITY]);return qu(e).H(_c,n).next((r=>r.map((i=>gc(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=sv(this.userId,n.path),i=IDBKeyRange.lowerBound(r),a=[];return Jh(e).ee({range:i},((s,o,c)=>{const[f,m,p]=s,y=Ns(m);if(f===this.userId&&n.path.isEqual(y))return qu(e).get(p).next((b=>{if(!b)throw We(61480,{er:s,batchId:p});Xe(b.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:b.userId,batchId:p}),a.push(gc(this.serializer,b))}));c.done()})).next((()=>a))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wt(ct);const i=[];return n.forEach((a=>{const s=sv(this.userId,a.path),o=IDBKeyRange.lowerBound(s),c=Jh(e).ee({range:o},((f,m,p)=>{const[y,b,E]=f,S=Ns(b);y===this.userId&&a.path.isEqual(S)?r=r.add(E):p.done()}));i.push(c)})),ue.waitFor(i).next((()=>this.tr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,a=sv(this.userId,r),s=IDBKeyRange.lowerBound(a);let o=new Wt(ct);return Jh(e).ee({range:s},((c,f,m)=>{const[p,y,b]=c,E=Ns(y);p===this.userId&&r.isPrefixOf(E)?E.length===i&&(o=o.add(b)):m.done()})).next((()=>this.tr(e,o)))}tr(e,n){const r=[],i=[];return n.forEach((a=>{i.push(qu(e).get(a).next((s=>{if(s===null)throw We(35274,{batchId:a});Xe(s.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:s.userId,batchId:a}),r.push(gc(this.serializer,s))})))})),ue.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return dj(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.nr(n.batchId)})),ue.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return ue.resolve();const r=IDBKeyRange.lowerBound((function(s){return[s]})(this.userId)),i=[];return Jh(e).ee({range:r},((a,s,o)=>{if(a[0]===this.userId){const c=Ns(a[1]);i.push(c)}else o.done()})).next((()=>{Xe(i.length===0,56720,{rr:i.map((a=>a.canonicalString()))})}))}))}containsKey(e,n){return pj(e,this.userId,n)}ir(e){return mj(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Pc,lastStreamToken:""}))}}function pj(t,e,n){const r=sv(e,n.path),i=r[1],a=IDBKeyRange.lowerBound(r);let s=!1;return Jh(t).ee({range:a,Y:!0},((o,c,f)=>{const[m,p,y]=o;m===e&&p===i&&(s=!0),f.done()})).next((()=>s))}function qu(t){return Qn(t,Ya)}function Jh(t){return Qn(t,xf)}function mj(t){return Qn(t,em)}class Bc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Bc(0)}static ar(){return new Bc(-1)}}class WW{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.ur(e).next((n=>{const r=new Bc(n.highestTargetId);return n.highestTargetId=r.next(),this.cr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((n=>Qe.fromTimestamp(new Dt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.ur(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.cr(e,i))))}addTargetData(e,n){return this.lr(e,n).next((()=>this.ur(e).next((r=>(r.targetCount+=1,this.hr(n,r),this.cr(e,r))))))}updateTargetData(e,n){return this.lr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>qh(e).delete(n.targetId))).next((()=>this.ur(e))).next((r=>(Xe(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r))))}removeTargets(e,n,r){let i=0;const a=[];return qh(e).ee(((s,o)=>{const c=_p(o);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,a.push(this.removeTargetData(e,c)))})).next((()=>ue.waitFor(a))).next((()=>i))}forEachTarget(e,n){return qh(e).ee(((r,i)=>{const a=_p(i);n(a)}))}ur(e){return JO(e).get(Ov).next((n=>(Xe(n!==null,2888),n)))}cr(e,n){return JO(e).put(Ov,n)}lr(e,n){return qh(e).put(uj(this.serializer,n))}hr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next((n=>n.targetCount))}getTargetData(e,n){const r=jc(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return qh(e).ee({range:i,index:o5},((s,o,c)=>{const f=_p(o);ig(n,f.target)&&(a=f,c.done())})).next((()=>a))}addMatchingKeys(e,n,r){const i=[],a=Ku(e);return n.forEach((s=>{const o=Vr(s.path);i.push(a.put({targetId:r,path:o})),i.push(this.referenceDelegate.addReference(e,r,s))})),ue.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ku(e);return ue.forEach(n,(a=>{const s=Vr(a.path);return ue.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,a)])}))}removeMatchingKeysForTargetId(e,n){const r=Ku(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ku(e);let a=yt();return i.ee({range:r,Y:!0},((s,o,c)=>{const f=Ns(s[1]),m=new je(f);a=a.add(m)})).next((()=>a))}containsKey(e,n){const r=Vr(n.path),i=IDBKeyRange.bound([r],[Q8(r)],!1,!0);let a=0;return Ku(e).ee({index:R2,Y:!0,range:i},(([s,o],c,f)=>{s!==0&&(a++,f.done())})).next((()=>a>0))}At(e,n){return qh(e).get(n).next((r=>r?_p(r):null))}}function qh(t){return Qn(t,Ef)}function JO(t){return Qn(t,Tc)}function Ku(t){return Qn(t,Sf)}const eR="LruGarbageCollector",HW=1048576;function tR([t,e],[n,r]){const i=ct(t,n);return i===0?ct(e,r):i}class KW{constructor(e){this.Pr=e,this.buffer=new Wt(tR),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();tR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Ie(eR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xl(n)?Ie(eR,"Ignoring IndexedDB error during garbage collection: ",n):await Jc(n)}await this.Ar(3e5)}))}}class ZW{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(Pa.ce);const r=new KW(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(QO)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QO):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,a,s,o,c,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,o=Date.now(),this.removeTargets(e,r,n)))).next((p=>(a=p,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),Zh()<=wt.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-m}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(c-o)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-m}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function yj(t,e){return new ZW(t,e)}class XW{constructor(e,n){this.db=e,this.garbageCollector=yj(this,n)}dr(e){const n=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}mr(e,n){return this.yr(e,((r,i)=>n(i)))}addReference(e,n,r){return ky(e,r)}removeReference(e,n,r){return ky(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return ky(e,n)}wr(e,n){return(function(i,a){let s=!1;return mj(i).te((o=>pj(i,o,a).next((c=>(c&&(s=!0),ue.resolve(!c)))))).next((()=>s))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.yr(e,((s,o)=>{if(o<=n){const c=this.wr(e,s).next((f=>{if(!f)return a++,r.getEntry(e,s).next((()=>(r.removeEntry(s,Qe.min()),Ku(e).delete((function(p){return[0,Vr(p.path)]})(s)))))}));i.push(c)}})).next((()=>ue.waitFor(i))).next((()=>r.apply(e))).next((()=>a))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return ky(e,n)}yr(e,n){const r=Ku(e);let i,a=Pa.ce;return r.ee({index:R2},(([s,o],{path:c,sequenceNumber:f})=>{s===0?(a!==Pa.ce&&n(new je(Ns(i)),a),a=f,i=c):a=Pa.ce})).next((()=>{a!==Pa.ce&&n(new je(Ns(i)),a)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ky(t,e){return Ku(t).put((function(r,i){return{targetId:0,path:Vr(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}class vj{constructor(){this.changes=new eu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ue.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class YW{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return oc(e).put(r)}removeEntry(e,n,r){return oc(e).delete((function(a,s){const o=a.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Vv(s),o[o.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.br(e,r))))}getEntry(e,n){let r=Pn.newInvalidDocument(n);return oc(e).ee({index:ov,range:IDBKeyRange.only(np(n))},((i,a)=>{r=this.Sr(n,a)})).next((()=>r))}Dr(e,n){let r={size:0,document:Pn.newInvalidDocument(n)};return oc(e).ee({index:ov,range:IDBKeyRange.only(np(n))},((i,a)=>{r={document:this.Sr(n,a),size:Bv(a)}})).next((()=>r))}getEntries(e,n){let r=Bi();return this.Cr(e,n,((i,a)=>{const s=this.Sr(i,a);r=r.insert(i,s)})).next((()=>r))}vr(e,n){let r=Bi(),i=new mn(je.comparator);return this.Cr(e,n,((a,s)=>{const o=this.Sr(a,s);r=r.insert(a,o),i=i.insert(a,Bv(s))})).next((()=>({documents:r,Fr:i})))}Cr(e,n,r){if(n.isEmpty())return ue.resolve();let i=new Wt(iR);n.forEach((c=>i=i.add(c)));const a=IDBKeyRange.bound(np(i.first()),np(i.last())),s=i.getIterator();let o=s.getNext();return oc(e).ee({index:ov,range:a},((c,f,m)=>{const p=je.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;o&&iR(o,p)<0;)r(o,null),o=s.getNext();o&&o.isEqual(p)&&(r(o,f),o=s.hasNext()?s.getNext():null),o?m.j(np(o)):m.done()})).next((()=>{for(;o;)r(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,a){const s=n.path,o=[s.popLast().toArray(),s.lastSegment(),Vv(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return oc(e).H(IDBKeyRange.bound(o,c,!0)).next((f=>{a?.incrementDocumentReadCount(f.length);let m=Bi();for(const p of f){const y=this.Sr(je.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);y.isFoundDocument()&&(ag(n,y)||i.has(y.key))&&(m=m.insert(y.key,y))}return m}))}getAllFromCollectionGroup(e,n,r,i){let a=Bi();const s=rR(n,r),o=rR(n,zi.max());return oc(e).ee({index:s5,range:IDBKeyRange.bound(s,o,!0)},((c,f,m)=>{const p=this.Sr(je.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);a=a.insert(p.key,p),a.size===i&&m.done()})).next((()=>a))}newChangeBuffer(e){return new QW(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return nR(e).get(vP).next((n=>(Xe(!!n,20021),n)))}br(e,n){return nR(e).put(vP,n)}Sr(e,n){if(n){const r=DW(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Qe.min())))return r}return Pn.newInvalidDocument(e)}}function _j(t){return new YW(t)}class QW extends vj{constructor(e,n){super(),this.Mr=e,this.trackRemovals=n,this.Or=new eu((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new Wt(((a,s)=>ct(a.canonicalString(),s.canonicalString())));return this.changes.forEach(((a,s)=>{const o=this.Or.get(a);if(n.push(this.Mr.removeEntry(e,a,o.readTime)),s.isValidDocument()){const c=FO(this.Mr.serializer,s);i=i.add(a.path.popLast());const f=Bv(c);r+=f-o.size,n.push(this.Mr.addEntry(e,a,c))}else if(r-=o.size,this.trackRemovals){const c=FO(this.Mr.serializer,s.convertToNoDocument(Qe.min()));n.push(this.Mr.addEntry(e,a,c))}})),i.forEach((a=>{n.push(this.Mr.indexManager.addToCollectionParentIndex(e,a))})),n.push(this.Mr.updateMetadata(e,r)),ue.waitFor(n)}getFromCache(e,n){return this.Mr.Dr(e,n).next((r=>(this.Or.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Mr.vr(e,n).next((({documents:r,Fr:i})=>(i.forEach(((a,s)=>{this.Or.set(a,{size:s,readTime:r.get(a).readTime})})),r)))}}function nR(t){return Qn(t,tm)}function oc(t){return Qn(t,Cv)}function np(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function rR(t,e){const n=e.documentKey.path.toArray();return[t,Vv(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function iR(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<n.length-2&&a<r.length-2;++a)if(i=ct(n[a],r[a]),i)return i;return i=ct(n.length,r.length),i||(i=ct(n[n.length-2],r[r.length-2]),i||ct(n[n.length-1],r[r.length-1]))}class JW{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class wj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Dp(r.mutation,i,vi.empty(),Dt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,yt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=yt()){const i=Ls();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let s=yp();return a.forEach(((o,c)=>{s=s.insert(o,c.overlayedDocument)})),s}))))}getOverlayedDocuments(e,n){const r=Ls();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,yt())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((s,o)=>{n.set(s,o)}))}))}computeViews(e,n,r,i){let a=Bi();const s=Lp(),o=(function(){return Lp()})();return n.forEach(((c,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof tu)?a=a.insert(f.key,f):m!==void 0?(s.set(f.key,m.mutation.getFieldMask()),Dp(m.mutation,f,m.mutation.getFieldMask(),Dt.now())):s.set(f.key,vi.empty())})),this.recalculateAndSaveOverlays(e,a).next((c=>(c.forEach(((f,m)=>s.set(f,m))),n.forEach(((f,m)=>o.set(f,new JW(m,s.get(f)??null)))),o)))}recalculateAndSaveOverlays(e,n){const r=Lp();let i=new mn(((s,o)=>s-o)),a=yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((s=>{for(const o of s)o.keys().forEach((c=>{const f=n.get(c);if(f===null)return;let m=r.get(c)||vi.empty();m=o.applyToLocalView(f,m),r.set(c,m);const p=(i.get(o.batchId)||yt()).add(c);i=i.insert(o.batchId,p)}))})).next((()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),f=c.key,m=c.value,p=j5();m.forEach((y=>{if(!a.has(y)){const b=U5(n.get(y),r.get(y));b!==null&&p.set(y,b),a=a.add(y)}})),s.push(this.documentOverlayCache.saveOverlays(e,f,p))}return ue.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return eW(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):R5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ue.resolve(Ls());let o=Yp,c=a;return s.next((f=>ue.forEach(f,((m,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),a.get(m)?ue.resolve():this.remoteDocumentCache.getEntry(e,m).next((y=>{c=c.insert(m,y)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,c,f,yt()))).next((m=>({batchId:o,changes:D5(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new je(n)).next((r=>{let i=yp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=yp();return this.indexManager.getCollectionParents(e,a).next((o=>ue.forEach(o,(c=>{const f=(function(p,y){return new ld(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((m=>{m.forEach(((p,y)=>{s=s.insert(p,y)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((s=>{a.forEach(((c,f)=>{const m=f.getKey();s.get(m)===null&&(s=s.insert(m,Pn.newInvalidDocument(m)))}));let o=yp();return s.forEach(((c,f)=>{const m=a.get(c);m!==void 0&&Dp(m.mutation,f,vi.empty(),Dt.now()),ag(n,f)&&(o=o.insert(c,f))})),o}))}}class eH{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ue.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:ti(i.createTime)}})(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:lj(i.bundledQuery),readTime:ti(i.readTime)}})(n)),ue.resolve()}}class tH{constructor(){this.overlays=new mn(je.comparator),this.Lr=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ls();return ue.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.bt(e,n,a)})),ue.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(r)),ue.resolve()}getOverlaysForCollection(e,n,r){const i=Ls(),a=n.length+1,s=new je(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const c=o.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ue.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new mn(((f,m)=>f-m));const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=a.get(f.largestBatchId);m===null&&(m=Ls(),a=a.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const o=Ls(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,m)=>o.set(f,m))),!(o.size()>=i)););return ue.resolve(o)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new U2(n,r));let a=this.Lr.get(n);a===void 0&&(a=yt(),this.Lr.set(n,a)),this.Lr.set(n,a.add(r.key))}}class nH{constructor(){this.sessionToken=zn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}class K2{constructor(){this.kr=new Wt(ar.Kr),this.qr=new Wt(ar.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new ar(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new ar(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new je(new Lt([])),r=new ar(n,e),i=new ar(n,e+1),a=[];return this.qr.forEachInRange([r,i],(s=>{this.Wr(s),a.push(s.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new je(new Lt([])),r=new ar(n,e),i=new ar(n,e+1);let a=yt();return this.qr.forEachInRange([r,i],(s=>{a=a.add(s.key)})),a}containsKey(e){const n=new ar(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ar{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return je.comparator(e.key,n.key)||ct(e.Hr,n.Hr)}static Ur(e,n){return ct(e.Hr,n.Hr)||je.comparator(e.key,n.key)}}class rH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Wt(ar.Kr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new $2(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.Jr=this.Jr.add(new ar(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ue.resolve(s)}lookupMutationBatch(e,n){return ue.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return ue.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?Pc:this.Yn-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ar(n,0),i=new ar(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,i],(s=>{const o=this.Zr(s.Hr);a.push(o)})),ue.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wt(ct);return n.forEach((i=>{const a=new ar(i,0),s=new ar(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,s],(o=>{r=r.add(o.Hr)}))})),ue.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;je.isDocumentKey(a)||(a=a.child(""));const s=new ar(new je(a),0);let o=new Wt(ct);return this.Jr.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(o=o.add(c.Hr)),!0)}),s),ue.resolve(this.Yr(o))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Xe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ue.forEach(n.mutations,(i=>{const a=new ar(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new ar(n,0),i=this.Jr.firstAfterOrEqual(r);return ue.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class iH{constructor(e){this.ti=e,this.docs=(function(){return new mn(je.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ue.resolve(r?r.document.mutableCopy():Pn.newInvalidDocument(n))}getEntries(e,n){let r=Bi();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Pn.newInvalidDocument(i))})),ue.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Bi();const s=n.path,o=new je(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:f,value:{document:m}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||C2(t5(m),r)<=0||(i.has(m.key)||ag(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return ue.resolve(a)}getAllFromCollectionGroup(e,n,r,i){We(9500)}ni(e,n){return ue.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new aH(this)}getSize(e){return ue.resolve(this.size)}}class aH extends vj{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),ue.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class sH{constructor(e){this.persistence=e,this.ri=new eu((n=>jc(n)),ig),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.ii=0,this.si=new K2,this.targetCount=0,this.oi=Bc._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ue.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Bc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.lr(n),ue.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ri.forEach(((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.ri.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),ue.waitFor(a).next((()=>i))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ue.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ue.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((s=>{a.push(i.markPotentiallyOrphaned(e,s))})),ue.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ue.resolve(r)}containsKey(e,n){return ue.resolve(this.si.containsKey(n))}}class Z2{constructor(e,n){this._i={},this.overlays={},this.ai=new Pa(0),this.ui=!1,this.ui=!0,this.ci=new nH,this.referenceDelegate=e(this),this.li=new sH(this),this.indexManager=new qW,this.remoteDocumentCache=(function(i){return new iH(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new oj(n),this.Pi=new eH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new rH(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Ie("MemoryPersistence","Starting transaction:",e);const i=new oH(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((a=>this.referenceDelegate.Ii(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ei(e,n){return ue.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class oH extends r5{constructor(e){super(),this.currentSequenceNumber=e}}class A0{constructor(e){this.persistence=e,this.Ri=new K2,this.Ai=null}static Vi(e){return new A0(e)}get di(){if(this.Ai)return this.Ai;throw We(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ue.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.di.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.di,(r=>{const i=je.fromPath(r);return this.mi(e,i).next((a=>{a||n.removeEntry(i,Qe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ue.or([()=>ue.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class $v{constructor(e,n){this.persistence=e,this.fi=new eu((r=>Vr(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=yj(this,n)}static Vi(e,n){return new $v(e,n)}Ti(){}Ii(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ue.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((a=>a?ue.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(e,(s=>this.wr(e,s,n).next((o=>{o||(r++,a.removeEntry(s,Qe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ue.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lv(e.data.value)),n}wr(e,n,r){return ue.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return ue.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class uH{constructor(e){this.serializer=e}k(e,n,r,i){const a=new f0("createOrUpgrade",n);r<1&&i>=1&&((function(c){c.createObjectStore(rg)})(e),(function(c){c.createObjectStore(em,{keyPath:mG}),c.createObjectStore(Ya,{keyPath:mO,autoIncrement:!0}).createIndex(_c,gO,{unique:!0}),c.createObjectStore(xf)})(e),aR(e),(function(c){c.createObjectStore(hc)})(e));let s=ue.resolve();return r<3&&i>=3&&(r!==0&&((function(c){c.deleteObjectStore(Sf),c.deleteObjectStore(Ef),c.deleteObjectStore(Tc)})(e),aR(e)),s=s.next((()=>(function(c){const f=c.store(Tc),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Qe.min().toTimestamp(),targetCount:0};return f.put(Ov,m)})(a)))),r<4&&i>=4&&(r!==0&&(s=s.next((()=>(function(c,f){return f.store(Ya).H().next((p=>{c.deleteObjectStore(Ya),c.createObjectStore(Ya,{keyPath:mO,autoIncrement:!0}).createIndex(_c,gO,{unique:!0});const y=f.store(Ya),b=p.map((E=>y.put(E)));return ue.waitFor(b)}))})(e,a)))),s=s.next((()=>{(function(c){c.createObjectStore(Pf,{keyPath:SG})})(e)}))),r<5&&i>=5&&(s=s.next((()=>this.gi(a)))),r<6&&i>=6&&(s=s.next((()=>((function(c){c.createObjectStore(tm)})(e),this.pi(a))))),r<7&&i>=7&&(s=s.next((()=>this.yi(a)))),r<8&&i>=8&&(s=s.next((()=>this.wi(e,a)))),r<9&&i>=9&&(s=s.next((()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(s=s.next((()=>this.bi(a)))),r<11&&i>=11&&(s=s.next((()=>{(function(c){c.createObjectStore(p0,{keyPath:PG})})(e),(function(c){c.createObjectStore(m0,{keyPath:TG})})(e)}))),r<12&&i>=12&&(s=s.next((()=>{(function(c){const f=c.createObjectStore(g0,{keyPath:kG});f.createIndex(wP,NG,{unique:!1}),f.createIndex(c5,LG,{unique:!1})})(e)}))),r<13&&i>=13&&(s=s.next((()=>(function(c){const f=c.createObjectStore(Cv,{keyPath:yG});f.createIndex(ov,vG),f.createIndex(s5,_G)})(e))).next((()=>this.Si(e,a))).next((()=>e.deleteObjectStore(hc)))),r<14&&i>=14&&(s=s.next((()=>this.Di(e,a)))),r<15&&i>=15&&(s=s.next((()=>(function(c){c.createObjectStore(k2,{keyPath:AG,autoIncrement:!0}).createIndex(_P,IG,{unique:!1}),c.createObjectStore(Op,{keyPath:MG}).createIndex(u5,CG,{unique:!1}),c.createObjectStore(Rp,{keyPath:OG}).createIndex(l5,RG,{unique:!1})})(e)))),r<16&&i>=16&&(s=s.next((()=>{n.objectStore(Op).clear()})).next((()=>{n.objectStore(Rp).clear()}))),r<17&&i>=17&&(s=s.next((()=>{(function(c){c.createObjectStore(N2,{keyPath:DG})})(e)}))),r<18&&i>=18&&j8()&&(s=s.next((()=>{n.objectStore(Op).clear()})).next((()=>{n.objectStore(Rp).clear()}))),s}pi(e){let n=0;return e.store(hc).ee(((r,i)=>{n+=Bv(i)})).next((()=>{const r={byteSize:n};return e.store(tm).put(vP,r)}))}gi(e){const n=e.store(em),r=e.store(Ya);return n.H().next((i=>ue.forEach(i,(a=>{const s=IDBKeyRange.bound([a.userId,Pc],[a.userId,a.lastAcknowledgedBatchId]);return r.H(_c,s).next((o=>ue.forEach(o,(c=>{Xe(c.userId===a.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const f=gc(this.serializer,c);return dj(e,a.userId,f).next((()=>{}))}))))}))))}yi(e){const n=e.store(Sf),r=e.store(hc);return e.store(Tc).get(Ov).next((i=>{const a=[];return r.ee(((s,o)=>{const c=new Lt(s),f=(function(p){return[0,Vr(p)]})(c);a.push(n.get(f).next((m=>m?ue.resolve():(p=>n.put({targetId:0,path:Vr(p),sequenceNumber:i.highestListenSequenceNumber}))(c))))})).next((()=>ue.waitFor(a)))}))}wi(e,n){e.createObjectStore(nm,{keyPath:EG});const r=n.store(nm),i=new H2,a=s=>{if(i.add(s)){const o=s.lastSegment(),c=s.popLast();return r.put({collectionId:o,parent:Vr(c)})}};return n.store(hc).ee({Y:!0},((s,o)=>{const c=new Lt(s);return a(c.popLast())})).next((()=>n.store(xf).ee({Y:!0},(([s,o,c],f)=>{const m=Ns(o);return a(m.popLast())}))))}bi(e){const n=e.store(Ef);return n.ee(((r,i)=>{const a=_p(i),s=uj(this.serializer,a);return n.put(s)}))}Si(e,n){const r=n.store(hc),i=[];return r.ee(((a,s)=>{const o=n.store(Cv),c=(function(p){return p.document?new je(Lt.fromString(p.document.name).popFirst(5)):p.noDocument?je.fromSegments(p.noDocument.path):p.unknownDocument?je.fromSegments(p.unknownDocument.path):We(36783)})(s).path.toArray(),f={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(o.put(f))})).next((()=>ue.waitFor(i)))}Di(e,n){const r=n.store(Ya),i=_j(this.serializer),a=new Z2(A0.Vi,this.serializer.yt);return r.H().next((s=>{const o=new Map;return s.forEach((c=>{let f=o.get(c.userId)??yt();gc(this.serializer,c).keys().forEach((m=>f=f.add(m))),o.set(c.userId,f)})),ue.forEach(o,((c,f)=>{const m=new mr(f),p=P0.wt(this.serializer,m),y=a.getIndexManager(m),b=T0.wt(m,this.serializer,y,a.referenceDelegate);return new wj(i,b,p,y).recalculateAndSaveOverlaysForDocumentKeys(new bP(n,Pa.ce),c).next()}))}))}}function aR(t){t.createObjectStore(Sf,{keyPath:bG}).createIndex(R2,xG,{unique:!0}),t.createObjectStore(Ef,{keyPath:"targetId"}).createIndex(o5,wG,{unique:!0}),t.createObjectStore(Tc)}const Gu="IndexedDbPersistence",Hw=18e5,Kw=5e3,Zw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",lH="main";class X2{constructor(e,n,r,i,a,s,o,c,f,m,p=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Ci=a,this.window=s,this.document=o,this.Fi=f,this.Mi=m,this.xi=p,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=y=>Promise.resolve(),!X2.v())throw new Ne(ve.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new XW(this,i),this.Ki=n+lH,this.serializer=new oj(c),this.qi=new ul(this.Ki,this.xi,new uH(this.serializer)),this.ci=new VW,this.li=new WW(this.referenceDelegate,this.serializer),this.remoteDocumentCache=_j(this.serializer),this.Pi=new jW,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,m===!1&&Yr(Gu,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(ve.FAILED_PRECONDITION,Zw);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new Pa(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Ny(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((n=>{n||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((n=>this.isPrimary&&!n?this.Ji(e).next((()=>!1)):!!n&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(xl(e))return Ie(Gu,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ie(Gu,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return rp(e).get(Fh).next((n=>ue.resolve(this.Xi(n))))}Yi(e){return Ny(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,Hw)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Qn(n,Pf);return r.H().next((i=>{const a=this.ns(i,Hw),s=i.filter((o=>a.indexOf(o)===-1));return ue.forEach(s,(o=>r.delete(o.clientId))).next((()=>s))}))})).catch((()=>[]));if(this.Ui)for(const n of e)this.Ui.removeItem(this.rs(n.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?ue.resolve(!0):rp(e).get(Fh).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,Kw)&&!this.ss(n.ownerId)){if(this.Xi(n)&&this.networkEnabled)return!0;if(!this.Xi(n)){if(!n.allowTabSynchronization)throw new Ne(ve.FAILED_PRECONDITION,Zw);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ny(e).H().next((r=>this.ns(r,Kw).find((i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(a||s&&o)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&Ie(Gu,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[rg,Pf],(e=>{const n=new bP(e,Pa.ce);return this.Ji(n).next((()=>this.Yi(n)))})),this.qi.close(),this.ls()}ns(e,n){return e.filter((r=>this.ts(r.updateTimeMs,n)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>Ny(e).H().next((n=>this.ns(n,Hw).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,n){return T0.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new GW(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return P0.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,n,r){Ie(Gu,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",a=(function(c){return c===18?FG:c===17?p5:c===16?VG:c===15?L2:c===14?d5:c===13?f5:c===12?jG:c===11?h5:void We(60245)})(this.xi);let s;return this.qi.runTransaction(e,i,a,(o=>(s=new bP(o,this.ai?this.ai.next():Pa.ce),n==="readwrite-primary"?this.ji(s).next((c=>!!c||this.Hi(s))).next((c=>{if(!c)throw Yr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new Ne(ve.FAILED_PRECONDITION,n5);return r(s)})).next((c=>this.Zi(s).next((()=>c)))):this.Ps(s).next((()=>r(s)))))).then((o=>(s.raiseOnCommittedEvent(),o)))}Ps(e){return rp(e).get(Fh).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,Kw)&&!this.ss(n.ownerId)&&!this.Xi(n)&&!(this.Mi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Ne(ve.FAILED_PRECONDITION,Zw)}))}Zi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return rp(e).put(Fh,n)}static v(){return ul.v()}Ji(e){const n=rp(e);return n.get(Fh).next((r=>this.Xi(r)?(Ie(Gu,"Releasing primary lease."),n.delete(Fh)):ue.resolve()))}ts(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Yr(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const e=/(?:Version|Mobile)\/1[456]/;D8()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{const n=this.Ui?.getItem(this.rs(e))!==null;return Ie(Gu,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Yr(Gu,"Failed to get zombied client id.",n),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){Yr("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function rp(t){return Qn(t,rg)}function Ny(t){return Qn(t,Pf)}function cH(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class Y2{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=yt(),i=yt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Y2(e,n.fromCache,r,i)}}class hH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class bj{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return D8()?8:i5(Yn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.gs(e,n).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.ps(e,n,i,r).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new hH;return this.ys(e,n,s).next((o=>{if(a.result=o,this.As)return this.ws(e,n,s,o.size)}))})).next((()=>a.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Zh()<=wt.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",Xh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ue.resolve()):(Zh()<=wt.DEBUG&&Ie("QueryEngine","Query:",Xh(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Zh()<=wt.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",Xh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ia(n))):ue.resolve())}gs(e,n){if(MO(n))return ue.resolve(null);let r=Ia(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Lv(n,null,"F"),r=Ia(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const s=yt(...a);return this.fs.getDocuments(e,s).next((o=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.bs(n,o);return this.Ss(n,f,s,c.readTime)?this.gs(e,Lv(n,null,"F")):this.Ds(e,f,n,c)}))))})))))}ps(e,n,r,i){return MO(n)||i.isEqual(Qe.min())?ue.resolve(null):this.fs.getDocuments(e,r).next((a=>{const s=this.bs(n,a);return this.Ss(n,s,r,i)?ue.resolve(null):(Zh()<=wt.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xh(n)),this.Ds(e,s,n,uG(i,Yp)).next((o=>o)))}))}bs(e,n){let r=new Wt(N5(e));return n.forEach(((i,a)=>{ag(e,a)&&(r=r.add(a))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(e,n,r){return Zh()<=wt.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",Xh(n)),this.fs.getDocumentsMatchingQuery(e,n,zi.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((s=>{a=a.insert(s.key,s)})),a)))}}const Q2="LocalStore",fH=3e8;class dH{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new mn(ct),this.Fs=new eu((a=>jc(a)),ig),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wj(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function xj(t,e,n,r){return new dH(t,e,n,r)}async function Ej(t,e){const n=ht(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const s=[],o=[];let c=yt();for(const f of i){s.push(f.batchId);for(const m of f.mutations)c=c.add(m.key)}for(const f of a){o.push(f.batchId);for(const m of f.mutations)c=c.add(m.key)}return n.localDocuments.getDocuments(r,c).next((f=>({Ns:f,removedBatchIds:s,addedBatchIds:o})))}))}))}function pH(t,e){const n=ht(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return(function(o,c,f,m){const p=f.batch,y=p.keys();let b=ue.resolve();return y.forEach((E=>{b=b.next((()=>m.getEntry(c,E))).next((S=>{const x=f.docVersions.get(E);Xe(x!==null,48541),S.version.compareTo(x)<0&&(p.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),m.addEntry(S)))}))})),b.next((()=>o.mutationQueue.removeMutationBatch(c,p)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(o){let c=yt();for(let f=0;f<o.mutationResults.length;++f)o.mutationResults[f].transformResults.length>0&&(c=c.add(o.batch.mutations[f].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function Sj(t){const e=ht(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function mH(t,e){const n=ht(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const o=[];e.targetChanges.forEach(((m,p)=>{const y=i.get(p);if(!y)return;o.push(n.li.removeMatchingKeys(a,m.removedDocuments,p).next((()=>n.li.addMatchingKeys(a,m.addedDocuments,p))));let b=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?b=b.withResumeToken(zn.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):m.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(m.resumeToken,r)),i=i.insert(p,b),(function(S,x,M){return S.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=fH?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(y,b,m)&&o.push(n.li.updateTargetData(a,b))}));let c=Bi(),f=yt();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))})),o.push(gH(a,s,e.documentUpdates).next((m=>{c=m.Bs,f=m.Ls}))),!r.isEqual(Qe.min())){const m=n.li.getLastRemoteSnapshotVersion(a).next((p=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,r)));o.push(m)}return ue.waitFor(o).next((()=>s.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,c,f))).next((()=>c))})).then((a=>(n.vs=i,a)))}function gH(t,e,n){let r=yt(),i=yt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let s=Bi();return n.forEach(((o,c)=>{const f=a.get(o);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(o)),c.isNoDocument()&&c.version.isEqual(Qe.min())?(e.removeEntry(o,c.readTime),s=s.insert(o,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(o,c)):Ie(Q2,"Ignoring outdated watch update for ",o,". Current version:",f.version," Watch version:",c.version)})),{Bs:s,Ls:i}}))}function yH(t,e){const n=ht(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Pc),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function vH(t,e){const n=ht(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((a=>a?(i=a,ue.resolve(i)):n.li.allocateTargetId(r).next((s=>(i=new Co(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function LP(t,e,n){const r=ht(t),i=r.vs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!xl(s))throw s;Ie(Q2,`Failed to update sequence numbers for target ${e}: ${s}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function sR(t,e,n){const r=ht(t);let i=Qe.min(),a=yt();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,f,m){const p=ht(c),y=p.Fs.get(m);return y!==void 0?ue.resolve(p.vs.get(y)):p.li.getTargetData(f,m)})(r,s,Ia(e)).next((o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,o.targetId).next((c=>{a=c}))})).next((()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:Qe.min(),n?a:yt()))).next((o=>(_H(r,rW(e),o),{documents:o,ks:a})))))}function _H(t,e,n){let r=t.Ms.get(e)||Qe.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Ms.set(e,r)}class oR{constructor(){this.activeTargetIds=lW()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pj{constructor(){this.vo=new oR,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new oR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wH{Mo(e){}shutdown(){}}const uR="ConnectivityMonitor";class lR{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Ie(uR,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Ie(uR,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ly=null;function DP(){return Ly===null?Ly=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ly++,"0x"+Ly.toString(16)}const Xw="RestConnection",bH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class xH{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Rv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const s=DP(),o=this.Qo(e,n.toUriEncodedString());Ie(Xw,`Sending RPC '${e}' ${s}:`,o,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,a);const{host:f}=new URL(o),m=Jo(f);return this.zo(e,o,c,r,m).then((p=>(Ie(Xw,`Received RPC '${e}' ${s}: `,p),p)),(p=>{throw pl(Xw,`RPC '${e}' ${s} failed with error: `,p,"url: ",o,"request:",r),p}))}jo(e,n,r,i,a,s){return this.Wo(e,n,r,i,a)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ud})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}Qo(e,n){const r=bH[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}class EH{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Cr="WebChannelConnection",ip=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class cf extends xH{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!cf.c_){const e=K8();ip(e,H8.STAT_EVENT,(n=>{n.stat===mP.PROXY?Ie(Cr,"STAT_EVENT: detected buffering proxy"):n.stat===mP.NOPROXY&&Ie(Cr,"STAT_EVENT: detected no buffering proxy")})),cf.c_=!0}}zo(e,n,r,i,a){const s=DP();return new Promise(((o,c)=>{const f=new G8;f.setWithCredentials(!0),f.listenOnce(W8.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case iv.NO_ERROR:const p=f.getResponseJson();Ie(Cr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case iv.TIMEOUT:Ie(Cr,`RPC '${e}' ${s} timed out`),c(new Ne(ve.DEADLINE_EXCEEDED,"Request time out"));break;case iv.HTTP_ERROR:const y=f.getStatus();if(Ie(Cr,`RPC '${e}' ${s} failed with status:`,y,"response text:",f.getResponseText()),y>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const E=b?.error;if(E&&E.status&&E.message){const S=(function(M){const O=M.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(O)>=0?O:ve.UNKNOWN})(E.status);c(new Ne(S,E.message))}else c(new Ne(ve.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Ne(ve.UNAVAILABLE,"Connection failed."));break;default:We(9055,{l_:e,streamId:s,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Ie(Cr,`RPC '${e}' ${s} completed.`)}}));const m=JSON.stringify(i);Ie(Cr,`RPC '${e}' ${s} sending request:`,i),f.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=DP(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(o.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,n,r),o.encodeInitMessageHeaders=!0;const f=a.join("");Ie(Cr,`Creating RPC '${e}' stream ${i}: ${f}`,o);const m=s.createWebChannel(f,o);this.I_(m);let p=!1,y=!1;const b=new EH({Ho:E=>{y?Ie(Cr,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(p||(Ie(Cr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),p=!0),Ie(Cr,`RPC '${e}' stream ${i} sending:`,E),m.send(E))},Jo:()=>m.close()});return ip(m,gp.EventType.OPEN,(()=>{y||(Ie(Cr,`RPC '${e}' stream ${i} transport opened.`),b.i_())})),ip(m,gp.EventType.CLOSE,(()=>{y||(y=!0,Ie(Cr,`RPC '${e}' stream ${i} transport closed`),b.o_(),this.E_(m))})),ip(m,gp.EventType.ERROR,(E=>{y||(y=!0,pl(Cr,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),b.o_(new Ne(ve.UNAVAILABLE,"The operation could not be completed")))})),ip(m,gp.EventType.MESSAGE,(E=>{if(!y){const S=E.data[0];Xe(!!S,16349);const x=S,M=x?.error||x[0]?.error;if(M){Ie(Cr,`RPC '${e}' stream ${i} received error:`,M);const O=M.status;let D=(function(V){const C=Vn[V];if(C!==void 0)return W5(C)})(O),$=M.message;O==="NOT_FOUND"&&$.includes("database")&&$.includes("does not exist")&&$.includes(this.databaseId.database)&&pl(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),D===void 0&&(D=ve.INTERNAL,$="Unknown error status: "+O+" with message "+M.message),y=!0,b.o_(new Ne(D,$)),m.close()}else Ie(Cr,`RPC '${e}' stream ${i} received:`,S),b.__(S)}})),cf.u_(),setTimeout((()=>{b.s_()}),0),b}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Z8()}}function SH(t){return new cf(t)}function PH(){return typeof window<"u"?window:null}function pv(){return typeof document<"u"?document:null}function I0(t){return new TW(t,!0)}cf.c_=!1;class Tj{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const cR="PersistentStream";class Aj{constructor(e,n,r,i,a,s,o,c){this.Ci=e,this.b_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Tj(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ve.RESOURCE_EXHAUSTED?(Yr(n.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ne(ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ie(cR,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Ie(cR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TH extends Aj{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=MW(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Qe.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Qe.min():s.readTime?ti(s.readTime):Qe.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=CP(this.serializer),n.addTarget=(function(a,s){let o;const c=s.target;if(o=kv(c)?{documents:ej(a,c)}:{query:tj(a,c).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=Z5(a,s.resumeToken);const f=IP(a,s.expectedCount);f!==null&&(o.expectedCount=f)}else if(s.snapshotVersion.compareTo(Qe.min())>0){o.readTime=Rf(a,s.snapshotVersion.toTimestamp());const f=IP(a,s.expectedCount);f!==null&&(o.expectedCount=f)}return o})(this.serializer,e);const r=OW(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=CP(this.serializer),n.removeTarget=e,this.K_(n)}}class AH extends Aj{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=CW(e.writeResults,e.commitTime),r=ti(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=CP(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>jv(this.serializer,r)))};this.K_(n)}}class IH{}class MH extends IH{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ne(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Wo(e,MP(n,r),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ne(ve.UNKNOWN,a.toString())}))}jo(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.jo(e,MP(n,r),i,s,o,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ne(ve.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function CH(t,e,n,r){return new MH(t,e,n,r)}class OH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yr(n),this.aa=!1):Ie("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const $c="RemoteStore";class RH{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((s=>{r.enqueueAndForget((async()=>{eh(this)&&(Ie($c,"Restarting streams for network reachability change."),await(async function(c){const f=ht(c);f.Ea.add(4),await og(f),f.Va.set("Unknown"),f.Ea.delete(4),await M0(f)})(this))}))})),this.Va=new OH(r,i)}}async function M0(t){if(eh(t))for(const e of t.Ra)await e(!0)}async function og(t){for(const e of t.Ra)await e(!1)}function Ij(t,e){const n=ht(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),nA(n)?tA(n):hd(n).O_()&&eA(n,e))}function J2(t,e){const n=ht(t),r=hd(n);n.Ia.delete(e),r.O_()&&Mj(n,e),n.Ia.size===0&&(r.O_()?r.L_():eh(n)&&n.Va.set("Unknown"))}function eA(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hd(t).Z_(e)}function Mj(t,e){t.da.$e(e),hd(t).X_(e)}function tA(t){t.da=new xW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),hd(t).start(),t.Va.ua()}function nA(t){return eh(t)&&!hd(t).x_()&&t.Ia.size>0}function eh(t){return ht(t).Ea.size===0}function Cj(t){t.da=void 0}async function kH(t){t.Va.set("Online")}async function NH(t){t.Ia.forEach(((e,n)=>{eA(t,e)}))}async function LH(t,e){Cj(t),nA(t)?(t.Va.ha(e),tA(t)):t.Va.set("Unknown")}async function DH(t,e,n){if(t.Va.set("Online"),e instanceof K5&&e.state===2&&e.cause)try{await(async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.da.removeTarget(o))})(t,e)}catch(r){Ie($c,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zv(t,r)}else if(e instanceof fv?t.da.Xe(e):e instanceof H5?t.da.st(e):t.da.tt(e),!n.isEqual(Qe.min()))try{const r=await Sj(t.localStore);n.compareTo(r)>=0&&await(function(a,s){const o=a.da.Tt(s);return o.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const m=a.Ia.get(f);m&&a.Ia.set(f,m.withResumeToken(c.resumeToken,s))}})),o.targetMismatches.forEach(((c,f)=>{const m=a.Ia.get(c);if(!m)return;a.Ia.set(c,m.withResumeToken(zn.EMPTY_BYTE_STRING,m.snapshotVersion)),Mj(a,c);const p=new Co(m.target,c,f,m.sequenceNumber);eA(a,p)})),a.remoteSyncer.applyRemoteEvent(o)})(t,n)}catch(r){Ie($c,"Failed to raise snapshot:",r),await zv(t,r)}}async function zv(t,e,n){if(!xl(e))throw e;t.Ea.add(1),await og(t),t.Va.set("Offline"),n||(n=()=>Sj(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ie($c,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await M0(t)}))}function Oj(t,e){return e().catch((n=>zv(t,n,e)))}async function ug(t){const e=ht(t),n=yl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Pc;for(;jH(e);)try{const i=await yH(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,VH(e,i)}catch(i){await zv(e,i)}Rj(e)&&kj(e)}function jH(t){return eh(t)&&t.Ta.length<10}function VH(t,e){t.Ta.push(e);const n=yl(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function Rj(t){return eh(t)&&!yl(t).x_()&&t.Ta.length>0}function kj(t){yl(t).start()}async function FH(t){yl(t).ra()}async function BH(t){const e=yl(t);for(const n of t.Ta)e.ea(n.mutations)}async function $H(t,e,n){const r=t.Ta.shift(),i=z2.from(r,e,n);await Oj(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await ug(t)}async function zH(t,e){e&&yl(t).Y_&&await(async function(r,i){if((function(s){return _W(s)&&s!==ve.ABORTED})(i.code)){const a=r.Ta.shift();yl(r).B_(),await Oj(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await ug(r)}})(t,e),Rj(t)&&kj(t)}async function hR(t,e){const n=ht(t);n.asyncQueue.verifyOperationInProgress(),Ie($c,"RemoteStore received new credentials");const r=eh(n);n.Ea.add(3),await og(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await M0(n)}async function UH(t,e){const n=ht(t);e?(n.Ea.delete(2),await M0(n)):e||(n.Ea.add(2),await og(n),n.Va.set("Unknown"))}function hd(t){return t.ma||(t.ma=(function(n,r,i){const a=ht(n);return a.sa(),new TH(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:kH.bind(null,t),Yo:NH.bind(null,t),t_:LH.bind(null,t),J_:DH.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),nA(t)?tA(t):t.Va.set("Unknown")):(await t.ma.stop(),Cj(t))}))),t.ma}function yl(t){return t.fa||(t.fa=(function(n,r,i){const a=ht(n);return a.sa(),new AH(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:FH.bind(null,t),t_:zH.bind(null,t),ta:BH.bind(null,t),na:$H.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await ug(t)):(await t.fa.stop(),t.Ta.length>0&&(Ie($c,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class rA{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new rA(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iA(t,e){if(Yr("AsyncQueue",`${e}: ${t}`),xl(t))return new Ne(ve.UNAVAILABLE,`${e}: ${t}`);throw t}class hf{static emptySet(e){return new hf(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||je.comparator(n.key,r.key):(n,r)=>je.comparator(n.key,r.key),this.keyedMap=yp(),this.sortedSet=new mn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new hf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class fR{constructor(){this.ga=new mn(je.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):We(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class kf{constructor(e,n,r,i,a,s,o,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach((o=>{s.push({type:0,doc:o})})),new kf(e,n,hf.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&w0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class qH{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class GH{constructor(){this.queries=dR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ht(n),a=i.queries;i.queries=dR(),a.forEach(((s,o)=>{for(const c of o.ba)c.onError(r)}))})(this,new Ne(ve.ABORTED,"Firestore shutting down"))}}function dR(){return new eu((t=>k5(t)),w0)}async function Nj(t,e){const n=ht(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.Da()&&(r=2):(a=new qH,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=iA(s,`Initialization of query '${Xh(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.ba.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&aA(n)}async function Lj(t,e){const n=ht(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.ba.indexOf(e);s>=0&&(a.ba.splice(s,1),a.ba.length===0?i=e.Da()?0:1:!a.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function WH(t,e){const n=ht(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.ba)o.Fa(i)&&(r=!0);s.wa=i}}r&&aA(n)}function HH(t,e,n){const r=ht(t),i=r.queries.get(e);if(i)for(const a of i.ba)a.onError(n);r.queries.delete(e)}function aA(t){t.Ca.forEach((e=>{e.next()}))}var jP,pR;(pR=jP||(jP={})).Ma="default",pR.Cache="cache";class Dj{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new kf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=kf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jP.Cache}}class jj{constructor(e){this.key=e}}class Vj{constructor(e){this.key=e}}class KH{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=yt(),this.mutatedKeys=yt(),this.eu=N5(e),this.tu=new hf(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new fR,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,p)=>{const y=i.get(m),b=ag(this.query,p)?p:null,E=!!y&&this.mutatedKeys.has(y.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let x=!1;y&&b?y.data.isEqual(b.data)?E!==S&&(r.track({type:3,doc:b}),x=!0):this.su(y,b)||(r.track({type:2,doc:b}),x=!0,(c&&this.eu(b,c)>0||f&&this.eu(b,f)<0)&&(o=!0)):!y&&b?(r.track({type:0,doc:b}),x=!0):y&&!b&&(r.track({type:1,doc:y}),x=!0,(c||f)&&(o=!0)),x&&(b?(s=s.add(b),a=S?a.add(m):a.delete(m)):(s=s.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const m=this.query.limitType==="F"?s.last():s.first();s=s.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{tu:s,iu:r,Ss:o,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((m,p)=>(function(b,E){const S=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return We(20277,{Vt:x})}};return S(b)-S(E)})(m.type,p.type)||this.eu(m.doc,p.doc))),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,f=c!==this.Xa;return this.Xa=c,s.length!==0||f?{snapshot:new kf(this.query,e.tu,a,s,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fR,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=yt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new Vj(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new jj(r))})),n}cu(e){this.Za=e.ks,this.Ya=yt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return kf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const sA="SyncEngine";class ZH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class XH{constructor(e){this.key=e,this.hu=!1}}class YH{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new eu((o=>k5(o)),w0),this.Iu=new Map,this.Eu=new Set,this.Ru=new mn(je.comparator),this.Au=new Map,this.Vu=new K2,this.du={},this.mu=new Map,this.fu=Bc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QH(t,e,n=!0){const r=qj(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await Fj(r,e,n,!0),i}async function JH(t,e){const n=qj(t);await Fj(n,e,!0,!1)}async function Fj(t,e,n,r){const i=await vH(t.localStore,Ia(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await eK(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&Ij(t.remoteStore,i),o}async function eK(t,e,n,r,i){t.pu=(p,y,b)=>(async function(S,x,M,O){let D=x.view.ru(M);D.Ss&&(D=await sR(S.localStore,x.query,!1).then((({documents:C})=>x.view.ru(C,D))));const $=O&&O.targetChanges.get(x.targetId),k=O&&O.targetMismatches.get(x.targetId)!=null,V=x.view.applyChanges(D,S.isPrimaryClient,$,k);return gR(S,x.targetId,V.au),V.snapshot})(t,p,y,b);const a=await sR(t.localStore,e,!0),s=new KH(e,a.ks),o=s.ru(a.documents),c=sg.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=s.applyChanges(o,t.isPrimaryClient,c);gR(t,n,f.au);const m=new ZH(e,n,s);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function tK(t,e,n){const r=ht(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((s=>!w0(s,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await LP(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&J2(r.remoteStore,i.targetId),VP(r,i.targetId)})).catch(Jc)):(VP(r,i.targetId),await LP(r.localStore,i.targetId,!0))}async function nK(t,e){const n=ht(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),J2(n.remoteStore,r.targetId))}async function rK(t,e,n){const r=Gj(t);try{const i=await(function(s,o){const c=ht(s),f=Dt.now(),m=o.reduce(((b,E)=>b.add(E.key)),yt());let p,y;return c.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let E=Bi(),S=yt();return c.xs.getEntries(b,m).next((x=>{E=x,E.forEach(((M,O)=>{O.isValidDocument()||(S=S.add(M))}))})).next((()=>c.localDocuments.getOverlayedDocuments(b,E))).next((x=>{p=x;const M=[];for(const O of o){const D=yW(O,p.get(O.key).overlayedDocument);D!=null&&M.push(new tu(O.key,D,S5(D.value.mapValue),jr.exists(!0)))}return c.mutationQueue.addMutationBatch(b,f,M,o)})).next((x=>{y=x;const M=x.applyToLocalDocumentSet(p,S);return c.documentOverlayCache.saveOverlays(b,x.batchId,M)}))})).then((()=>({batchId:y.batchId,changes:D5(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,o,c){let f=s.du[s.currentUser.toKey()];f||(f=new mn(ct)),f=f.insert(o,c),s.du[s.currentUser.toKey()]=f})(r,i.batchId,n),await lg(r,i.changes),await ug(r.remoteStore)}catch(i){const a=iA(i,"Failed to persist write");n.reject(a)}}async function Bj(t,e){const n=ht(t);try{const r=await mH(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const s=n.Au.get(a);s&&(Xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Xe(s.hu,14607):i.removedDocuments.size>0&&(Xe(s.hu,42227),s.hu=!1))})),await lg(n,r,e)}catch(r){await Jc(r)}}function mR(t,e,n){const r=ht(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)})),(function(s,o){const c=ht(s);c.onlineState=o;let f=!1;c.queries.forEach(((m,p)=>{for(const y of p.ba)y.va(o)&&(f=!0)})),f&&aA(c)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iK(t,e,n){const r=ht(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new mn(je.comparator);s=s.insert(a,Pn.newNoDocument(a,Qe.min()));const o=yt().add(a),c=new S0(Qe.min(),new Map,new mn(ct),s,o);await Bj(r,c),r.Ru=r.Ru.remove(a),r.Au.delete(e),oA(r)}else await LP(r.localStore,e,!1).then((()=>VP(r,e,n))).catch(Jc)}async function aK(t,e){const n=ht(t),r=e.batch.batchId;try{const i=await pH(n.localStore,e);zj(n,r,null),$j(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lg(n,i)}catch(i){await Jc(i)}}async function sK(t,e,n){const r=ht(t);try{const i=await(function(s,o){const c=ht(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let m;return c.mutationQueue.lookupMutationBatch(f,o).next((p=>(Xe(p!==null,37113),m=p.keys(),c.mutationQueue.removeMutationBatch(f,p)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,m,o))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m))).next((()=>c.localDocuments.getDocuments(f,m)))}))})(r.localStore,e);zj(r,e,n),$j(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await lg(r,i)}catch(i){await Jc(i)}}function $j(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function zj(t,e,n){const r=ht(t);let i=r.du[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function VP(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||Uj(t,r)}))}function Uj(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(J2(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),oA(t))}function gR(t,e,n){for(const r of n)r instanceof jj?(t.Vu.addReference(r.key,e),oK(t,r)):r instanceof Vj?(Ie(sA,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||Uj(t,r.key)):We(19791,{wu:r})}function oK(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Ie(sA,"New document in limbo: "+n),t.Eu.add(r),oA(t))}function oA(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new je(Lt.fromString(e)),r=t.fu.next();t.Au.set(r,new XH(n)),t.Ru=t.Ru.insert(n,r),Ij(t.remoteStore,new Co(Ia(_0(n.path)),r,"TargetPurposeLimboResolution",Pa.ce))}}async function lg(t,e,n){const r=ht(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach(((o,c)=>{s.push(r.pu(c,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const m=f?!f.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(f){i.push(f);const m=Y2.Es(c.targetId,f);a.push(m)}})))})),await Promise.all(s),r.Pu.J_(i),await(async function(c,f){const m=ht(c);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>ue.forEach(f,(y=>ue.forEach(y.Ts,(b=>m.persistence.referenceDelegate.addReference(p,y.targetId,b))).next((()=>ue.forEach(y.Is,(b=>m.persistence.referenceDelegate.removeReference(p,y.targetId,b)))))))))}catch(p){if(!xl(p))throw p;Ie(Q2,"Failed to update sequence numbers: "+p)}for(const p of f){const y=p.targetId;if(!p.fromCache){const b=m.vs.get(y),E=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(E);m.vs=m.vs.insert(y,S)}}})(r.localStore,a))}async function uK(t,e){const n=ht(t);if(!n.currentUser.isEqual(e)){Ie(sA,"User change. New user:",e.toKey());const r=await Ej(n.localStore,e);n.currentUser=e,(function(a,s){a.mu.forEach((o=>{o.forEach((c=>{c.reject(new Ne(ve.CANCELLED,s))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lg(n,r.Ns)}}function lK(t,e){const n=ht(t),r=n.Au.get(e);if(r&&r.hu)return yt().add(r.key);{let i=yt();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const o=n.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function qj(t){const e=ht(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iK.bind(null,e),e.Pu.J_=WH.bind(null,e.eventManager),e.Pu.yu=HH.bind(null,e.eventManager),e}function Gj(t){const e=ht(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sK.bind(null,e),e}class cm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=I0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return xj(this.persistence,new bj,e.initialUser,this.serializer)}Cu(e){return new Z2(A0.Vi,this.serializer)}Du(e){return new Pj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cm.provider={build:()=>new cm};class cK extends cm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof $v,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new gj(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Rr.withCacheSize(this.cacheSizeBytes):Rr.DEFAULT;return new Z2((r=>$v.Vi(r,n)),this.serializer)}}class hK extends cm{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await Gj(this.xu.syncEngine),await ug(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return xj(this.persistence,new bj,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new gj(r,e.asyncQueue,n)}Mu(e,n){const r=new fG(n,this.persistence);return new hG(e.asyncQueue,r)}Cu(e){const n=cH(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Rr.withCacheSize(this.cacheSizeBytes):Rr.DEFAULT;return new X2(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,PH(),pv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new Pj}}class Uv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uK.bind(null,this.syncEngine),await UH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new GH})()}createDatastore(e){const n=I0(e.databaseInfo.databaseId),r=SH(e.databaseInfo);return CH(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,s,o){return new RH(r,i,a,s,o)})(this.localStore,this.datastore,e.asyncQueue,(n=>mR(this.syncEngine,n,0)),(function(){return lR.v()?new lR:new wH})())}createSyncEngine(e,n){return(function(i,a,s,o,c,f,m){const p=new YH(i,a,s,o,c,f);return m&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=ht(n);Ie($c,"RemoteStore shutting down."),r.Ea.add(5),await og(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Uv.provider={build:()=>new Uv};class Wj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const vl="FirestoreClient";class fK{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=mr.UNAUTHENTICATED,this.clientId=M2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async s=>{Ie(vl,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(Ie(vl,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=iA(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Yw(t,e){t.asyncQueue.verifyOperationInProgress(),Ie(vl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Ej(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function yR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dK(t);Ie(vl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>hR(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>hR(e.remoteStore,i))),t._onlineComponents=e}async function dK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ie(vl,"Using user provided OfflineComponentProvider");try{await Yw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ve.FAILED_PRECONDITION||i.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;pl("Error using user provided cache. Falling back to memory cache: "+n),await Yw(t,new cm)}}else Ie(vl,"Using default OfflineComponentProvider"),await Yw(t,new cK(void 0));return t._offlineComponents}async function Hj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ie(vl,"Using user provided OnlineComponentProvider"),await yR(t,t._uninitializedComponentsProvider._online)):(Ie(vl,"Using default OnlineComponentProvider"),await yR(t,new Uv))),t._onlineComponents}function pK(t){return Hj(t).then((e=>e.syncEngine))}async function Kj(t){const e=await Hj(t),n=e.eventManager;return n.onListen=QH.bind(null,e.syncEngine),n.onUnlisten=tK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nK.bind(null,e.syncEngine),n}function mK(t,e,n={}){const r=new Vs;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,o,c,f){const m=new Wj({next:y=>{m.Nu(),s.enqueueAndForget((()=>Lj(a,p)));const b=y.docs.has(o);!b&&y.fromCache?f.reject(new Ne(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&c&&c.source==="server"?f.reject(new Ne(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),p=new Dj(_0(o.path),m,{includeMetadataChanges:!0,Ka:!0});return Nj(a,p)})(await Kj(t),t.asyncQueue,e,n,r))),r.promise}function gK(t,e,n={}){const r=new Vs;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,o,c,f){const m=new Wj({next:y=>{m.Nu(),s.enqueueAndForget((()=>Lj(a,p))),y.fromCache&&c.source==="server"?f.reject(new Ne(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),p=new Dj(o,m,{includeMetadataChanges:!0,Ka:!0});return Nj(a,p)})(await Kj(t),t.asyncQueue,e,n,r))),r.promise}function yK(t,e){const n=new Vs;return t.asyncQueue.enqueueAndForget((async()=>rK(await pK(t),e,n))),n.promise}function Zj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const vK="ComponentProvider",vR=new Map;function _K(t,e,n,r,i){return new $G(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Zj(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}const Xj="firestore.googleapis.com",_R=!0;class wR{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xj,this.ssl=_R}else this.host=e.host,this.ssl=e.ssl??_R;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HW)throw new Ne(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zj(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ne(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ne(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ne(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class C0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Yq;switch(r.type){case"firstParty":return new tG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=vR.get(n);r&&(Ie(vK,"Removing Datastore"),vR.delete(n),r.terminate())})(this),Promise.resolve()}}function wK(t,e,n,r={}){t=Ra(t,C0);const i=Jo(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(u0(`https://${o}`),l0("Firestore",!0)),a.host!==Xj&&a.host!==o&&pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:o,ssl:i,emulatorOptions:r};if(!Nc(c,s)&&(t._setSettings(c),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=mr.MOCK_USER;else{f=N8(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Ne(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new mr(p)}t._authCredentials=new Qq(new Y8(f,m))}}class Sl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Sl(this.firestore,e,this._query)}}class kn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}toJSON(){return{type:kn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ng(n,kn._jsonSchema))return new kn(e,r||null,new je(Lt.fromString(n.referencePath)))}}kn._jsonSchemaVersion="firestore/documentReference/1.0",kn._jsonSchema={type:Bn("string",kn._jsonSchemaVersion),referencePath:Bn("string")};class ll extends Sl{constructor(e,n,r){super(e,n,_0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new je(e))}withConverter(e){return new ll(this.firestore,e,this._path)}}function yr(t,e,...n){if(t=Tn(t),J8("collection","path",e),t instanceof C0){const r=Lt.fromString(e,...n);return cO(r),new ll(t,null,r)}{if(!(t instanceof kn||t instanceof ll))throw new Ne(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return cO(r),new ll(t.firestore,null,r)}}function wc(t,e,...n){if(t=Tn(t),arguments.length===1&&(e=M2.newId()),J8("doc","path",e),t instanceof C0){const r=Lt.fromString(e,...n);return lO(r),new kn(t,null,new je(r))}{if(!(t instanceof kn||t instanceof ll))throw new Ne(ve.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return lO(r),new kn(t.firestore,t instanceof ll?t.converter:null,new je(r))}}const bR="AsyncQueue";class xR{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Tj(this,"async_queue_retry"),this._c=()=>{const r=pv();r&&Ie(bR,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=pv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=pv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Vs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!xl(e))throw e;Ie(bR,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Yr("INTERNAL UNHANDLED ERROR: ",ER(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=rA.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&We(47125,{Pc:ER(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ER(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Pl extends C0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new xR,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xR(e),this._firestoreClient=void 0,await e}}}function bK(t,e){const n=typeof t=="object"?t:c0(),r=typeof t=="string"?t:Rv,i=tg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=P2("firestore");a&&wK(i,...a)}return i}function uA(t){if(t._terminated)throw new Ne(ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Yj(t),t._firestoreClient}function Yj(t){const e=t._freezeSettings(),n=_K(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new fK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}function xK(t,e){pl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return EK(t,Uv.provider,{build:r=>new hK(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function EK(t,e,n){if((t=Ra(t,Pl))._firestoreClient||t._terminated)throw new Ne(ve.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new Ne(ve.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},Yj(t)}class Sa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sa(zn.fromBase64String(e))}catch(n){throw new Ne(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sa(zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ng(e,Sa._jsonSchema))return Sa.fromBase64String(e.bytes)}}Sa._jsonSchemaVersion="firestore/bytes/1.0",Sa._jsonSchema={type:Bn("string",Sa._jsonSchemaVersion),bytes:Bn("string")};class lA{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ne(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cA{constructor(e){this._methodName=e}}class Fs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ne(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ne(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fs._jsonSchemaVersion}}static fromJSON(e){if(ng(e,Fs._jsonSchema))return new Fs(e.latitude,e.longitude)}}Fs._jsonSchemaVersion="firestore/geoPoint/1.0",Fs._jsonSchema={type:Bn("string",Fs._jsonSchemaVersion),latitude:Bn("number"),longitude:Bn("number")};class as{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:as._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ng(e,as._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new as(e.vectorValues);throw new Ne(ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}as._jsonSchemaVersion="firestore/vectorValue/1.0",as._jsonSchema={type:Bn("string",as._jsonSchemaVersion),vectorValues:Bn("object")};const SK=/^__.*__$/;class PK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new tu(e,this.data,this.fieldMask,n,this.fieldTransforms):new cd(e,this.data,n,this.fieldTransforms)}}class Qj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new tu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Jj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw We(40011,{dataSource:t})}}class hA{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new hA({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return qv(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Jj(this.dataSource)&&SK.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class TK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||I0(e)}createContext(e,n,r,i=!1){return new hA({dataSource:e,methodName:n,targetDoc:r,path:bn.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function O0(t){const e=t._freezeSettings(),n=I0(t._databaseId);return new TK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function e9(t,e,n,r,i,a={}){const s=t.createContext(a.merge||a.mergeFields?2:0,e,n,i);fA("Data must be an object, but it was:",s,r);const o=t9(r,s);let c,f;if(a.merge)c=new vi(s.fieldMask),f=s.fieldTransforms;else if(a.mergeFields){const m=[];for(const p of a.mergeFields){const y=zc(e,p,n);if(!s.contains(y))throw new Ne(ve.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);i9(m,y)||m.push(y)}c=new vi(m),f=s.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,f=s.fieldTransforms;return new PK(new Dr(o),c,f)}class R0 extends cA{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof R0}}function AK(t,e,n,r){const i=t.createContext(1,e,n);fA("Data must be an object, but it was:",i,r);const a=[],s=Dr.empty();El(r,((c,f)=>{const m=r9(e,c,n);f=Tn(f);const p=i.childContextForFieldPath(m);if(f instanceof R0)a.push(m);else{const y=cg(f,p);y!=null&&(a.push(m),s.set(m,y))}}));const o=new vi(a);return new Qj(s,o,i.fieldTransforms)}function IK(t,e,n,r,i,a){const s=t.createContext(1,e,n),o=[zc(e,r,n)],c=[i];if(a.length%2!=0)throw new Ne(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)o.push(zc(e,a[y])),c.push(a[y+1]);const f=[],m=Dr.empty();for(let y=o.length-1;y>=0;--y)if(!i9(f,o[y])){const b=o[y];let E=c[y];E=Tn(E);const S=s.childContextForFieldPath(b);if(E instanceof R0)f.push(b);else{const x=cg(E,S);x!=null&&(f.push(b),m.set(b,x))}}const p=new vi(f);return new Qj(m,p,s.fieldTransforms)}function MK(t,e,n,r=!1){return cg(n,t.createContext(r?4:3,e))}function cg(t,e){if(n9(t=Tn(t)))return fA("Unsupported field value:",e,t),t9(t,e);if(t instanceof cA)return(function(r,i){if(!Jj(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const a=[];let s=0;for(const o of r){let c=cg(o,i.childContextForArray(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cW(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Dt.fromDate(r);return{timestampValue:Rf(i.serializer,a)}}if(r instanceof Dt){const a=new Dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rf(i.serializer,a)}}if(r instanceof Fs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sa)return{bytesValue:Z5(i.serializer,r._byteString)};if(r instanceof kn){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:G2(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof as)return(function(s,o){const c=s instanceof as?s.toArray():s;return{mapValue:{fields:{[j2]:{stringValue:V2},[Tf]:{arrayValue:{values:c.map((m=>{if(typeof m!="number")throw o.createError("VectorValues must only contain numeric values.");return B2(o.serializer,m)}))}}}}}})(r,i);if(sj(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${h0(r)}`)})(t,e)}function t9(t,e){const n={};return m5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):El(t,((r,i)=>{const a=cg(i,e.childContextForField(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function n9(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dt||t instanceof Fs||t instanceof Sa||t instanceof kn||t instanceof cA||t instanceof as||sj(t))}function fA(t,e,n){if(!n9(n)||!e5(n)){const r=h0(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function zc(t,e,n){if((e=Tn(e))instanceof lA)return e._internalPath;if(typeof e=="string")return r9(t,e);throw qv("Field path arguments must be of type string or ",t,!1,void 0,n)}const CK=new RegExp("[~\\*/\\[\\]]");function r9(t,e,n){if(e.search(CK)>=0)throw qv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lA(...e.split("."))._internalPath}catch{throw qv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qv(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Ne(ve.INVALID_ARGUMENT,o+t+c)}function i9(t,e){return t.some((n=>n.isEqual(e)))}class OK{convertValue(e,n="none"){switch(ml(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw We(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return El(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Tf].arrayValue?.values?.map((r=>fn(r.doubleValue)));return new as(n)}convertGeoPoint(e){return new Fs(fn(e.latitude),fn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=y0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rm(e));default:return null}}convertTimestamp(e){const n=Uo(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Lt.fromString(e);Xe(aj(r),9688,{name:e});const i=new Dc(r.get(1),r.get(3)),a=new je(r.popFirst(5));return i.isEqual(n)||Yr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}class a9 extends OK{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,n)}}const SR="@firebase/firestore",PR="4.11.0";class s9{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(zc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RK extends s9{data(){return super.data()}}function kK(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ne(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dA{}class pA extends dA{}function _i(t,e,...n){let r=[];e instanceof dA&&r.push(e),r=r.concat(n),(function(a){const s=a.filter((c=>c instanceof mA)).length,o=a.filter((c=>c instanceof k0)).length;if(s>1||s>0&&o>0)throw new Ne(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class k0 extends pA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new k0(e,n,r)}_apply(e){const n=this._parse(e);return o9(e._query,n),new Sl(e.firestore,e.converter,AP(e._query,n))}_parse(e){const n=O0(e.firestore);return(function(a,s,o,c,f,m,p){let y;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Ne(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){AR(p,m);const E=[];for(const S of p)E.push(TR(c,a,S));y={arrayValue:{values:E}}}else y=TR(c,a,p)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||AR(p,m),y=MK(o,s,p,m==="in"||m==="not-in");return bt.create(f,m,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Go(t,e,n){const r=e,i=zc("where",t);return k0._create(i,r,n)}class mA extends dA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new mA(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Gt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let s=i;const o=a.getFlattenedFilters();for(const c of o)o9(s,c),s=AP(s,c)})(e._query,n),new Sl(e.firestore,e.converter,AP(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gA extends pA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new gA(e,n)}_apply(e){const n=(function(i,a,s){if(i.startAt!==null)throw new Ne(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ne(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new om(a,s)})(e._query,this._field,this._direction);return new Sl(e.firestore,e.converter,nW(e._query,n))}}function Wo(t,e="asc"){const n=e,r=zc("orderBy",t);return gA._create(r,n)}class yA extends pA{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new yA(e,n,r)}_apply(e){return new Sl(e.firestore,e.converter,Lv(e._query,this._limit,this._limitType))}}function NK(t){return yA._create("limit",t,"F")}function TR(t,e,n){if(typeof(n=Tn(n))=="string"){if(n==="")throw new Ne(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!R5(e)&&n.indexOf("/")!==-1)throw new Ne(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Lt.fromString(n));if(!je.isDocumentKey(r))throw new Ne(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return am(t,new je(r))}if(n instanceof kn)return am(t,n._key);throw new Ne(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${h0(n)}.`)}function AR(t,e){if(!Array.isArray(t)||t.length===0)throw new Ne(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o9(t,e){const n=(function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ne(ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function u9(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class wp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ic extends s9{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(zc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ic._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ic._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ic._jsonSchema={type:Bn("string",Ic._jsonSchemaVersion),bundleSource:Bn("string","DocumentSnapshot"),bundleName:Bn("string"),bundle:Bn("string")};class mv extends Ic{data(e={}){return super.data(e)}}class ff{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new wp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new mv(this._firestore,this._userDataWriter,r.key,r,new wp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((o=>{const c=new mv(i._firestore,i._userDataWriter,o.doc.key,o.doc,new wp(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((o=>a||o.type!==3)).map((o=>{const c=new mv(i._firestore,i._userDataWriter,o.doc.key,o.doc,new wp(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return o.type!==0&&(f=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),m=s.indexOf(o.doc.key)),{type:LK(o.type),doc:c,oldIndex:f,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ff._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=M2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function LK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We(61501,{type:t})}}ff._jsonSchemaVersion="firestore/querySnapshot/1.0",ff._jsonSchema={type:Bn("string",ff._jsonSchemaVersion),bundleSource:Bn("string","QuerySnapshot"),bundleName:Bn("string"),bundle:Bn("string")};function IR(t){t=Ra(t,kn);const e=Ra(t.firestore,Pl),n=uA(e);return mK(n,t._key).then((r=>VK(e,t,r)))}function Qr(t){t=Ra(t,Sl);const e=Ra(t.firestore,Pl),n=uA(e),r=new a9(e);return kK(t._query),gK(n,t._query).then((i=>new ff(e,r,t,i)))}function DK(t,e,n){t=Ra(t,kn);const r=Ra(t.firestore,Pl),i=u9(t.converter,e),a=O0(r);return N0(r,[e9(a,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,jr.none())])}function l9(t,e,n,...r){t=Ra(t,kn);const i=Ra(t.firestore,Pl),a=O0(i);let s;return s=typeof(e=Tn(e))=="string"||e instanceof lA?IK(a,"updateDoc",t._key,e,n,r):AK(a,"updateDoc",t._key,e),N0(i,[s.toMutation(t._key,jr.exists(!0))])}function jK(t){return N0(Ra(t.firestore,Pl),[new E0(t._key,jr.none())])}function c9(t,e){const n=Ra(t.firestore,Pl),r=wc(t),i=u9(t.converter,e),a=O0(t.firestore);return N0(n,[e9(a,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,jr.exists(!1))]).then((()=>r))}function N0(t,e){const n=uA(t);return yK(n,e)}function VK(t,e,n){const r=n.docs.get(e._key),i=new a9(t);return new Ic(t,i,e._key,r,new wp(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){Xq(Qc),dl(new $o("firestore",((r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new Pl(new Jq(r.getProvider("auth-internal")),new nG(s,r.getProvider("app-check-internal")),zG(s,i),s);return a={useFetchStreams:n,...a},o._setSettings(a),o}),"PUBLIC").setMultipleInstances(!0)),Aa(SR,PR,e),Aa(SR,PR,"esm2020")})();var FK="firebase",BK="12.9.0";Aa(FK,BK,"app");function h9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $K=h9,f9=new Jm("auth","Firebase",h9());const Gv=new T2("@firebase/auth");function zK(t,...e){Gv.logLevel<=wt.WARN&&Gv.warn(`Auth (${Qc}): ${t}`,...e)}function gv(t,...e){Gv.logLevel<=wt.ERROR&&Gv.error(`Auth (${Qc}): ${t}`,...e)}function Ho(t,...e){throw vA(t,...e)}function Bs(t,...e){return vA(t,...e)}function d9(t,e,n){const r={...$K(),[e]:n};return new Jm("auth","Firebase",r).create(e,{appName:t.name})}function Mc(t){return d9(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vA(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return f9.create(t,...e)}function ut(t,e,...n){if(!t)throw vA(e,...n)}function Oo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gv(e),new Error(e)}function Ko(t,e){t||Oo(e)}function FP(){return typeof self<"u"&&self.location?.href||""}function UK(){return MR()==="http:"||MR()==="https:"}function MR(){return typeof self<"u"&&self.location?.protocol||null}function qK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UK()||OU()||"connection"in navigator)?navigator.onLine:!0}function GK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class hg{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ko(n>e,"Short delay should be less than long delay!"),this.isMobile=MU()||RU()}get(){return qK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _A(t,e){Ko(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class p9{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const WK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const HK=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KK=new hg(3e4,6e4);function wA(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function fd(t,e,n,r,i={}){return m9(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=eg({key:t.config.apiKey,...s}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:c,...a};return CU()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Jo(t.emulatorConfig.host)&&(f.credentials="include"),p9.fetch()(await g9(t,t.config.apiHost,n,o),f)})}async function m9(t,e,n){t._canInitEmulator=!1;const r={...WK,...e};try{const i=new XK(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Dy(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[c,f]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dy(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Dy(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Dy(t,"user-disabled",s);const m=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw d9(t,m,f);Ho(t,m)}}catch(i){if(i instanceof Hs)throw i;Ho(t,"network-request-failed",{message:String(i)})}}async function ZK(t,e,n,r,i={}){const a=await fd(t,e,n,r,i);return"mfaPendingCredential"in a&&Ho(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function g9(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?_A(t.config,i):`${t.config.apiScheme}://${i}`;return HK.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}class XK{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bs(this.auth,"network-request-failed")),KK.get())})}}function Dy(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Bs(t,e,r);return i.customData._tokenResponse=n,i}async function YK(t,e){return fd(t,"POST","/v1/accounts:delete",e)}async function Wv(t,e){return fd(t,"POST","/v1/accounts:lookup",e)}function jp(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QK(t,e=!1){const n=Tn(t),r=await n.getIdToken(e),i=bA(r);ut(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a?.sign_in_provider;return{claims:i,token:r,authTime:jp(Qw(i.auth_time)),issuedAtTime:jp(Qw(i.iat)),expirationTime:jp(Qw(i.exp)),signInProvider:s||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Qw(t){return Number(t)*1e3}function bA(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gv("JWT malformed, contained fewer than 3 sections"),null;try{const i=M8(n);return i?JSON.parse(i):(gv("Failed to decode base64 JWT payload"),null)}catch(i){return gv("Caught error parsing JWT payload as JSON",i?.toString()),null}}function CR(t){const e=bA(t);return ut(e,"internal-error"),ut(typeof e.exp<"u","internal-error"),ut(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function hm(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Hs&&JK(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function JK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class eZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class BP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jp(this.lastLoginAt),this.creationTime=jp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Hv(t){const e=t.auth,n=await t.getIdToken(),r=await hm(t,Wv(e,{idToken:n}));ut(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?y9(i.providerUserInfo):[],s=nZ(t.providerData,a),o=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!s?.length,f=o?c:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new BP(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function tZ(t){const e=Tn(t);await Hv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nZ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function y9(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function rZ(t,e){const n=await m9(t,{},async()=>{const r=eg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await g9(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:o,body:r};return t.emulatorConfig&&Jo(t.emulatorConfig.host)&&(c.credentials="include"),p9.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iZ(t,e){return fd(t,"POST","/v2/accounts:revokeToken",wA(t,e))}class df{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ut(e.idToken,"internal-error"),ut(typeof e.idToken<"u","internal-error"),ut(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ut(e.length!==0,"internal-error");const n=CR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ut(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await rZ(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new df;return r&&(ut(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ut(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(ut(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new df,this.toJSON())}_performRefresh(){return Oo("not implemented")}}function Wu(t,e){ut(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class rs{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new eZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new BP(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await hm(this,this.stsTokenManager.getToken(this.auth,e));return ut(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QK(this,e)}reload(){return tZ(this)}_assign(e){this!==e&&(ut(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new rs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Hv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ea(this.auth.app))return Promise.reject(Mc(this.auth));const e=await this.getIdToken();return await hm(this,YK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,o=n.tenantId??void 0,c=n._redirectEventId??void 0,f=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:p,emailVerified:y,isAnonymous:b,providerData:E,stsTokenManager:S}=n;ut(p&&S,e,"internal-error");const x=df.fromJSON(this.name,S);ut(typeof p=="string",e,"internal-error"),Wu(r,e.name),Wu(i,e.name),ut(typeof y=="boolean",e,"internal-error"),ut(typeof b=="boolean",e,"internal-error"),Wu(a,e.name),Wu(s,e.name),Wu(o,e.name),Wu(c,e.name),Wu(f,e.name),Wu(m,e.name);const M=new rs({uid:p,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:b,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:x,createdAt:f,lastLoginAt:m});return E&&Array.isArray(E)&&(M.providerData=E.map(O=>({...O}))),c&&(M._redirectEventId=c),M}static async _fromIdTokenResponse(e,n,r=!1){const i=new df;i.updateFromServerResponse(n);const a=new rs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Hv(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ut(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?y9(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!a?.length,o=new df;o.updateFromIdToken(r);const c=new rs({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new BP(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,f),c}}const OR=new Map;function Ro(t){Ko(t instanceof Function,"Expected a class definition");let e=OR.get(t);return e?(Ko(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,OR.set(t,e),e)}class v9{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}v9.type="NONE";const RR=v9;function yv(t,e,n){return`firebase:${t}:${e}:${n}`}class pf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=yv(this.userKey,i.apiKey,a),this.fullPersistenceKey=yv("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wv(this.auth,{idToken:e}).catch(()=>{});return n?rs._fromGetAccountInfoResponse(this.auth,n,e):null}return rs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new pf(Ro(RR),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||Ro(RR);const s=yv(r,e.config.apiKey,e.name);let o=null;for(const f of n)try{const m=await f._get(s);if(m){let p;if(typeof m=="string"){const y=await Wv(e,{idToken:m}).catch(()=>{});if(!y)break;p=await rs._fromGetAccountInfoResponse(e,y,m)}else p=rs._fromJSON(e,m);f!==a&&(o=p),a=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new pf(a,e,r):(a=c[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(s)}catch{}})),new pf(a,e,r))}}function kR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(x9(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S9(e))return"Blackberry";if(P9(e))return"Webos";if(w9(e))return"Safari";if((e.includes("chrome/")||b9(e))&&!e.includes("edge/"))return"Chrome";if(E9(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function _9(t=Yn()){return/firefox\//i.test(t)}function w9(t=Yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function b9(t=Yn()){return/crios\//i.test(t)}function x9(t=Yn()){return/iemobile/i.test(t)}function E9(t=Yn()){return/android/i.test(t)}function S9(t=Yn()){return/blackberry/i.test(t)}function P9(t=Yn()){return/webos/i.test(t)}function xA(t=Yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function aZ(t=Yn()){return xA(t)&&!!window.navigator?.standalone}function sZ(){return kU()&&document.documentMode===10}function T9(t=Yn()){return xA(t)||E9(t)||P9(t)||S9(t)||/windows phone/i.test(t)||x9(t)}function A9(t,e=[]){let n;switch(t){case"Browser":n=kR(Yn());break;case"Worker":n=`${kR(Yn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qc}/${r}`}class oZ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const c=e(a);s(c)}catch(c){o(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function uZ(t,e={}){return fd(t,"GET","/v2/passwordPolicy",wA(t,e))}const lZ=6;class cZ{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lZ,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class hZ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NR(this),this.idTokenSubscription=new NR(this),this.beforeStateQueue=new oZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ro(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await pf.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wv(this,{idToken:e}),r=await rs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ea(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,s=r?._redirectEventId,o=await this.tryRedirectSignIn(e);(!a||a===s)&&o?.user&&(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hv(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ea(this.app))return Promise.reject(Mc(this));const n=e?Tn(e):null;return n&&ut(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ut(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ea(this.app)?Promise.reject(Mc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ea(this.app)?Promise.reject(Mc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ro(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uZ(this),n=new cZ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await iZ(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ro(e)||this._popupRedirectResolver;ut(n,this,"argument-error"),this.redirectPersistenceManager=await pf.create(this,[Ro(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ut(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A9(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ea(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&zK(`Error while retrieving App Check token: ${e.error}`),e?.token}}function EA(t){return Tn(t)}class NR{constructor(e){this.auth=e,this.observer=null,this.addObserver=FU(n=>this.observer=n)}get next(){return ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let SA={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fZ(t){SA=t}function dZ(t){return SA.loadJS(t)}function pZ(){return SA.gapiScript}function mZ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function gZ(t,e){const n=tg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Nc(a,e??{}))return i;Ho(i,"already-initialized")}return n.initialize({options:e})}function yZ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ro);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function vZ(t,e,n){const r=EA(t);ut(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=I9(e),{host:s,port:o}=_Z(e),c=o===null?"":`:${o}`,f={url:`${a}//${s}${c}/`},m=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ut(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ut(Nc(f,r.config.emulator)&&Nc(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Jo(s)?(u0(`${a}//${s}${c}`),l0("Auth",!0)):wZ()}function I9(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _Z(t){const e=I9(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:LR(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:LR(s)}}}function LR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wZ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class M9{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Oo("not implemented")}_getIdTokenResponse(e){return Oo("not implemented")}_linkToIdToken(e,n){return Oo("not implemented")}_getReauthenticationResolver(e){return Oo("not implemented")}}async function mf(t,e){return ZK(t,"POST","/v1/accounts:signInWithIdp",wA(t,e))}const bZ="http://localhost";class Uc extends M9{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Uc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ho("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new Uc(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return mf(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,mf(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,mf(e,n)}buildRequest(){const e={requestUri:bZ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=eg(n)}return e}}class C9{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class fg extends C9{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zu extends fg{constructor(){super("facebook.com")}static credential(e){return Uc._fromParams({providerId:Zu.PROVIDER_ID,signInMethod:Zu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zu.credentialFromTaggedObject(e)}static credentialFromError(e){return Zu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zu.credential(e.oauthAccessToken)}catch{return null}}}Zu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zu.PROVIDER_ID="facebook.com";class Xu extends fg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Uc._fromParams({providerId:Xu.PROVIDER_ID,signInMethod:Xu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xu.credentialFromTaggedObject(e)}static credentialFromError(e){return Xu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Xu.credential(n,r)}catch{return null}}}Xu.GOOGLE_SIGN_IN_METHOD="google.com";Xu.PROVIDER_ID="google.com";class Yu extends fg{constructor(){super("github.com")}static credential(e){return Uc._fromParams({providerId:Yu.PROVIDER_ID,signInMethod:Yu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yu.credentialFromTaggedObject(e)}static credentialFromError(e){return Yu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yu.credential(e.oauthAccessToken)}catch{return null}}}Yu.GITHUB_SIGN_IN_METHOD="github.com";Yu.PROVIDER_ID="github.com";class Qu extends fg{constructor(){super("twitter.com")}static credential(e,n){return Uc._fromParams({providerId:Qu.PROVIDER_ID,signInMethod:Qu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qu.credentialFromTaggedObject(e)}static credentialFromError(e){return Qu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qu.credential(n,r)}catch{return null}}}Qu.TWITTER_SIGN_IN_METHOD="twitter.com";Qu.PROVIDER_ID="twitter.com";class Nf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await rs._fromIdTokenResponse(e,r,i),s=DR(r);return new Nf({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=DR(r);return new Nf({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function DR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Kv extends Hs{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Kv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Kv(e,n,r,i)}}function O9(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Kv._fromErrorAndOperation(t,a,e,r):a})}async function xZ(t,e,n=!1){const r=await hm(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Nf._forOperation(t,"link",r)}async function EZ(t,e,n=!1){const{auth:r}=t;if(Ea(r.app))return Promise.reject(Mc(r));const i="reauthenticate";try{const a=await hm(t,O9(r,i,e,t),n);ut(a.idToken,r,"internal-error");const s=bA(a.idToken);ut(s,r,"internal-error");const{sub:o}=s;return ut(t.uid===o,r,"user-mismatch"),Nf._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Ho(r,"user-mismatch"),a}}async function SZ(t,e,n=!1){if(Ea(t.app))return Promise.reject(Mc(t));const r="signIn",i=await O9(t,r,e),a=await Nf._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}function PZ(t,e,n,r){return Tn(t).onIdTokenChanged(e,n,r)}function TZ(t,e,n){return Tn(t).beforeAuthStateChanged(e,n)}const Zv="__sak";class R9{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zv,"1"),this.storage.removeItem(Zv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const AZ=1e3,IZ=10;class k9 extends R9{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=T9(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);sZ()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,IZ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},AZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}k9.type="LOCAL";const MZ=k9;class N9 extends R9{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}N9.type="SESSION";const L9=N9;function CZ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class L0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new L0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!s?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async f=>f(n.origin,a)),c=await CZ(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}L0.receivers=[];function PA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class OZ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,c)=>{const f=PA("",20);i.port1.start();const m=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){const y=p;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(y.data.response);break;default:clearTimeout(m),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function $s(){return window}function RZ(t){$s().location.href=t}function D9(){return typeof $s().WorkerGlobalScope<"u"&&typeof $s().importScripts=="function"}async function kZ(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NZ(){return navigator?.serviceWorker?.controller||null}function LZ(){return D9()?self:null}const j9="firebaseLocalStorageDb",DZ=1,Xv="firebaseLocalStorage",V9="fbase_key";class dg{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function D0(t,e){return t.transaction([Xv],e?"readwrite":"readonly").objectStore(Xv)}function jZ(){const t=indexedDB.deleteDatabase(j9);return new dg(t).toPromise()}function $P(){const t=indexedDB.open(j9,DZ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xv,{keyPath:V9})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xv)?e(r):(r.close(),await jZ(),e(await $P()))})})}async function jR(t,e,n){const r=D0(t,!0).put({[V9]:e,value:n});return new dg(r).toPromise()}async function VZ(t,e){const n=D0(t,!1).get(e),r=await new dg(n).toPromise();return r===void 0?null:r.value}function VR(t,e){const n=D0(t,!0).delete(e);return new dg(n).toPromise()}const FZ=800,BZ=3;class F9{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $P(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>BZ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return D9()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=L0._getInstance(LZ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await kZ(),!this.activeServiceWorker)return;this.sender=new OZ(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NZ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $P();return await jR(e,Zv,"1"),await VR(e,Zv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>jR(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>VZ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>VR(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=D0(i,!1).getAll();return new dg(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}F9.type="LOCAL";const $Z=F9;new hg(3e4,6e4);function zZ(t,e){return e?Ro(e):(ut(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class TA extends M9{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mf(e,this._buildIdpRequest())}_linkToIdToken(e,n){return mf(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return mf(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function UZ(t){return SZ(t.auth,new TA(t),t.bypassAuthState)}function qZ(t){const{auth:e,user:n}=t;return ut(n,e,"internal-error"),EZ(n,new TA(t),t.bypassAuthState)}async function GZ(t){const{auth:e,user:n}=t;return ut(n,e,"internal-error"),xZ(n,new TA(t),t.bypassAuthState)}class B9{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UZ;case"linkViaPopup":case"linkViaRedirect":return GZ;case"reauthViaPopup":case"reauthViaRedirect":return qZ;default:Ho(this.auth,"internal-error")}}resolve(e){Ko(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ko(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const WZ=new hg(2e3,1e4);class tf extends B9{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,tf.currentPopupAction&&tf.currentPopupAction.cancel(),tf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ut(e,this.auth,"internal-error"),e}async onExecution(){Ko(this.filter.length===1,"Popup operations only handle one event");const e=PA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tf.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WZ.get())};e()}}tf.currentPopupAction=null;const HZ="pendingRedirect",vv=new Map;class KZ extends B9{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=vv.get(this.auth._key());if(!e){try{const r=await ZZ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vv.set(this.auth._key(),e)}return this.bypassAuthState||vv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZZ(t,e){const n=QZ(e),r=YZ(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function XZ(t,e){vv.set(t._key(),e)}function YZ(t){return Ro(t._redirectPersistence)}function QZ(t){return yv(HZ,t.config.apiKey,t.name)}async function JZ(t,e,n=!1){if(Ea(t.app))return Promise.reject(Mc(t));const r=EA(t),i=zZ(r,e),s=await new KZ(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}const eX=600*1e3;class tX{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nX(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!$9(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Bs(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eX&&this.cachedEventUids.clear(),this.cachedEventUids.has(FR(e))}saveEventToCache(e){this.cachedEventUids.add(FR(e)),this.lastProcessedEventTime=Date.now()}}function FR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $9({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function nX(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $9(t);default:return!1}}async function rX(t,e={}){return fd(t,"GET","/v1/projects",e)}const iX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aX=/^https?/;async function sX(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rX(t);for(const n of e)try{if(oX(n))return}catch{}Ho(t,"unauthorized-domain")}function oX(t){const e=FP(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!aX.test(n))return!1;if(iX.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const uX=new hg(3e4,6e4);function BR(){const t=$s().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function lX(t){return new Promise((e,n)=>{function r(){BR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BR(),n(Bs(t,"network-request-failed"))},timeout:uX.get()})}if($s().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if($s().gapi?.load)r();else{const i=mZ("iframefcb");return $s()[i]=()=>{gapi.load?r():n(Bs(t,"network-request-failed"))},dZ(`${pZ()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw _v=null,e})}let _v=null;function cX(t){return _v=_v||lX(t),_v}const hX=new hg(5e3,15e3),fX="__/auth/iframe",dX="emulator/auth/iframe",pX={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gX(t){const e=t.config;ut(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_A(e,dX):`https://${t.config.authDomain}/${fX}`,r={apiKey:e.apiKey,appName:t.name,v:Qc},i=mX.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${eg(r).slice(1)}`}async function yX(t){const e=await cX(t),n=$s().gapi;return ut(n,t,"internal-error"),e.open({where:document.body,url:gX(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pX,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=Bs(t,"network-request-failed"),o=$s().setTimeout(()=>{a(s)},hX.get());function c(){$s().clearTimeout(o),i(r)}r.ping(c).then(c,()=>{a(s)})}))}const vX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_X=500,wX=600,bX="_blank",xX="http://localhost";class $R{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EX(t,e,n,r=_X,i=wX){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const c={...vX,width:r.toString(),height:i.toString(),top:a,left:s},f=Yn().toLowerCase();n&&(o=b9(f)?bX:n),_9(f)&&(e=e||xX,c.scrollbars="yes");const m=Object.entries(c).reduce((y,[b,E])=>`${y}${b}=${E},`,"");if(aZ(f)&&o!=="_self")return SX(e||"",o),new $R(null);const p=window.open(e||"",o,m);ut(p,t,"popup-blocked");try{p.focus()}catch{}return new $R(p)}function SX(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const PX="__/auth/handler",TX="emulator/auth/handler",AX=encodeURIComponent("fac");async function zR(t,e,n,r,i,a){ut(t.config.authDomain,t,"auth-domain-config-required"),ut(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qc,eventId:i};if(e instanceof C9){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",VU(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,p]of Object.entries({}))s[m]=p}if(e instanceof fg){const m=e.getScopes().filter(p=>p!=="");m.length>0&&(s.scopes=m.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const m of Object.keys(o))o[m]===void 0&&delete o[m];const c=await t._getAppCheckToken(),f=c?`#${AX}=${encodeURIComponent(c)}`:"";return`${IX(t)}?${eg(o).slice(1)}${f}`}function IX({config:t}){return t.emulator?_A(t,TX):`https://${t.authDomain}/${PX}`}const Jw="webStorageSupport";class MX{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=L9,this._completeRedirectFn=JZ,this._overrideRedirectResult=XZ}async _openPopup(e,n,r,i){Ko(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await zR(e,n,r,FP(),i);return EX(e,a,PA())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await zR(e,n,r,FP(),i);return RZ(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Ko(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await yX(e),r=new tX(e);return n.register("authEvent",i=>(ut(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jw,{type:Jw},i=>{const a=i?.[0]?.[Jw];a!==void 0&&n(!!a),Ho(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sX(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return T9()||w9()||xA()}}const CX=MX;var UR="@firebase/auth",qR="1.12.0";class OX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function RX(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kX(t){dl(new $o("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;ut(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A9(t)},f=new hZ(r,i,a,c);return yZ(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),dl(new $o("auth-internal",e=>{const n=EA(e.getProvider("auth").getImmediate());return(r=>new OX(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Aa(UR,qR,RX(t)),Aa(UR,qR,"esm2020")}const NX=300,LX=k8("authIdTokenMaxAge")||NX;let GR=null;const DX=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>LX)return;const i=n?.token;GR!==i&&(GR=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function jX(t=c0()){const e=tg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gZ(t,{popupRedirectResolver:CX,persistence:[$Z,MZ,L9]}),r=k8("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=DX(a.toString());TZ(n,s,()=>s(n.currentUser)),PZ(n,o=>s(o))}}const i=O8("auth");return i&&vZ(n,`http://${i}`),n}function VX(){return document.getElementsByTagName("head")?.[0]??document}fZ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Bs("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",VX().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kX("Browser");const z9="firebasestorage.googleapis.com",U9="storageBucket",FX=120*1e3,BX=600*1e3;class In extends Hs{constructor(e,n,r=0){super(eb(e),`Firebase Storage: ${n} (${eb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,In.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return eb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var An;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(An||(An={}));function eb(t){return"storage/"+t}function AA(){const t="An unknown error occurred, please check the error payload for server response.";return new In(An.UNKNOWN,t)}function $X(t){return new In(An.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function zX(t){return new In(An.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function UX(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new In(An.UNAUTHENTICATED,t)}function qX(){return new In(An.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function GX(t){return new In(An.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function WX(){return new In(An.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function HX(){return new In(An.CANCELED,"User canceled the upload/download.")}function KX(t){return new In(An.INVALID_URL,"Invalid URL '"+t+"'.")}function ZX(t){return new In(An.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function XX(){return new In(An.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+U9+"' property when initializing the app?")}function YX(){return new In(An.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function QX(){return new In(An.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function JX(t){return new In(An.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function zP(t){return new In(An.INVALID_ARGUMENT,t)}function q9(){return new In(An.APP_DELETED,"The Firebase app was deleted.")}function eY(t){return new In(An.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vp(t,e){return new In(An.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ap(t){throw new In(An.INTERNAL_ERROR,"Internal error: "+t)}class $i{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=$i.makeFromUrl(e,n)}catch{return new $i(e,"")}if(r.path==="")return r;throw ZX(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function f($){$.path_=decodeURIComponent($.path)}const m="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",b=new RegExp(`^https?://${p}/${m}/b/${i}/o${y}`,"i"),E={bucket:1,path:3},S=n===z9?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",M=new RegExp(`^https?://${S}/${i}/${x}`,"i"),D=[{regex:o,indices:c,postModify:a},{regex:b,indices:E,postModify:f},{regex:M,indices:{bucket:1,path:2},postModify:f}];for(let $=0;$<D.length;$++){const k=D[$],V=k.regex.exec(e);if(V){const C=V[k.indices.bucket];let j=V[k.indices.path];j||(j=""),r=new $i(C,j),k.postModify(r);break}}if(r==null)throw KX(e);return r}}class tY{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function nY(t,e,n){let r=1,i=null,a=null,s=!1,o=0;function c(){return o===2}let f=!1;function m(...x){f||(f=!0,e.apply(null,x))}function p(x){i=setTimeout(()=>{i=null,t(b,c())},x)}function y(){a&&clearTimeout(a)}function b(x,...M){if(f){y();return}if(x){y(),m.call(null,x,...M);return}if(c()||s){y(),m.call(null,x,...M);return}r<64&&(r*=2);let D;o===1?(o=2,D=0):D=(r+Math.random())*1e3,p(D)}let E=!1;function S(x){E||(E=!0,y(),!f&&(i!==null?(x||(o=2),clearTimeout(i),p(0)):x||(o=1)))}return p(0),a=setTimeout(()=>{s=!0,S(!0)},n),S}function rY(t){t(!1)}function iY(t){return t!==void 0}function aY(t){return typeof t=="object"&&!Array.isArray(t)}function IA(t){return typeof t=="string"||t instanceof String}function WR(t){return MA()&&t instanceof Blob}function MA(){return typeof Blob<"u"}function HR(t,e,n,r){if(r<e)throw zP(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw zP(`Invalid value for '${t}'. Expected ${n} or less.`)}function j0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function G9(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Cc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Cc||(Cc={}));function sY(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}class oY{constructor(e,n,r,i,a,s,o,c,f,m,p,y=!0,b=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=p,this.retry=y,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,S)=>{this.resolve_=E,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new jy(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const c=o.loaded,f=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===Cc.NO_ERROR,c=a.getStatus();if(!o||sY(c,this.additionalRetryCodes_)&&this.retry){const m=a.getErrorCode()===Cc.ABORT;r(!1,new jy(!1,null,m));return}const f=this.successCodes_.indexOf(c)!==-1;r(!0,new jy(f,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(o,o.getResponse());iY(c)?a(c):a()}catch(c){s(c)}else if(o!==null){const c=AA();c.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,c)):s(c)}else if(i.canceled){const c=this.appDelete_?q9():HX();s(c)}else{const c=WX();s(c)}};this.canceled_?n(!1,new jy(!1,null,!0)):this.backoffId_=nY(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&rY(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class jy{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function uY(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function lY(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function cY(t,e){e&&(t["X-Firebase-GMPID"]=e)}function hY(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function fY(t,e,n,r,i,a,s=!0,o=!1){const c=G9(t.urlParams),f=t.url+c,m=Object.assign({},t.headers);return cY(m,e),uY(m,n),lY(m,a),hY(m,r),new oY(f,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,o)}function dY(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function pY(...t){const e=dY();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(MA())return new Blob(t);throw new In(An.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function mY(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function gY(t){if(typeof atob>"u")throw JX("base-64");return atob(t)}const Ds={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tb{constructor(e,n){this.data=e,this.contentType=n||null}}function yY(t,e){switch(t){case Ds.RAW:return new tb(W9(e));case Ds.BASE64:case Ds.BASE64URL:return new tb(H9(t,e));case Ds.DATA_URL:return new tb(_Y(e),wY(e))}throw AA()}function W9(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,s=t.charCodeAt(++n);r=65536|(a&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function vY(t){let e;try{e=decodeURIComponent(t)}catch{throw Vp(Ds.DATA_URL,"Malformed data URL.")}return W9(e)}function H9(t,e){switch(t){case Ds.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Vp(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ds.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Vp(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=gY(e)}catch(i){throw i.message.includes("polyfill")?i:Vp(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class K9{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Vp(Ds.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=bY(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function _Y(t){const e=new K9(t);return e.base64?H9(Ds.BASE64,e.rest):vY(e.rest)}function wY(t){return new K9(t).contentType}function bY(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class Ju{constructor(e,n){let r=0,i="";WR(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(WR(this.data_)){const r=this.data_,i=mY(r,e,n);return i===null?null:new Ju(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ju(r,!0)}}static getBlob(...e){if(MA()){const n=e.map(r=>r instanceof Ju?r.data_:r);return new Ju(pY.apply(null,n))}else{const n=e.map(s=>IA(s)?yY(Ds.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(s=>{for(let o=0;o<s.length;o++)i[a++]=s[o]}),new Ju(i,!0)}}uploadData(){return this.data_}}function Z9(t){let e;try{e=JSON.parse(t)}catch{return null}return aY(e)?e:null}function xY(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function EY(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function X9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function SY(t,e){return e}class Xr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||SY}}let Vy=null;function PY(t){return!IA(t)||t.length<2?t:X9(t)}function Y9(){if(Vy)return Vy;const t=[];t.push(new Xr("bucket")),t.push(new Xr("generation")),t.push(new Xr("metageneration")),t.push(new Xr("name","fullPath",!0));function e(a,s){return PY(s)}const n=new Xr("name");n.xform=e,t.push(n);function r(a,s){return s!==void 0?Number(s):s}const i=new Xr("size");return i.xform=r,t.push(i),t.push(new Xr("timeCreated")),t.push(new Xr("updated")),t.push(new Xr("md5Hash",null,!0)),t.push(new Xr("cacheControl",null,!0)),t.push(new Xr("contentDisposition",null,!0)),t.push(new Xr("contentEncoding",null,!0)),t.push(new Xr("contentLanguage",null,!0)),t.push(new Xr("contentType",null,!0)),t.push(new Xr("metadata","customMetadata",!0)),Vy=t,Vy}function TY(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new $i(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function AY(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const s=n[a];r[s.local]=s.xform(r,e[s.server])}return TY(r,t),r}function Q9(t,e,n){const r=Z9(e);return r===null?null:AY(t,r,n)}function IY(t,e,n,r){const i=Z9(e);if(i===null||!IA(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(f=>{const m=t.bucket,p=t.fullPath,y="/b/"+s(m)+"/o/"+s(p),b=j0(y,n,r),E=G9({alt:"media",token:f});return b+E})[0]}function MY(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class CA{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function J9(t){if(!t)throw AA()}function CY(t,e){function n(r,i){const a=Q9(t,i,e);return J9(a!==null),a}return n}function OY(t,e){function n(r,i){const a=Q9(t,i,e);return J9(a!==null),IY(a,i,t.host,t._protocol)}return n}function e7(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=qX():i=UX():n.getStatus()===402?i=zX(t.bucket):n.getStatus()===403?i=GX(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function t7(t){const e=e7(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=$X(t.path)),a.serverResponse=i.serverResponse,a}return n}function RY(t,e,n){const r=e.fullServerUrl(),i=j0(r,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,o=new CA(i,a,OY(t,n),s);return o.errorHandler=t7(e),o}function kY(t,e){const n=e.fullServerUrl(),r=j0(n,t.host,t._protocol),i="DELETE",a=t.maxOperationRetryTime;function s(c,f){}const o=new CA(r,i,s,a);return o.successCodes=[200,204],o.errorHandler=t7(e),o}function NY(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function LY(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=NY(null,e)),r}function DY(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function o(){let D="";for(let $=0;$<2;$++)D=D+Math.random().toString().slice(2);return D}const c=o();s["Content-Type"]="multipart/related; boundary="+c;const f=LY(e,r,i),m=MY(f,n),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+c+`\r
Content-Type: `+f.contentType+`\r
\r
`,y=`\r
--`+c+"--",b=Ju.getBlob(p,r,y);if(b===null)throw YX();const E={name:f.fullPath},S=j0(a,t.host,t._protocol),x="POST",M=t.maxUploadRetryTime,O=new CA(S,x,CY(t,n),M);return O.urlParams=E,O.headers=s,O.body=b.uploadData(),O.errorHandler=e7(e),O}class jY{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Cc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Cc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Cc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw ap("cannot .send() more than once");if(Jo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ap("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ap("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ap("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ap("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class VY extends jY{initXhr(){this.xhr_.responseType="text"}}function OA(){return new VY}class qc{constructor(e,n){this._service=e,n instanceof $i?this._location=n:this._location=$i.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new qc(e,n)}get root(){const e=new $i(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return X9(this._location.path)}get storage(){return this._service}get parent(){const e=xY(this._location.path);if(e===null)return null;const n=new $i(this._location.bucket,e);return new qc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw eY(e)}}function FY(t,e,n){t._throwIfRoot("uploadBytes");const r=DY(t.storage,t._location,Y9(),new Ju(e,!0),n);return t.storage.makeRequestWithTokens(r,OA).then(i=>({metadata:i,ref:t}))}function BY(t){t._throwIfRoot("getDownloadURL");const e=RY(t.storage,t._location,Y9());return t.storage.makeRequestWithTokens(e,OA).then(n=>{if(n===null)throw QX();return n})}function $Y(t){t._throwIfRoot("deleteObject");const e=kY(t.storage,t._location);return t.storage.makeRequestWithTokens(e,OA)}function zY(t,e){const n=EY(t._location.path,e),r=new $i(t._location.bucket,n);return new qc(t.storage,r)}function UY(t){return/^[A-Za-z]+:\/\//.test(t)}function qY(t,e){return new qc(t,e)}function n7(t,e){if(t instanceof RA){const n=t;if(n._bucket==null)throw XX();const r=new qc(n,n._bucket);return e!=null?n7(r,e):r}else return e!==void 0?zY(t,e):t}function GY(t,e){if(e&&UY(e)){if(t instanceof RA)return qY(t,e);throw zP("To use ref(service, url), the first argument must be a Storage instance.")}else return n7(t,e)}function KR(t,e){const n=e?.[U9];return n==null?null:$i.makeFromBucketSpec(n,t)}function WY(t,e,n,r={}){t.host=`${e}:${n}`;const i=Jo(e);i&&(u0(`https://${t.host}/b`),l0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:N8(a,t.app.options.projectId))}class RA{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=z9,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=FX,this._maxUploadRetryTime=BX,this._requests=new Set,i!=null?this._bucket=$i.makeFromBucketSpec(i,this._host):this._bucket=KR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=$i.makeFromBucketSpec(this._url,e):this._bucket=KR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){HR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){HR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ea(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qc(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new tY(q9());{const s=fY(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const ZR="@firebase/storage",XR="0.14.0";const r7="storage";function HY(t,e,n){return t=Tn(t),FY(t,e,n)}function KY(t){return t=Tn(t),BY(t)}function ZY(t){return t=Tn(t),$Y(t)}function i7(t,e){return t=Tn(t),GY(t,e)}function XY(t=c0(),e){t=Tn(t);const r=tg(t,r7).getImmediate({identifier:e}),i=P2("storage");return i&&YY(r,...i),r}function YY(t,e,n,r={}){WY(t,e,n,r)}function QY(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new RA(n,r,i,e,Qc)}function JY(){dl(new $o(r7,QY,"PUBLIC").setMultipleInstances(!0)),Aa(ZR,XR,""),Aa(ZR,XR,"esm2020")}JY();const a7="functions";class eQ{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Ea(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(a=>this.auth=a,()=>{}),this.messaging||r.get().then(a=>this.messaging=a,()=>{}),this.appCheck||i?.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}const UP="us-central1";class tQ{constructor(e,n,r,i,a=UP,s=(...o)=>fetch(...o)){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new eQ(e,n,r,i),this.cancelAllRequests=new Promise(o=>{this.deleteService=()=>Promise.resolve(o())});try{const o=new URL(a);this.customDomain=o.origin+(o.pathname==="/"?"":o.pathname),this.region=UP}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function nQ(t,e,n){const r=Jo(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(u0(t.emulatorOrigin+"/backends"),l0("Functions",!0))}const YR="@firebase/functions",QR="0.13.1";const rQ="auth-internal",iQ="app-check-internal",aQ="messaging-internal";function sQ(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),a=n.getProvider(rQ),s=n.getProvider(aQ),o=n.getProvider(iQ);return new tQ(i,a,s,o,r)};dl(new $o(a7,e,"PUBLIC").setMultipleInstances(!0)),Aa(YR,QR,t),Aa(YR,QR,"esm2020")}function oQ(t=c0(),e=UP){const r=tg(Tn(t),a7).getImmediate({identifier:e}),i=P2("functions");return i&&uQ(r,...i),r}function uQ(t,e,n){nQ(Tn(t),e,n)}sQ();const wv={apiKey:"AIzaSyBl798oJTWNzU6ULNQdmKSiAK6KM8YekUU",authDomain:"maechaem-db-rfd.firebaseapp.com",projectId:"maechaem-db-rfd",storageBucket:"maechaem-db-rfd.firebasestorage.app",messagingSenderId:"91906629606",appId:"1:91906629606:web:c0eac642159d95e0070027"},lQ=!!(wv.apiKey&&wv.authDomain&&wv.projectId);lQ||console.error(` MISSING Firebase configuration  app will NOT work.
Set VITE_FIREBASE_* variables in .env (local) or Netlify dashboard (production).`);const V0=$8(wv);jX(V0);const hn=bK(V0),s7=XY(V0);oQ(V0,"asia-southeast1");typeof window<"u"&&xK(hn).catch(t=>{t.code==="failed-precondition"?console.warn("Firestore persistence failed: Multiple tabs open"):t.code==="unimplemented"&&console.warn("Firestore persistence not available in this browser")});const JR={fetchProfile:async t=>{try{const e=wc(hn,"profiles",t),n=await IR(e);return n.exists()?n.data():(console.warn("[Firestore] Profile not found for user:",t),null)}catch(e){return console.error("[Firestore] fetchProfile error:",e),null}},createProfile:async(t,e,n,r,i)=>{try{const a=yr(hn,"profiles"),o=(await Qr(_i(a,NK(1)))).empty,c=o?"admin":"pending",f=o,m={id:t,email:e,fullname:n||"",position:r||null,organization:i||null,role:c,approved:f,created_at:new Date().toISOString()};return await DK(wc(hn,"profiles",t),m),console.log("[Firestore] Profile created:",{userId:t,role:c,approved:f}),{profile:m,isFirstUser:o}}catch(a){throw console.error("[Firestore] createProfile error:",a),a}},updateProfile:async(t,e)=>{try{const n=wc(hn,"profiles",t);await l9(n,e),console.log("[Firestore] Profile updated:",t)}catch(n){throw console.error("[Firestore] updateProfile error:",n),n}},fetchPlots:async()=>{try{const t=yr(hn,"plots"),e=_i(t,Wo("plot_code"));return(await Qr(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){throw console.error("[Firestore] fetchPlots error:",t),t}},fetchPlot:async t=>{try{const e=wc(hn,"plots",t),n=await IR(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("[Firestore] fetchPlot error:",e),e}},fetchTreesByPlot:async t=>{try{const e=yr(hn,"trees"),n=_i(e,Go("plot_id","==",t),Wo("tree_number"));return(await Qr(n)).docs.map(i=>({id:i.id,...i.data()}))}catch(e){throw console.error("[Firestore] fetchTreesByPlot error:",e),e}},fetchTreeByCode:async t=>{try{const e=yr(hn,"trees"),n=_i(e,Go("tree_code","==",t)),r=await Qr(n);if(r.empty)return null;const i=r.docs[0];return{id:i.id,...i.data()}}catch(e){throw console.error("[Firestore] fetchTreeByCode error:",e),e}},fetchSpecies:async()=>{try{const t=yr(hn,"species");return(await Qr(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){throw console.error("[Firestore] fetchSpecies error:",t),t}}},cQ=Z.createContext(void 0),hQ=({children:t})=>{const e={fetchProfile:n=>JR.fetchProfile(n),updateProfile:(n,r)=>JR.updateProfile(n,r)};return N.jsx(cQ.Provider,{value:e,children:t})},o7=Z.createContext(void 0),fQ=({children:t})=>{const[e,n]=Z.useState(navigator.onLine),[r,i]=Z.useState("idle");Z.useEffect(()=>{const o=()=>{console.log("[OfflineContext] Back online"),n(!0)},c=()=>{console.log("[OfflineContext] Offline"),n(!1)};return window.addEventListener("online",o),window.addEventListener("offline",c),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",c)}},[]);const a=Z.useCallback(async()=>{if(!e){console.log("[OfflineContext] Cannot sync while offline");return}i("syncing"),await new Promise(o=>setTimeout(o,500)),i("idle"),console.log("[OfflineContext] Sync complete (Firestore auto-sync)")},[e]);Z.useEffect(()=>{e&&a()},[e,a]);const s={isOnline:e,syncStatus:r,pendingCount:0,syncNow:a};return N.jsx(o7.Provider,{value:s,children:t})};function kA(){const t=Z.useContext(o7);if(!t)throw new Error("useOffline must be used within OfflineProvider");return t}var dQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const pQ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),on=(t,e)=>{const n=Z.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:c,...f},m)=>Z.createElement("svg",{ref:m,...dQ,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${pQ(t)}`,o].join(" "),...f},[...e.map(([p,y])=>Z.createElement(p,y)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};const F0=on("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const qP=on("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const mQ=on("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);const B0=on("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const gQ=on("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const yQ=on("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const vQ=on("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const e4=on("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const u7=on("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const ri=on("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const _Q=on("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const wQ=on("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const bQ=on("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const l7=on("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const NA=on("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const xQ=on("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const EQ=on("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const nl=on("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16v0H5v0h0a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"yh07w9"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]);const SQ=on("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const t4=on("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const PQ=on("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const c7=on("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const TQ=on("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);const AQ=on("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const IQ=on("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),MQ=()=>{const{isOnline:t,syncStatus:e,pendingCount:n,syncNow:r}=kA();return t&&n===0?null:N.jsx("div",{className:`w-full text-xs font-semibold flex items-center justify-center gap-2 py-1 px-4 ${t?e==="syncing"?"bg-yellow-400 text-yellow-900":"bg-yellow-100 text-yellow-800":"bg-red-500 text-white"}`,children:t?e==="syncing"?N.jsxs(N.Fragment,{children:[N.jsx(bQ,{size:13,className:"animate-spin"}),N.jsx("span",{children:"..."})]}):N.jsxs(N.Fragment,{children:[N.jsx(TQ,{size:13}),N.jsxs("span",{children:[" ",n," "]}),N.jsx("button",{onClick:r,className:"underline hover:no-underline ml-1",children:""})]}):N.jsxs(N.Fragment,{children:[N.jsx(c7,{size:13}),N.jsx("span",{children:"  "}),n>0&&N.jsxs("span",{className:"bg-white/30 rounded-full px-2",children:[" ",n," "]})]})})},h7=()=>({user:null,profile:null,canWrite:!0,logout:async()=>{}}),nb=({to:t,icon:e,label:n})=>N.jsxs(s0,{to:t,className:({isActive:r})=>`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${r?"bg-white/20 text-white":"text-white/70 hover:text-white hover:bg-white/10"}`,children:[e,N.jsx("span",{children:n})]}),ni=({children:t})=>{const{user:e,profile:n,logout:r}=h7(),{pendingCount:i}=kA(),a=Na(),s=async()=>{await r(),a("/plots")};return N.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[N.jsx(MQ,{}),N.jsx("header",{className:"bg-[#2d5a27] text-white shadow-lg lg:hidden sticky top-0 z-50",children:N.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(nl,{size:22,className:"text-green-300"}),N.jsx("span",{className:"font-bold text-base",children:" DB"})]}),N.jsxs("div",{className:"flex items-center gap-2",children:[i>0&&N.jsx("span",{className:"bg-yellow-400 text-yellow-900 text-xs font-bold px-2 py-0.5 rounded-full",children:i}),N.jsx(s0,{to:"/profile",className:"p-1",children:N.jsx(t4,{size:20,className:"text-white/80"})})]})]})}),N.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[N.jsxs("aside",{className:"hidden lg:flex flex-col w-60 bg-[#2d5a27] text-white shrink-0",children:[N.jsxs("div",{className:"px-5 py-5 flex items-center gap-3 border-b border-white/10",children:[N.jsx(nl,{size:26,className:"text-green-300"}),N.jsxs("div",{children:[N.jsx("p",{className:"font-bold text-base leading-tight",children:" DB"}),N.jsx("p",{className:"text-xs text-white/60",children:""})]})]}),N.jsxs("nav",{className:"flex-1 px-3 py-4 flex flex-col gap-1 overflow-y-auto",children:[N.jsx(nb,{to:"/plots",icon:N.jsx(nl,{size:18}),label:""}),N.jsx(nb,{to:"/survey",icon:N.jsx(e4,{size:18}),label:""}),N.jsx(nb,{to:"/dashboard",icon:N.jsx(qP,{size:18}),label:""}),n?.role==="admin"]}),N.jsxs("div",{className:"px-3 py-4 border-t border-white/10",children:[N.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 mb-2",children:[N.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center text-sm font-bold",children:"?"}),N.jsxs("div",{className:"flex-1 min-w-0",children:[N.jsx("p",{className:"text-sm font-medium truncate",children:e?.email}),N.jsx("p",{className:"text-xs text-white/60 capitalize",children:"pending"})]})]}),N.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-2 rounded-lg text-sm text-white/70 hover:text-white hover:bg-white/10 transition-colors",children:[N.jsx(_Q,{size:16}),N.jsx("span",{children:""})]})]})]}),N.jsx("main",{className:"flex-1 overflow-y-auto pb-20 lg:pb-0",children:t})]}),N.jsxs("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 flex",children:[N.jsx(Fy,{to:"/plots",icon:N.jsx(nl,{size:20}),label:""}),N.jsx(Fy,{to:"/survey",icon:N.jsx(e4,{size:20}),label:""}),N.jsx(Fy,{to:"/dashboard",icon:N.jsx(qP,{size:20}),label:""}),n?.role==="admin",N.jsx(Fy,{to:"/profile",icon:N.jsx(t4,{size:20}),label:""})]})]})},Fy=({to:t,icon:e,label:n})=>N.jsxs(s0,{to:t,className:({isActive:r})=>`flex-1 flex flex-col items-center justify-center py-2 text-xs font-medium transition-colors ${r?"text-[#2d5a27]":"text-gray-500 hover:text-gray-700"}`,children:[e,N.jsx("span",{className:"mt-0.5",children:n})]}),CQ=({plotCode:t,nameShort:e,ownerName:n,groupNumber:r,treeCount:i,aliveCount:a,latestSurveyDate:s})=>{const o=Na(),c=i>0?Math.round(a/i*100):null,f=c===null?"text-gray-400":c>=90?"text-green-600":c>=75?"text-yellow-600":"text-red-600";return N.jsxs("button",{onClick:()=>o(`/plots/${t}`),className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 text-left hover:shadow-md hover:border-green-200 transition-all active:scale-95 w-full",children:[N.jsxs("div",{className:"flex items-start justify-between mb-3",children:[N.jsxs("div",{children:[N.jsx("span",{className:"inline-block bg-[#2d5a27] text-white text-xs font-bold px-2 py-0.5 rounded mb-1",children:e}),N.jsxs("p",{className:"text-xs text-gray-500",children:[" ",r]})]}),N.jsx("div",{className:"w-9 h-9 bg-green-50 rounded-lg flex items-center justify-center",children:N.jsx(nl,{size:18,className:"text-[#2d5a27]"})})]}),N.jsx("p",{className:"text-sm font-semibold text-gray-800 mb-3 leading-tight",children:n}),N.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[N.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[N.jsx(nl,{size:12}),N.jsxs("span",{children:[i," "]})]}),c!==null&&N.jsxs("div",{className:`flex items-center gap-1 ${f}`,children:[N.jsx(B0,{size:12}),N.jsxs("span",{children:[c,"%"]})]}),s&&N.jsxs("div",{className:"flex items-center gap-1 text-gray-400",children:[N.jsx(mQ,{size:12}),N.jsx("span",{children:s})]})]})]})};function $0(){const[t,e]=Z.useState([]),[n,r]=Z.useState(!0),[i,a]=Z.useState(null);return Z.useEffect(()=>{let s=!0;return(async()=>{r(!0),a(null);try{const c=yr(hn,"plots"),f=_i(c,Wo("plot_code")),m=await Qr(f);if(!s)return;const p=m.docs.map(y=>{const b=y.data();return{id:y.id,...b,tree_count:Number(b.tree_count??0),alive_count:Number(b.alive_count??0),latest_survey_date:b.latest_survey_date??null}});e(p),a(null)}catch(c){if(!s)return;console.error("[usePlots] Error:",c),a(c.message||"")}finally{s&&r(!1)}})(),()=>{s=!1}},[]),{plots:t,isLoading:n,error:i}}const OQ=()=>{const{plots:t,isLoading:e,error:n}=$0(),[r,i]=Z.useState(""),a=t.filter(s=>s.owner_name.includes(r)||s.plot_code.toLowerCase().includes(r.toLowerCase())||s.name_short.toLowerCase().includes(r.toLowerCase()));return e?N.jsx("div",{className:"flex items-center justify-center py-20",children:N.jsx(ri,{size:28,className:"animate-spin text-[#2d5a27]"})}):n?N.jsxs("div",{className:"p-6 text-center text-red-600 text-sm",children:[": ",n]}):N.jsxs("div",{children:[N.jsxs("div",{className:"relative mb-5",children:[N.jsx(NA,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),N.jsx("input",{type:"text",value:r,onChange:s=>i(s.target.value),placeholder:"...",className:"w-full pl-9 pr-4 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 bg-white"})]}),a.length===0?N.jsx("div",{className:"text-center py-10 text-gray-500 text-sm",children:""}):N.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:a.map(s=>N.jsx(CQ,{plotCode:s.plot_code,nameShort:s.name_short,ownerName:s.owner_name,groupNumber:s.group_number,treeCount:s.tree_count,aliveCount:s.alive_count,latestSurveyDate:s.latest_survey_date},s.id))})]})},RQ=()=>N.jsx(ni,{children:N.jsxs("div",{className:"p-4 lg:p-6",children:[N.jsxs("div",{className:"mb-6",children:[N.jsx("h1",{className:"text-xl font-bold text-gray-900",children:" "}),N.jsx("p",{className:"text-sm text-gray-500 mt-1",children:" . ."})]}),N.jsx(OQ,{})]})}),kQ=({trees:t,isLoading:e=!1})=>{const n=Na(),[r,i]=Z.useState(""),[a,s]=Z.useState(""),[o,c]=Z.useState(""),f=Array.from(new Set(t.map(p=>p.species.species_code))).sort(),m=t.filter(p=>{const y=!r||p.tree_code.toLowerCase().includes(r.toLowerCase())||p.species.name_th.includes(r)||(p.tag_label??"").includes(r),b=!a||p.species.species_code===a;return y&&b});return N.jsxs("div",{children:[N.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[N.jsxs("div",{className:"relative flex-1 min-w-40",children:[N.jsx(NA,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),N.jsx("input",{type:"text",value:r,onChange:p=>i(p.target.value),placeholder:"...",className:"w-full pl-8 pr-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]}),N.jsxs("select",{value:a,onChange:p=>s(p.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",children:[N.jsx("option",{value:"",children:""}),f.map(p=>{const y=t.find(b=>b.species.species_code===p)?.species;return N.jsxs("option",{value:p,children:[p,"  ",y?.name_th]},p)})]})]}),N.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-100 bg-white shadow-sm",children:N.jsxs("table",{className:"min-w-full text-sm",children:[N.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:N.jsx("tr",{children:["","","","",""].map(p=>N.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wide",children:p},p))})}),N.jsx("tbody",{className:"divide-y divide-gray-50",children:m.length===0?N.jsx("tr",{children:N.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-400 text-sm",children:e?"...":""})}):m.map(p=>N.jsxs("tr",{onClick:()=>n(`/trees/${p.tree_code}`),className:"hover:bg-gray-50 cursor-pointer transition-colors",children:[N.jsx("td",{className:"px-4 py-3 font-mono font-semibold text-gray-900",children:N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("div",{className:"w-3 h-3 rounded-full shrink-0",style:{backgroundColor:`#${p.species.hex_color}`}}),p.tree_code]})}),N.jsx("td",{className:"px-4 py-3",children:N.jsxs("div",{children:[N.jsx("span",{className:"text-gray-900",children:p.species.name_th}),p.species.name_sci&&N.jsx("span",{className:"text-gray-400 text-xs ml-1 italic",children:p.species.name_sci})]})}),N.jsxs("td",{className:"px-4 py-3 text-gray-500",children:[p.row_main,p.row_sub?`-${p.row_sub}`:""]}),N.jsx("td",{className:"px-4 py-3",children:N.jsx("span",{className:"text-gray-400 text-xs",children:""})}),N.jsx("td",{className:"px-4 py-3 text-right",children:N.jsxs("button",{onClick:y=>{y.stopPropagation(),n(`/trees/${p.tree_code}/add-log`)},className:"inline-flex items-center gap-1 text-xs text-[#2d5a27] font-medium hover:underline",children:[N.jsx(wQ,{size:12}),""]})})]},p.id))})]})}),N.jsxs("p",{className:"mt-2 text-xs text-gray-400 text-right",children:[" ",m.length," / ",t.length," "]})]})};function f7(t,e){const n=Z.useRef(e);Z.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}function NQ(t,e,n){e.center!==n.center&&t.setLatLng(e.center),e.radius!=null&&e.radius!==n.radius&&t.setRadius(e.radius)}const LQ=1;function DQ(t){return Object.freeze({__version:LQ,map:t})}function jQ(t,e){return Object.freeze({...t,...e})}const d7=Z.createContext(null),p7=d7.Provider;function LA(){const t=Z.useContext(d7);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function VQ(t){function e(n,r){const{instance:i,context:a}=t(n).current;return Z.useImperativeHandle(r,()=>i),n.children==null?null:re.createElement(p7,{value:a},n.children)}return Z.forwardRef(e)}function FQ(t){function e(n,r){const[i,a]=Z.useState(!1),{instance:s}=t(n,a).current;Z.useImperativeHandle(r,()=>s),Z.useEffect(function(){i&&s.update()},[s,i,n.children]);const o=s._contentNode;return o?vU.createPortal(n.children,o):null}return Z.forwardRef(e)}function BQ(t){function e(n,r){const{instance:i}=t(n).current;return Z.useImperativeHandle(r,()=>i),null}return Z.forwardRef(e)}function DA(t,e){const n=Z.useRef();Z.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function z0(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function $Q(t,e){return function(r,i){const a=LA(),s=t(z0(r,a),a);return f7(a.map,r.attribution),DA(s.current,r.eventHandlers),e(s.current,a,r,i),s}}var bp={exports:{}};var zQ=bp.exports,n4;function UQ(){return n4||(n4=1,(function(t,e){(function(n,r){r(e)})(zQ,(function(n){var r="1.9.4";function i(l){var d,_,P,R;for(_=1,P=arguments.length;_<P;_++){R=arguments[_];for(d in R)l[d]=R[d]}return l}var a=Object.create||(function(){function l(){}return function(d){return l.prototype=d,new l}})();function s(l,d){var _=Array.prototype.slice;if(l.bind)return l.bind.apply(l,_.call(arguments,1));var P=_.call(arguments,2);return function(){return l.apply(d,P.length?P.concat(_.call(arguments)):arguments)}}var o=0;function c(l){return"_leaflet_id"in l||(l._leaflet_id=++o),l._leaflet_id}function f(l,d,_){var P,R,W,Q;return Q=function(){P=!1,R&&(W.apply(_,R),R=!1)},W=function(){P?R=arguments:(l.apply(_,arguments),setTimeout(Q,d),P=!0)},W}function m(l,d,_){var P=d[1],R=d[0],W=P-R;return l===P&&_?l:((l-R)%W+W)%W+R}function p(){return!1}function y(l,d){if(d===!1)return l;var _=Math.pow(10,d===void 0?6:d);return Math.round(l*_)/_}function b(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function E(l){return b(l).split(/\s+/)}function S(l,d){Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?a(l.options):{});for(var _ in d)l.options[_]=d[_];return l.options}function x(l,d,_){var P=[];for(var R in l)P.push(encodeURIComponent(_?R.toUpperCase():R)+"="+encodeURIComponent(l[R]));return(!d||d.indexOf("?")===-1?"?":"&")+P.join("&")}var M=/\{ *([\w_ -]+) *\}/g;function O(l,d){return l.replace(M,function(_,P){var R=d[P];if(R===void 0)throw new Error("No value provided for variable "+_);return typeof R=="function"&&(R=R(d)),R})}var D=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function $(l,d){for(var _=0;_<l.length;_++)if(l[_]===d)return _;return-1}var k="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function V(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var C=0;function j(l){var d=+new Date,_=Math.max(0,16-(d-C));return C=d+_,window.setTimeout(l,_)}var B=window.requestAnimationFrame||V("RequestAnimationFrame")||j,H=window.cancelAnimationFrame||V("CancelAnimationFrame")||V("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function z(l,d,_){if(_&&B===j)l.call(d);else return B.call(window,s(l,d))}function G(l){l&&H.call(window,l)}var q={__proto__:null,extend:i,create:a,bind:s,get lastId(){return o},stamp:c,throttle:f,wrapNum:m,falseFn:p,formatNum:y,trim:b,splitWords:E,setOptions:S,getParamString:x,template:O,isArray:D,indexOf:$,emptyImageUrl:k,requestFn:B,cancelFn:H,requestAnimFrame:z,cancelAnimFrame:G};function ae(){}ae.extend=function(l){var d=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},_=d.__super__=this.prototype,P=a(_);P.constructor=d,d.prototype=P;for(var R in this)Object.prototype.hasOwnProperty.call(this,R)&&R!=="prototype"&&R!=="__super__"&&(d[R]=this[R]);return l.statics&&i(d,l.statics),l.includes&&(he(l.includes),i.apply(null,[P].concat(l.includes))),i(P,l),delete P.statics,delete P.includes,P.options&&(P.options=_.options?a(_.options):{},i(P.options,l.options)),P._initHooks=[],P.callInitHooks=function(){if(!this._initHooksCalled){_.callInitHooks&&_.callInitHooks.call(this),this._initHooksCalled=!0;for(var W=0,Q=P._initHooks.length;W<Q;W++)P._initHooks[W].call(this)}},d},ae.include=function(l){var d=this.prototype.options;return i(this.prototype,l),l.options&&(this.prototype.options=d,this.mergeOptions(l.options)),this},ae.mergeOptions=function(l){return i(this.prototype.options,l),this},ae.addInitHook=function(l){var d=Array.prototype.slice.call(arguments,1),_=typeof l=="function"?l:function(){this[l].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(_),this};function he(l){if(!(typeof L>"u"||!L||!L.Mixin)){l=D(l)?l:[l];for(var d=0;d<l.length;d++)l[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var me={on:function(l,d,_){if(typeof l=="object")for(var P in l)this._on(P,l[P],d);else{l=E(l);for(var R=0,W=l.length;R<W;R++)this._on(l[R],d,_)}return this},off:function(l,d,_){if(!arguments.length)delete this._events;else if(typeof l=="object")for(var P in l)this._off(P,l[P],d);else{l=E(l);for(var R=arguments.length===1,W=0,Q=l.length;W<Q;W++)R?this._off(l[W]):this._off(l[W],d,_)}return this},_on:function(l,d,_,P){if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}if(this._listens(l,d,_)===!1){_===this&&(_=void 0);var R={fn:d,ctx:_};P&&(R.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(R)}},_off:function(l,d,_){var P,R,W;if(this._events&&(P=this._events[l],!!P)){if(arguments.length===1){if(this._firingCount)for(R=0,W=P.length;R<W;R++)P[R].fn=p;delete this._events[l];return}if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}var Q=this._listens(l,d,_);if(Q!==!1){var oe=P[Q];this._firingCount&&(oe.fn=p,this._events[l]=P=P.slice()),P.splice(Q,1)}}},fire:function(l,d,_){if(!this.listens(l,_))return this;var P=i({},d,{type:l,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var R=this._events[l];if(R){this._firingCount=this._firingCount+1||1;for(var W=0,Q=R.length;W<Q;W++){var oe=R[W],de=oe.fn;oe.once&&this.off(l,de,oe.ctx),de.call(oe.ctx||this,P)}this._firingCount--}}return _&&this._propagateEvent(P),this},listens:function(l,d,_,P){typeof l!="string"&&console.warn('"string" type argument expected');var R=d;typeof d!="function"&&(P=!!d,R=void 0,_=void 0);var W=this._events&&this._events[l];if(W&&W.length&&this._listens(l,R,_)!==!1)return!0;if(P){for(var Q in this._eventParents)if(this._eventParents[Q].listens(l,d,_,P))return!0}return!1},_listens:function(l,d,_){if(!this._events)return!1;var P=this._events[l]||[];if(!d)return!!P.length;_===this&&(_=void 0);for(var R=0,W=P.length;R<W;R++)if(P[R].fn===d&&P[R].ctx===_)return R;return!1},once:function(l,d,_){if(typeof l=="object")for(var P in l)this._on(P,l[P],d,!0);else{l=E(l);for(var R=0,W=l.length;R<W;R++)this._on(l[R],d,_,!0)}return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[c(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[c(l)],this},_propagateEvent:function(l){for(var d in this._eventParents)this._eventParents[d].fire(l.type,i({layer:l.target,propagatedFrom:l.target},l),!0)}};me.addEventListener=me.on,me.removeEventListener=me.clearAllEventListeners=me.off,me.addOneTimeEventListener=me.once,me.fireEvent=me.fire,me.hasEventListeners=me.listens;var ye=ae.extend(me);function ee(l,d,_){this.x=_?Math.round(l):l,this.y=_?Math.round(d):d}var ge=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};ee.prototype={clone:function(){return new ee(this.x,this.y)},add:function(l){return this.clone()._add(ie(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(ie(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new ee(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new ee(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ge(this.x),this.y=ge(this.y),this},distanceTo:function(l){l=ie(l);var d=l.x-this.x,_=l.y-this.y;return Math.sqrt(d*d+_*_)},equals:function(l){return l=ie(l),l.x===this.x&&l.y===this.y},contains:function(l){return l=ie(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function ie(l,d,_){return l instanceof ee?l:D(l)?new ee(l[0],l[1]):l==null?l:typeof l=="object"&&"x"in l&&"y"in l?new ee(l.x,l.y):new ee(l,d,_)}function Y(l,d){if(l)for(var _=d?[l,d]:l,P=0,R=_.length;P<R;P++)this.extend(_[P])}Y.prototype={extend:function(l){var d,_;if(!l)return this;if(l instanceof ee||typeof l[0]=="number"||"x"in l)d=_=ie(l);else if(l=ne(l),d=l.min,_=l.max,!d||!_)return this;return!this.min&&!this.max?(this.min=d.clone(),this.max=_.clone()):(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(_.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(_.y,this.max.y)),this},getCenter:function(l){return ie((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return ie(this.min.x,this.max.y)},getTopRight:function(){return ie(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var d,_;return typeof l[0]=="number"||l instanceof ee?l=ie(l):l=ne(l),l instanceof Y?(d=l.min,_=l.max):d=_=l,d.x>=this.min.x&&_.x<=this.max.x&&d.y>=this.min.y&&_.y<=this.max.y},intersects:function(l){l=ne(l);var d=this.min,_=this.max,P=l.min,R=l.max,W=R.x>=d.x&&P.x<=_.x,Q=R.y>=d.y&&P.y<=_.y;return W&&Q},overlaps:function(l){l=ne(l);var d=this.min,_=this.max,P=l.min,R=l.max,W=R.x>d.x&&P.x<_.x,Q=R.y>d.y&&P.y<_.y;return W&&Q},isValid:function(){return!!(this.min&&this.max)},pad:function(l){var d=this.min,_=this.max,P=Math.abs(d.x-_.x)*l,R=Math.abs(d.y-_.y)*l;return ne(ie(d.x-P,d.y-R),ie(_.x+P,_.y+R))},equals:function(l){return l?(l=ne(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight())):!1}};function ne(l,d){return!l||l instanceof Y?l:new Y(l,d)}function xe(l,d){if(l)for(var _=d?[l,d]:l,P=0,R=_.length;P<R;P++)this.extend(_[P])}xe.prototype={extend:function(l){var d=this._southWest,_=this._northEast,P,R;if(l instanceof Oe)P=l,R=l;else if(l instanceof xe){if(P=l._southWest,R=l._northEast,!P||!R)return this}else return l?this.extend(Re(l)||Me(l)):this;return!d&&!_?(this._southWest=new Oe(P.lat,P.lng),this._northEast=new Oe(R.lat,R.lng)):(d.lat=Math.min(P.lat,d.lat),d.lng=Math.min(P.lng,d.lng),_.lat=Math.max(R.lat,_.lat),_.lng=Math.max(R.lng,_.lng)),this},pad:function(l){var d=this._southWest,_=this._northEast,P=Math.abs(d.lat-_.lat)*l,R=Math.abs(d.lng-_.lng)*l;return new xe(new Oe(d.lat-P,d.lng-R),new Oe(_.lat+P,_.lng+R))},getCenter:function(){return new Oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new Oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){typeof l[0]=="number"||l instanceof Oe||"lat"in l?l=Re(l):l=Me(l);var d=this._southWest,_=this._northEast,P,R;return l instanceof xe?(P=l.getSouthWest(),R=l.getNorthEast()):P=R=l,P.lat>=d.lat&&R.lat<=_.lat&&P.lng>=d.lng&&R.lng<=_.lng},intersects:function(l){l=Me(l);var d=this._southWest,_=this._northEast,P=l.getSouthWest(),R=l.getNorthEast(),W=R.lat>=d.lat&&P.lat<=_.lat,Q=R.lng>=d.lng&&P.lng<=_.lng;return W&&Q},overlaps:function(l){l=Me(l);var d=this._southWest,_=this._northEast,P=l.getSouthWest(),R=l.getNorthEast(),W=R.lat>d.lat&&P.lat<_.lat,Q=R.lng>d.lng&&P.lng<_.lng;return W&&Q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,d){return l?(l=Me(l),this._southWest.equals(l.getSouthWest(),d)&&this._northEast.equals(l.getNorthEast(),d)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Me(l,d){return l instanceof xe?l:new xe(l,d)}function Oe(l,d,_){if(isNaN(l)||isNaN(d))throw new Error("Invalid LatLng object: ("+l+", "+d+")");this.lat=+l,this.lng=+d,_!==void 0&&(this.alt=+_)}Oe.prototype={equals:function(l,d){if(!l)return!1;l=Re(l);var _=Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng));return _<=(d===void 0?1e-9:d)},toString:function(l){return"LatLng("+y(this.lat,l)+", "+y(this.lng,l)+")"},distanceTo:function(l){return Ye.distance(this,Re(l))},wrap:function(){return Ye.wrapLatLng(this)},toBounds:function(l){var d=180*l/40075017,_=d/Math.cos(Math.PI/180*this.lat);return Me([this.lat-d,this.lng-_],[this.lat+d,this.lng+_])},clone:function(){return new Oe(this.lat,this.lng,this.alt)}};function Re(l,d,_){return l instanceof Oe?l:D(l)&&typeof l[0]!="object"?l.length===3?new Oe(l[0],l[1],l[2]):l.length===2?new Oe(l[0],l[1]):null:l==null?l:typeof l=="object"&&"lat"in l?new Oe(l.lat,"lng"in l?l.lng:l.lon,l.alt):d===void 0?null:new Oe(l,d,_)}var st={latLngToPoint:function(l,d){var _=this.projection.project(l),P=this.scale(d);return this.transformation._transform(_,P)},pointToLatLng:function(l,d){var _=this.scale(d),P=this.transformation.untransform(l,_);return this.projection.unproject(P)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var d=this.projection.bounds,_=this.scale(l),P=this.transformation.transform(d.min,_),R=this.transformation.transform(d.max,_);return new Y(P,R)},infinite:!1,wrapLatLng:function(l){var d=this.wrapLng?m(l.lng,this.wrapLng,!0):l.lng,_=this.wrapLat?m(l.lat,this.wrapLat,!0):l.lat,P=l.alt;return new Oe(_,d,P)},wrapLatLngBounds:function(l){var d=l.getCenter(),_=this.wrapLatLng(d),P=d.lat-_.lat,R=d.lng-_.lng;if(P===0&&R===0)return l;var W=l.getSouthWest(),Q=l.getNorthEast(),oe=new Oe(W.lat-P,W.lng-R),de=new Oe(Q.lat-P,Q.lng-R);return new xe(oe,de)}},Ye=i({},st,{wrapLng:[-180,180],R:6371e3,distance:function(l,d){var _=Math.PI/180,P=l.lat*_,R=d.lat*_,W=Math.sin((d.lat-l.lat)*_/2),Q=Math.sin((d.lng-l.lng)*_/2),oe=W*W+Math.cos(P)*Math.cos(R)*Q*Q,de=2*Math.atan2(Math.sqrt(oe),Math.sqrt(1-oe));return this.R*de}}),Pe=6378137,Ke={R:Pe,MAX_LATITUDE:85.0511287798,project:function(l){var d=Math.PI/180,_=this.MAX_LATITUDE,P=Math.max(Math.min(_,l.lat),-_),R=Math.sin(P*d);return new ee(this.R*l.lng*d,this.R*Math.log((1+R)/(1-R))/2)},unproject:function(l){var d=180/Math.PI;return new Oe((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*d,l.x*d/this.R)},bounds:(function(){var l=Pe*Math.PI;return new Y([-l,-l],[l,l])})()};function rt(l,d,_,P){if(D(l)){this._a=l[0],this._b=l[1],this._c=l[2],this._d=l[3];return}this._a=l,this._b=d,this._c=_,this._d=P}rt.prototype={transform:function(l,d){return this._transform(l.clone(),d)},_transform:function(l,d){return d=d||1,l.x=d*(this._a*l.x+this._b),l.y=d*(this._c*l.y+this._d),l},untransform:function(l,d){return d=d||1,new ee((l.x/d-this._b)/this._a,(l.y/d-this._d)/this._c)}};function be(l,d,_,P){return new rt(l,d,_,P)}var xt=i({},Ye,{code:"EPSG:3857",projection:Ke,transformation:(function(){var l=.5/(Math.PI*Ke.R);return be(l,.5,-l,.5)})()}),ft=i({},xt,{code:"EPSG:900913"});function Xt(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function zt(l,d){var _="",P,R,W,Q,oe,de;for(P=0,W=l.length;P<W;P++){for(oe=l[P],R=0,Q=oe.length;R<Q;R++)de=oe[R],_+=(R?"L":"M")+de.x+" "+de.y;_+=d?ze.svg?"z":"x":""}return _||"M0 0"}var Jt=document.documentElement.style,Un="ActiveXObject"in window,Ut=Un&&!document.addEventListener,qt="msLaunchUri"in navigator&&!("documentMode"in document),gn=Nn("webkit"),_r=Nn("android"),Gi=Nn("android 2")||Nn("android 3"),Zs=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Si=_r&&Nn("Google")&&Zs<537&&!("AudioNode"in window),Xs=!!window.opera,Ys=!qt&&Nn("chrome"),Da=Nn("gecko")&&!gn&&!Xs&&!Un,sh=!Ys&&Nn("safari"),cs=Nn("phantom"),ja="OTransition"in Jt,oh=navigator.platform.indexOf("Win")===0,Va=Un&&"transition"in Jt,hs="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Gi,su="MozPerspective"in Jt,Pi=!window.L_DISABLE_3D&&(Va||hs||su)&&!ja&&!cs,Wi=typeof orientation<"u"||Nn("mobile"),fs=Wi&&gn,ou=Wi&&hs,Hi=!window.PointerEvent&&window.MSPointerEvent,Ki=!!(window.PointerEvent||Hi),rn="ontouchstart"in window||!!window.TouchEvent,Rl=!window.L_NO_TOUCH&&(rn||Ki),ds=Wi&&Xs,ps=Wi&&Da,uh=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,lh=(function(){var l=!1;try{var d=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",p,d),window.removeEventListener("testPassiveEventSupport",p,d)}catch{}return l})(),Zi=(function(){return!!document.createElement("canvas").getContext})(),uu=!!(document.createElementNS&&Xt("svg").createSVGRect),Qs=!!uu&&(function(){var l=document.createElement("div");return l.innerHTML="<svg/>",(l.firstChild&&l.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),ms=!uu&&(function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var d=l.firstChild;return d.style.behavior="url(#default#VML)",d&&typeof d.adj=="object"}catch{return!1}})(),gs=navigator.platform.indexOf("Mac")===0,ch=navigator.platform.indexOf("Linux")===0;function Nn(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var ze={ie:Un,ielt9:Ut,edge:qt,webkit:gn,android:_r,android23:Gi,androidStock:Si,opera:Xs,chrome:Ys,gecko:Da,safari:sh,phantom:cs,opera12:ja,win:oh,ie3d:Va,webkit3d:hs,gecko3d:su,any3d:Pi,mobile:Wi,mobileWebkit:fs,mobileWebkit3d:ou,msPointer:Hi,pointer:Ki,touch:Rl,touchNative:rn,mobileOpera:ds,mobileGecko:ps,retina:uh,passiveEvents:lh,canvas:Zi,svg:uu,vml:ms,inlineSvg:Qs,mac:gs,linux:ch},Js=ze.msPointer?"MSPointerDown":"pointerdown",Fr=ze.msPointer?"MSPointerMove":"pointermove",kl=ze.msPointer?"MSPointerUp":"pointerup",Nl=ze.msPointer?"MSPointerCancel":"pointercancel",eo={touchstart:Js,touchmove:Fr,touchend:kl,touchcancel:Nl},ii={touchstart:Yt,touchmove:ai,touchend:ai,touchcancel:ai},Xi={},Ll=!1;function hh(l,d,_){return d==="touchstart"&&ro(),ii[d]?(_=ii[d].bind(this,_),l.addEventListener(eo[d],_,!1),_):(console.warn("wrong event specified:",d),p)}function fh(l,d,_){if(!eo[d]){console.warn("wrong event specified:",d);return}l.removeEventListener(eo[d],_,!1)}function to(l){Xi[l.pointerId]=l}function Dl(l){Xi[l.pointerId]&&(Xi[l.pointerId]=l)}function no(l){delete Xi[l.pointerId]}function ro(){Ll||(document.addEventListener(Js,to,!0),document.addEventListener(Fr,Dl,!0),document.addEventListener(kl,no,!0),document.addEventListener(Nl,no,!0),Ll=!0)}function ai(l,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){d.touches=[];for(var _ in Xi)d.touches.push(Xi[_]);d.changedTouches=[d],l(d)}}function Yt(l,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&en(d),ai(l,d)}function Sd(l){var d={},_,P;for(P in l)_=l[P],d[P]=_&&_.bind?_.bind(l):_;return l=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}var lu=200;function jl(l,d){l.addEventListener("dblclick",d);var _=0,P;function R(W){if(W.detail!==1){P=W.detail;return}if(!(W.pointerType==="mouse"||W.sourceCapabilities&&!W.sourceCapabilities.firesTouchEvents)){var Q=ta(W);if(!(Q.some(function(de){return de instanceof HTMLLabelElement&&de.attributes.for})&&!Q.some(function(de){return de instanceof HTMLInputElement||de instanceof HTMLSelectElement}))){var oe=Date.now();oe-_<=lu?(P++,P===2&&d(Sd(W))):P=1,_=oe}}}return l.addEventListener("click",R),{dblclick:d,simDblclick:R}}function io(l,d){l.removeEventListener("dblclick",d.dblclick),l.removeEventListener("click",d.simDblclick)}var ao=_s(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Yi=_s(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ys=Yi==="webkitTransition"||Yi==="OTransition"?Yi+"End":"transitionend";function wr(l){return typeof l=="string"?document.getElementById(l):l}function vs(l,d){var _=l.style[d]||l.currentStyle&&l.currentStyle[d];if((!_||_==="auto")&&document.defaultView){var P=document.defaultView.getComputedStyle(l,null);_=P?P[d]:null}return _==="auto"?null:_}function lt(l,d,_){var P=document.createElement(l);return P.className=d||"",_&&_.appendChild(P),P}function Pt(l){var d=l.parentNode;d&&d.removeChild(l)}function ur(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function si(l){var d=l.parentNode;d&&d.lastChild!==l&&d.appendChild(l)}function lr(l){var d=l.parentNode;d&&d.firstChild!==l&&d.insertBefore(l,d.firstChild)}function Qi(l,d){if(l.classList!==void 0)return l.classList.contains(d);var _=Ji(l);return _.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(_)}function Be(l,d){if(l.classList!==void 0)for(var _=E(d),P=0,R=_.length;P<R;P++)l.classList.add(_[P]);else if(!Qi(l,d)){var W=Ji(l);Fa(l,(W?W+" ":"")+d)}}function kt(l,d){l.classList!==void 0?l.classList.remove(d):Fa(l,b((" "+Ji(l)+" ").replace(" "+d+" "," ")))}function Fa(l,d){l.className.baseVal===void 0?l.className=d:l.className.baseVal=d}function Ji(l){return l.correspondingElement&&(l=l.correspondingElement),l.className.baseVal===void 0?l.className:l.className.baseVal}function er(l,d){"opacity"in l.style?l.style.opacity=d:"filter"in l.style&&Vl(l,d)}function Vl(l,d){var _=!1,P="DXImageTransform.Microsoft.Alpha";try{_=l.filters.item(P)}catch{if(d===1)return}d=Math.round(d*100),_?(_.Enabled=d!==100,_.Opacity=d):l.style.filter+=" progid:"+P+"(opacity="+d+")"}function _s(l){for(var d=document.documentElement.style,_=0;_<l.length;_++)if(l[_]in d)return l[_];return!1}function Br(l,d,_){var P=d||new ee(0,0);l.style[ao]=(ze.ie3d?"translate("+P.x+"px,"+P.y+"px)":"translate3d("+P.x+"px,"+P.y+"px,0)")+(_?" scale("+_+")":"")}function un(l,d){l._leaflet_pos=d,ze.any3d?Br(l,d):(l.style.left=d.x+"px",l.style.top=d.y+"px")}function Ti(l){return l._leaflet_pos||new ee(0,0)}var pt,br,so;if("onselectstart"in document)pt=function(){et(window,"selectstart",en)},br=function(){Nt(window,"selectstart",en)};else{var ea=_s(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);pt=function(){if(ea){var l=document.documentElement.style;so=l[ea],l[ea]="none"}},br=function(){ea&&(document.documentElement.style[ea]=so,so=void 0)}}function oo(){et(window,"dragstart",en)}function uo(){Nt(window,"dragstart",en)}var ws,oi;function bs(l){for(;l.tabIndex===-1;)l=l.parentNode;l.style&&($r(),ws=l,oi=l.style.outlineStyle,l.style.outlineStyle="none",et(window,"keydown",$r))}function $r(){ws&&(ws.style.outlineStyle=oi,ws=void 0,oi=void 0,Nt(window,"keydown",$r))}function Ai(l){do l=l.parentNode;while((!l.offsetWidth||!l.offsetHeight)&&l!==document.body);return l}function Mn(l){var d=l.getBoundingClientRect();return{x:d.width/l.offsetWidth||1,y:d.height/l.offsetHeight||1,boundingClientRect:d}}var lo={__proto__:null,TRANSFORM:ao,TRANSITION:Yi,TRANSITION_END:ys,get:wr,getStyle:vs,create:lt,remove:Pt,empty:ur,toFront:si,toBack:lr,hasClass:Qi,addClass:Be,removeClass:kt,setClass:Fa,getClass:Ji,setOpacity:er,testProp:_s,setTransform:Br,setPosition:un,getPosition:Ti,get disableTextSelection(){return pt},get enableTextSelection(){return br},disableImageDrag:oo,enableImageDrag:uo,preventOutline:bs,restoreOutline:$r,getSizedParentNode:Ai,getScale:Mn};function et(l,d,_,P){if(d&&typeof d=="object")for(var R in d)cu(l,R,d[R],_);else{d=E(d);for(var W=0,Q=d.length;W<Q;W++)cu(l,d[W],_,P)}return this}var ln="_leaflet_events";function Nt(l,d,_,P){if(arguments.length===1)Ba(l),delete l[ln];else if(d&&typeof d=="object")for(var R in d)xs(l,R,d[R],_);else if(d=E(d),arguments.length===2)Ba(l,function(oe){return $(d,oe)!==-1});else for(var W=0,Q=d.length;W<Q;W++)xs(l,d[W],_,P);return this}function Ba(l,d){for(var _ in l[ln]){var P=_.split(/\d/)[0];(!d||d(P))&&xs(l,P,null,null,_)}}var zr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function cu(l,d,_,P){var R=d+c(_)+(P?"_"+c(P):"");if(l[ln]&&l[ln][R])return this;var W=function(oe){return _.call(P||l,oe||window.event)},Q=W;!ze.touchNative&&ze.pointer&&d.indexOf("touch")===0?W=hh(l,d,W):ze.touch&&d==="dblclick"?W=jl(l,W):"addEventListener"in l?d==="touchstart"||d==="touchmove"||d==="wheel"||d==="mousewheel"?l.addEventListener(zr[d]||d,W,ze.passiveEvents?{passive:!1}:!1):d==="mouseenter"||d==="mouseleave"?(W=function(oe){oe=oe||window.event,ho(l,oe)&&Q(oe)},l.addEventListener(zr[d],W,!1)):l.addEventListener(d,Q,!1):l.attachEvent("on"+d,W),l[ln]=l[ln]||{},l[ln][R]=W}function xs(l,d,_,P,R){R=R||d+c(_)+(P?"_"+c(P):"");var W=l[ln]&&l[ln][R];if(!W)return this;!ze.touchNative&&ze.pointer&&d.indexOf("touch")===0?fh(l,d,W):ze.touch&&d==="dblclick"?io(l,W):"removeEventListener"in l?l.removeEventListener(zr[d]||d,W,!1):l.detachEvent("on"+d,W),l[ln][R]=null}function Et(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function hu(l){return cu(l,"wheel",Et),this}function co(l){return et(l,"mousedown touchstart dblclick contextmenu",Et),l._leaflet_disable_click=!0,this}function en(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function xr(l){return en(l),Et(l),this}function ta(l){if(l.composedPath)return l.composedPath();for(var d=[],_=l.target;_;)d.push(_),_=_.parentNode;return d}function na(l,d){if(!d)return new ee(l.clientX,l.clientY);var _=Mn(d),P=_.boundingClientRect;return new ee((l.clientX-P.left)/_.x-d.clientLeft,(l.clientY-P.top)/_.y-d.clientTop)}var ra=ze.linux&&ze.chrome?window.devicePixelRatio:ze.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Fl(l){return ze.edge?l.wheelDeltaY/2:l.deltaY&&l.deltaMode===0?-l.deltaY/ra:l.deltaY&&l.deltaMode===1?-l.deltaY*20:l.deltaY&&l.deltaMode===2?-l.deltaY*60:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?-l.detail*20:l.detail?l.detail/-32765*60:0}function ho(l,d){var _=d.relatedTarget;if(!_)return!0;try{for(;_&&_!==l;)_=_.parentNode}catch{return!1}return _!==l}var ia={__proto__:null,on:et,off:Nt,stopPropagation:Et,disableScrollPropagation:hu,disableClickPropagation:co,preventDefault:en,stop:xr,getPropagationPath:ta,getMousePosition:na,getWheelDelta:Fl,isExternalTarget:ho,addListener:et,removeListener:Nt},fo=ye.extend({run:function(l,d,_,P){this.stop(),this._el=l,this._inProgress=!0,this._duration=_||.25,this._easeOutPower=1/Math.max(P||.5,.2),this._startPos=Ti(l),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=z(this._animate,this),this._step()},_step:function(l){var d=+new Date-this._startTime,_=this._duration*1e3;d<_?this._runFrame(this._easeOut(d/_),l):(this._runFrame(1),this._complete())},_runFrame:function(l,d){var _=this._startPos.add(this._offset.multiplyBy(l));d&&_._round(),un(this._el,_),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),mt=ye.extend({options:{crs:xt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,d){d=S(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),d.zoom!==void 0&&(this._zoom=this._limitZoom(d.zoom)),d.center&&d.zoom!==void 0&&this.setView(Re(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Yi&&ze.any3d&&!ze.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),et(this._proxy,ys,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,d,_){if(d=d===void 0?this._zoom:this._limitZoom(d),l=this._limitCenter(Re(l),d,this.options.maxBounds),_=_||{},this._stop(),this._loaded&&!_.reset&&_!==!0){_.animate!==void 0&&(_.zoom=i({animate:_.animate},_.zoom),_.pan=i({animate:_.animate,duration:_.duration},_.pan));var P=this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,d,_.zoom):this._tryAnimatedPan(l,_.pan);if(P)return clearTimeout(this._sizeTimer),this}return this._resetView(l,d,_.pan&&_.pan.noMoveStart),this},setZoom:function(l,d){return this._loaded?this.setView(this.getCenter(),l,{zoom:d}):(this._zoom=l,this)},zoomIn:function(l,d){return l=l||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+l,d)},zoomOut:function(l,d){return l=l||(ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-l,d)},setZoomAround:function(l,d,_){var P=this.getZoomScale(d),R=this.getSize().divideBy(2),W=l instanceof ee?l:this.latLngToContainerPoint(l),Q=W.subtract(R).multiplyBy(1-1/P),oe=this.containerPointToLatLng(R.add(Q));return this.setView(oe,d,{zoom:_})},_getBoundsCenterZoom:function(l,d){d=d||{},l=l.getBounds?l.getBounds():Me(l);var _=ie(d.paddingTopLeft||d.padding||[0,0]),P=ie(d.paddingBottomRight||d.padding||[0,0]),R=this.getBoundsZoom(l,!1,_.add(P));if(R=typeof d.maxZoom=="number"?Math.min(d.maxZoom,R):R,R===1/0)return{center:l.getCenter(),zoom:R};var W=P.subtract(_).divideBy(2),Q=this.project(l.getSouthWest(),R),oe=this.project(l.getNorthEast(),R),de=this.unproject(Q.add(oe).divideBy(2).add(W),R);return{center:de,zoom:R}},fitBounds:function(l,d){if(l=Me(l),!l.isValid())throw new Error("Bounds are not valid.");var _=this._getBoundsCenterZoom(l,d);return this.setView(_.center,_.zoom,d)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,d){return this.setView(l,this._zoom,{pan:d})},panBy:function(l,d){if(l=ie(l).round(),d=d||{},!l.x&&!l.y)return this.fire("moveend");if(d.animate!==!0&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new fo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),d.animate!==!1){Be(this._mapPane,"leaflet-pan-anim");var _=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,_,d.duration||.25,d.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,d,_){if(_=_||{},_.animate===!1||!ze.any3d)return this.setView(l,d,_);this._stop();var P=this.project(this.getCenter()),R=this.project(l),W=this.getSize(),Q=this._zoom;l=Re(l),d=d===void 0?Q:d;var oe=Math.max(W.x,W.y),de=oe*this.getZoomScale(Q,d),we=R.distanceTo(P)||1,Fe=1.42,Je=Fe*Fe;function dt(jt){var Cu=jt?-1:1,A1=jt?de:oe,I1=de*de-oe*oe+Cu*Je*Je*we*we,_o=2*A1*Je*we,wo=I1/_o,bo=Math.sqrt(wo*wo+1)-wo,Sh=bo<1e-9?-18:Math.log(bo);return Sh}function Gn(jt){return(Math.exp(jt)-Math.exp(-jt))/2}function Dn(jt){return(Math.exp(jt)+Math.exp(-jt))/2}function Hr(jt){return Gn(jt)/Dn(jt)}var Pr=dt(0);function Iu(jt){return oe*(Dn(Pr)/Dn(Pr+Fe*jt))}function Dd(jt){return oe*(Dn(Pr)*Hr(Pr+Fe*jt)-Gn(Pr))/Je}function Ms(jt){return 1-Math.pow(1-jt,1.5)}var $g=Date.now(),vo=(dt(1)-Pr)/Fe,ha=_.duration?1e3*_.duration:1e3*vo*.8;function Mu(){var jt=(Date.now()-$g)/ha,Cu=Ms(jt)*vo;jt<=1?(this._flyToFrame=z(Mu,this),this._move(this.unproject(P.add(R.subtract(P).multiplyBy(Dd(Cu)/we)),Q),this.getScaleZoom(oe/Iu(Cu),Q),{flyTo:!0})):this._move(l,d)._moveEnd(!0)}return this._moveStart(!0,_.noMoveStart),Mu.call(this),this},flyToBounds:function(l,d){var _=this._getBoundsCenterZoom(l,d);return this.flyTo(_.center,_.zoom,d)},setMaxBounds:function(l){return l=Me(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var d=this.options.minZoom;return this.options.minZoom=l,this._loaded&&d!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var d=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&d!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,d){this._enforcingBounds=!0;var _=this.getCenter(),P=this._limitCenter(_,this._zoom,Me(l));return _.equals(P)||this.panTo(P,d),this._enforcingBounds=!1,this},panInside:function(l,d){d=d||{};var _=ie(d.paddingTopLeft||d.padding||[0,0]),P=ie(d.paddingBottomRight||d.padding||[0,0]),R=this.project(this.getCenter()),W=this.project(l),Q=this.getPixelBounds(),oe=ne([Q.min.add(_),Q.max.subtract(P)]),de=oe.getSize();if(!oe.contains(W)){this._enforcingBounds=!0;var we=W.subtract(oe.getCenter()),Fe=oe.extend(W).getSize().subtract(de);R.x+=we.x<0?-Fe.x:Fe.x,R.y+=we.y<0?-Fe.y:Fe.y,this.panTo(this.unproject(R),d),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=i({animate:!1,pan:!0},l===!0?{animate:!0}:l);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var _=this.getSize(),P=d.divideBy(2).round(),R=_.divideBy(2).round(),W=P.subtract(R);return!W.x&&!W.y?this:(l.animate&&l.pan?this.panBy(W):(l.pan&&this._rawPanBy(W),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:_}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=i({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=s(this._handleGeolocationResponse,this),_=s(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,_,l):navigator.geolocation.getCurrentPosition(d,_,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var d=l.code,_=l.message||(d===1?"permission denied":d===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+_+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var d=l.coords.latitude,_=l.coords.longitude,P=new Oe(d,_),R=P.toBounds(l.coords.accuracy*2),W=this._locateOptions;if(W.setView){var Q=this.getBoundsZoom(R);this.setView(P,W.maxZoom?Math.min(Q,W.maxZoom):Q)}var oe={latlng:P,bounds:R,timestamp:l.timestamp};for(var de in l.coords)typeof l.coords[de]=="number"&&(oe[de]=l.coords[de]);this.fire("locationfound",oe)}},addHandler:function(l,d){if(!d)return this;var _=this[l]=new d(this);return this._handlers.push(_),this.options[l]&&_.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Pt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var l;for(l in this._layers)this._layers[l].remove();for(l in this._panes)Pt(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,d){var _="leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),P=lt("div",_,d||this._mapPane);return l&&(this._panes[l]=P),P},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds(),d=this.unproject(l.getBottomLeft()),_=this.unproject(l.getTopRight());return new xe(d,_)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,d,_){l=Me(l),_=ie(_||[0,0]);var P=this.getZoom()||0,R=this.getMinZoom(),W=this.getMaxZoom(),Q=l.getNorthWest(),oe=l.getSouthEast(),de=this.getSize().subtract(_),we=ne(this.project(oe,P),this.project(Q,P)).getSize(),Fe=ze.any3d?this.options.zoomSnap:1,Je=de.x/we.x,dt=de.y/we.y,Gn=d?Math.max(Je,dt):Math.min(Je,dt);return P=this.getScaleZoom(Gn,P),Fe&&(P=Math.round(P/(Fe/100))*(Fe/100),P=d?Math.ceil(P/Fe)*Fe:Math.floor(P/Fe)*Fe),Math.max(R,Math.min(W,P))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ee(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,d){var _=this._getTopLeftPoint(l,d);return new Y(_,_.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(l===void 0?this.getZoom():l)},getPane:function(l){return typeof l=="string"?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,d){var _=this.options.crs;return d=d===void 0?this._zoom:d,_.scale(l)/_.scale(d)},getScaleZoom:function(l,d){var _=this.options.crs;d=d===void 0?this._zoom:d;var P=_.zoom(l*_.scale(d));return isNaN(P)?1/0:P},project:function(l,d){return d=d===void 0?this._zoom:d,this.options.crs.latLngToPoint(Re(l),d)},unproject:function(l,d){return d=d===void 0?this._zoom:d,this.options.crs.pointToLatLng(ie(l),d)},layerPointToLatLng:function(l){var d=ie(l).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(l){var d=this.project(Re(l))._round();return d._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(Re(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(Me(l))},distance:function(l,d){return this.options.crs.distance(Re(l),Re(d))},containerPointToLayerPoint:function(l){return ie(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return ie(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var d=this.containerPointToLayerPoint(ie(l));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Re(l)))},mouseEventToContainerPoint:function(l){return na(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var d=this._container=wr(l);if(d){if(d._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");et(d,"scroll",this._onScroll,this),this._containerId=c(d)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&ze.any3d,Be(l,"leaflet-container"+(ze.touch?" leaflet-touch":"")+(ze.retina?" leaflet-retina":"")+(ze.ielt9?" leaflet-oldie":"")+(ze.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=vs(l,"position");d!=="absolute"&&d!=="relative"&&d!=="fixed"&&d!=="sticky"&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),un(this._mapPane,new ee(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Be(l.markerPane,"leaflet-zoom-hide"),Be(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,d,_){un(this._mapPane,new ee(0,0));var P=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var R=this._zoom!==d;this._moveStart(R,_)._move(l,d)._moveEnd(R),this.fire("viewreset"),P&&this.fire("load")},_moveStart:function(l,d){return l&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(l,d,_,P){d===void 0&&(d=this._zoom);var R=this._zoom!==d;return this._zoom=d,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),P?_&&_.pinch&&this.fire("zoom",_):((R||_&&_.pinch)&&this.fire("zoom",_),this.fire("move",_)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){un(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[c(this._container)]=this;var d=l?Nt:et;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),ze.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,d){for(var _=[],P,R=d==="mouseout"||d==="mouseover",W=l.target||l.srcElement,Q=!1;W;){if(P=this._targets[c(W)],P&&(d==="click"||d==="preclick")&&this._draggableMoved(P)){Q=!0;break}if(P&&P.listens(d,!0)&&(R&&!ho(W,l)||(_.push(P),R))||W===this._container)break;W=W.parentNode}return!_.length&&!Q&&!R&&this.listens(d,!0)&&(_=[this]),_},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var d=l.target||l.srcElement;if(!(!this._loaded||d._leaflet_disable_events||l.type==="click"&&this._isClickDisabled(d))){var _=l.type;_==="mousedown"&&bs(d),this._fireDOMEvent(l,_)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,d,_){if(l.type==="click"){var P=i({},l);P.type="preclick",this._fireDOMEvent(P,P.type,_)}var R=this._findEventTargets(l,d);if(_){for(var W=[],Q=0;Q<_.length;Q++)_[Q].listens(d,!0)&&W.push(_[Q]);R=W.concat(R)}if(R.length){d==="contextmenu"&&en(l);var oe=R[0],de={originalEvent:l};if(l.type!=="keypress"&&l.type!=="keydown"&&l.type!=="keyup"){var we=oe.getLatLng&&(!oe._radius||oe._radius<=10);de.containerPoint=we?this.latLngToContainerPoint(oe.getLatLng()):this.mouseEventToContainerPoint(l),de.layerPoint=this.containerPointToLayerPoint(de.containerPoint),de.latlng=we?oe.getLatLng():this.layerPointToLatLng(de.layerPoint)}for(Q=0;Q<R.length;Q++)if(R[Q].fire(d,de,!0),de.originalEvent._stopped||R[Q].options.bubblingMouseEvents===!1&&$(this._mouseEvents,d)!==-1)return}},_draggableMoved:function(l){return l=l.dragging&&l.dragging.enabled()?l:this,l.dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,d=this._handlers.length;l<d;l++)this._handlers[l].disable()},whenReady:function(l,d){return this._loaded?l.call(d||this,{target:this}):this.on("load",l,d),this},_getMapPanePos:function(){return Ti(this._mapPane)||new ee(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,d){var _=l&&d!==void 0?this._getNewPixelOrigin(l,d):this.getPixelOrigin();return _.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,d){var _=this.getSize()._divideBy(2);return this.project(l,d)._subtract(_)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,d,_){var P=this._getNewPixelOrigin(_,d);return this.project(l,d)._subtract(P)},_latLngBoundsToNewLayerBounds:function(l,d,_){var P=this._getNewPixelOrigin(_,d);return ne([this.project(l.getSouthWest(),d)._subtract(P),this.project(l.getNorthWest(),d)._subtract(P),this.project(l.getSouthEast(),d)._subtract(P),this.project(l.getNorthEast(),d)._subtract(P)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,d,_){if(!_)return l;var P=this.project(l,d),R=this.getSize().divideBy(2),W=new Y(P.subtract(R),P.add(R)),Q=this._getBoundsOffset(W,_,d);return Math.abs(Q.x)<=1&&Math.abs(Q.y)<=1?l:this.unproject(P.add(Q),d)},_limitOffset:function(l,d){if(!d)return l;var _=this.getPixelBounds(),P=new Y(_.min.add(l),_.max.add(l));return l.add(this._getBoundsOffset(P,d))},_getBoundsOffset:function(l,d,_){var P=ne(this.project(d.getNorthEast(),_),this.project(d.getSouthWest(),_)),R=P.min.subtract(l.min),W=P.max.subtract(l.max),Q=this._rebound(R.x,-W.x),oe=this._rebound(R.y,-W.y);return new ee(Q,oe)},_rebound:function(l,d){return l+d>0?Math.round(l-d)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(d))},_limitZoom:function(l){var d=this.getMinZoom(),_=this.getMaxZoom(),P=ze.any3d?this.options.zoomSnap:1;return P&&(l=Math.round(l/P)*P),Math.max(d,Math.min(_,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){kt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,d){var _=this._getCenterOffset(l)._trunc();return(d&&d.animate)!==!0&&!this.getSize().contains(_)?!1:(this.panBy(_,d),!0)},_createAnimProxy:function(){var l=this._proxy=lt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(d){var _=ao,P=this._proxy.style[_];Br(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),P===this._proxy.style[_]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Pt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),d=this.getZoom();Br(this._proxy,this.project(l,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,d,_){if(this._animatingZoom)return!0;if(_=_||{},!this._zoomAnimated||_.animate===!1||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var P=this.getZoomScale(d),R=this._getCenterOffset(l)._divideBy(1-1/P);return _.animate!==!0&&!this.getSize().contains(R)?!1:(z(function(){this._moveStart(!0,_.noMoveStart||!1)._animateZoom(l,d,!0)},this),!0)},_animateZoom:function(l,d,_,P){this._mapPane&&(_&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=d,Be(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:d,noUpdate:P}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&kt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ur(l,d){return new mt(l,d)}var tr=ae.extend({options:{position:"topright"},initialize:function(l){S(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var d=this._map;return d&&d.removeControl(this),this.options.position=l,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var d=this._container=this.onAdd(l),_=this.getPosition(),P=l._controlCorners[_];return Be(d,"leaflet-control"),_.indexOf("bottom")!==-1?P.insertBefore(d,P.firstChild):P.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Pt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),qr=function(l){return new tr(l)};mt.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},d="leaflet-",_=this._controlContainer=lt("div",d+"control-container",this._container);function P(R,W){var Q=d+R+" "+d+W;l[R+W]=lt("div",Q,_)}P("top","left"),P("top","right"),P("bottom","left"),P("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)Pt(this._controlCorners[l]);Pt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Bl=tr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,d,_,P){return _<P?-1:P<_?1:0}},initialize:function(l,d,_){S(this,_),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var P in l)this._addLayer(l[P],P);for(P in d)this._addLayer(d[P],P,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return tr.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,d){return this._addLayer(l,d),this._map?this._update():this},addOverlay:function(l,d){return this._addLayer(l,d,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var d=this._getLayer(c(l));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){Be(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(Be(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):kt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return kt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",d=this._container=lt("div",l),_=this.options.collapsed;d.setAttribute("aria-haspopup",!0),co(d),hu(d);var P=this._section=lt("section",l+"-list");_&&(this._map.on("click",this.collapse,this),et(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var R=this._layersLink=lt("a",l+"-toggle",d);R.href="#",R.title="Layers",R.setAttribute("role","button"),et(R,{keydown:function(W){W.keyCode===13&&this._expandSafely()},click:function(W){en(W),this._expandSafely()}},this),_||this.expand(),this._baseLayersList=lt("div",l+"-base",P),this._separator=lt("div",l+"-separator",P),this._overlaysList=lt("div",l+"-overlays",P),d.appendChild(P)},_getLayer:function(l){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&c(this._layers[d].layer)===l)return this._layers[d]},_addLayer:function(l,d,_){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:d,overlay:_}),this.options.sortLayers&&this._layers.sort(s(function(P,R){return this.options.sortFunction(P.layer,R.layer,P.name,R.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ur(this._baseLayersList),ur(this._overlaysList),this._layerControlInputs=[];var l,d,_,P,R=0;for(_=0;_<this._layers.length;_++)P=this._layers[_],this._addItem(P),d=d||P.overlay,l=l||!P.overlay,R+=P.overlay?0:1;return this.options.hideSingleBase&&(l=l&&R>1,this._baseLayersList.style.display=l?"":"none"),this._separator.style.display=d&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var d=this._getLayer(c(l.target)),_=d.overlay?l.type==="add"?"overlayadd":"overlayremove":l.type==="add"?"baselayerchange":null;_&&this._map.fire(_,d)},_createRadioElement:function(l,d){var _='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(d?' checked="checked"':"")+"/>",P=document.createElement("div");return P.innerHTML=_,P.firstChild},_addItem:function(l){var d=document.createElement("label"),_=this._map.hasLayer(l.layer),P;l.overlay?(P=document.createElement("input"),P.type="checkbox",P.className="leaflet-control-layers-selector",P.defaultChecked=_):P=this._createRadioElement("leaflet-base-layers_"+c(this),_),this._layerControlInputs.push(P),P.layerId=c(l.layer),et(P,"click",this._onInputClick,this);var R=document.createElement("span");R.innerHTML=" "+l.name;var W=document.createElement("span");d.appendChild(W),W.appendChild(P),W.appendChild(R);var Q=l.overlay?this._overlaysList:this._baseLayersList;return Q.appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var l=this._layerControlInputs,d,_,P=[],R=[];this._handlingClick=!0;for(var W=l.length-1;W>=0;W--)d=l[W],_=this._getLayer(d.layerId).layer,d.checked?P.push(_):d.checked||R.push(_);for(W=0;W<R.length;W++)this._map.hasLayer(R[W])&&this._map.removeLayer(R[W]);for(W=0;W<P.length;W++)this._map.hasLayer(P[W])||this._map.addLayer(P[W]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var l=this._layerControlInputs,d,_,P=this._map.getZoom(),R=l.length-1;R>=0;R--)d=l[R],_=this._getLayer(d.layerId).layer,d.disabled=_.options.minZoom!==void 0&&P<_.options.minZoom||_.options.maxZoom!==void 0&&P>_.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;this._preventClick=!0,et(l,"click",en),this.expand();var d=this;setTimeout(function(){Nt(l,"click",en),d._preventClick=!1})}}),po=function(l,d,_){return new Bl(l,d,_)},ui=tr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var d="leaflet-control-zoom",_=lt("div",d+" leaflet-bar"),P=this.options;return this._zoomInButton=this._createButton(P.zoomInText,P.zoomInTitle,d+"-in",_,this._zoomIn),this._zoomOutButton=this._createButton(P.zoomOutText,P.zoomOutTitle,d+"-out",_,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),_},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,d,_,P,R){var W=lt("a",_,P);return W.innerHTML=l,W.href="#",W.title=d,W.setAttribute("role","button"),W.setAttribute("aria-label",d),co(W),et(W,"click",xr),et(W,"click",R,this),et(W,"click",this._refocusOnMap,this),W},_updateDisabled:function(){var l=this._map,d="leaflet-disabled";kt(this._zoomInButton,d),kt(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(Be(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(Be(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});mt.mergeOptions({zoomControl:!0}),mt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ui,this.addControl(this.zoomControl))});var $l=function(l){return new ui(l)},qn=tr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var d="leaflet-control-scale",_=lt("div",d),P=this.options;return this._addScales(P,d+"-line",_),l.on(P.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),_},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,d,_){l.metric&&(this._mScale=lt("div",d,_)),l.imperial&&(this._iScale=lt("div",d,_))},_update:function(){var l=this._map,d=l.getSize().y/2,_=l.distance(l.containerPointToLatLng([0,d]),l.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(_)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var d=this._getRoundNum(l),_=d<1e3?d+" m":d/1e3+" km";this._updateScale(this._mScale,_,d/l)},_updateImperial:function(l){var d=l*3.2808399,_,P,R;d>5280?(_=d/5280,P=this._getRoundNum(_),this._updateScale(this._iScale,P+" mi",P/_)):(R=this._getRoundNum(d),this._updateScale(this._iScale,R+" ft",R/d))},_updateScale:function(l,d,_){l.style.width=Math.round(this.options.maxWidth*_)+"px",l.innerHTML=d},_getRoundNum:function(l){var d=Math.pow(10,(Math.floor(l)+"").length-1),_=l/d;return _=_>=10?10:_>=5?5:_>=3?3:_>=2?2:1,d*_}}),aa=function(l){return new qn(l)},mo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',sa=tr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ze.inlineSvg?mo+" ":"")+"Leaflet</a>"},initialize:function(l){S(this,l),this._attributions={}},onAdd:function(l){l.attributionControl=this,this._container=lt("div","leaflet-control-attribution"),co(this._container);for(var d in l._layers)l._layers[d].getAttribution&&this.addAttribution(l._layers[d].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var d in this._attributions)this._attributions[d]&&l.push(d);var _=[];this.options.prefix&&_.push(this.options.prefix),l.length&&_.push(l.join(", ")),this._container.innerHTML=_.join(' <span aria-hidden="true">|</span> ')}}});mt.mergeOptions({attributionControl:!0}),mt.addInitHook(function(){this.options.attributionControl&&new sa().addTo(this)});var fu=function(l){return new sa(l)};tr.Layers=Bl,tr.Zoom=ui,tr.Scale=qn,tr.Attribution=sa,qr.layers=po,qr.zoom=$l,qr.scale=aa,qr.attribution=fu;var cr=ae.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});cr.addTo=function(l,d){return l.addHandler(d,this),this};var du={Events:me},Er=ze.touch?"touchstart mousedown":"mousedown",Sr=ye.extend({options:{clickTolerance:3},initialize:function(l,d,_,P){S(this,P),this._element=l,this._dragStartTarget=d||l,this._preventOutline=_},enable:function(){this._enabled||(et(this._dragStartTarget,Er,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Sr._dragging===this&&this.finishDrag(!0),Nt(this._dragStartTarget,Er,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!Qi(this._element,"leaflet-zoom-anim"))){if(l.touches&&l.touches.length!==1){Sr._dragging===this&&this.finishDrag();return}if(!(Sr._dragging||l.shiftKey||l.which!==1&&l.button!==1&&!l.touches)&&(Sr._dragging=this,this._preventOutline&&bs(this._element),oo(),pt(),!this._moving)){this.fire("down");var d=l.touches?l.touches[0]:l,_=Ai(this._element);this._startPoint=new ee(d.clientX,d.clientY),this._startPos=Ti(this._element),this._parentScale=Mn(_);var P=l.type==="mousedown";et(document,P?"mousemove":"touchmove",this._onMove,this),et(document,P?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1){this._moved=!0;return}var d=l.touches&&l.touches.length===1?l.touches[0]:l,_=new ee(d.clientX,d.clientY)._subtract(this._startPoint);!_.x&&!_.y||Math.abs(_.x)+Math.abs(_.y)<this.options.clickTolerance||(_.x/=this._parentScale.x,_.y/=this._parentScale.y,en(l),this._moved||(this.fire("dragstart"),this._moved=!0,Be(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Be(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(_),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),un(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){kt(document.body,"leaflet-dragging"),this._lastTarget&&(kt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Nt(document,"mousemove touchmove",this._onMove,this),Nt(document,"mouseup touchend touchcancel",this._onUp,this),uo(),br();var d=this._moved&&this._moving;this._moving=!1,Sr._dragging=!1,d&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)})}});function pu(l,d,_){var P,R=[1,4,2,8],W,Q,oe,de,we,Fe,Je,dt;for(W=0,Fe=l.length;W<Fe;W++)l[W]._code=fe(l[W],d);for(oe=0;oe<4;oe++){for(Je=R[oe],P=[],W=0,Fe=l.length,Q=Fe-1;W<Fe;Q=W++)de=l[W],we=l[Q],de._code&Je?we._code&Je||(dt=se(we,de,Je,d,_),dt._code=fe(dt,d),P.push(dt)):(we._code&Je&&(dt=se(we,de,Je,d,_),dt._code=fe(dt,d),P.push(dt)),P.push(de));l=P}return l}function zl(l,d){var _,P,R,W,Q,oe,de,we,Fe;if(!l||l.length===0)throw new Error("latlngs not passed");Tt(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Je=Re([0,0]),dt=Me(l),Gn=dt.getNorthWest().distanceTo(dt.getSouthWest())*dt.getNorthEast().distanceTo(dt.getNorthWest());Gn<1700&&(Je=mu(l));var Dn=l.length,Hr=[];for(_=0;_<Dn;_++){var Pr=Re(l[_]);Hr.push(d.project(Re([Pr.lat-Je.lat,Pr.lng-Je.lng])))}for(oe=de=we=0,_=0,P=Dn-1;_<Dn;P=_++)R=Hr[_],W=Hr[P],Q=R.y*W.x-W.y*R.x,de+=(R.x+W.x)*Q,we+=(R.y+W.y)*Q,oe+=Q*3;oe===0?Fe=Hr[0]:Fe=[de/oe,we/oe];var Iu=d.unproject(ie(Fe));return Re([Iu.lat+Je.lat,Iu.lng+Je.lng])}function mu(l){for(var d=0,_=0,P=0,R=0;R<l.length;R++){var W=Re(l[R]);d+=W.lat,_+=W.lng,P++}return Re([d/P,_/P])}var gu={__proto__:null,clipPolygon:pu,polygonCenter:zl,centroid:mu};function Ln(l,d){if(!d||!l.length)return l.slice();var _=d*d;return l=I(l,_),l=Es(l,_),l}function Ul(l,d,_){return Math.sqrt(it(l,d,_,!0))}function dh(l,d,_){return it(l,d,_)}function Es(l,d){var _=l.length,P=typeof Uint8Array<"u"?Uint8Array:Array,R=new P(_);R[0]=R[_-1]=1,v(l,R,d,0,_-1);var W,Q=[];for(W=0;W<_;W++)R[W]&&Q.push(l[W]);return Q}function v(l,d,_,P,R){var W=0,Q,oe,de;for(oe=P+1;oe<=R-1;oe++)de=it(l[oe],l[P],l[R],!0),de>W&&(Q=oe,W=de);W>_&&(d[Q]=1,v(l,d,_,P,Q),v(l,d,_,Q,R))}function I(l,d){for(var _=[l[0]],P=1,R=0,W=l.length;P<W;P++)ke(l[P],l[R])>d&&(_.push(l[P]),R=P);return R<W-1&&_.push(l[W-1]),_}var F;function K(l,d,_,P,R){var W=P?F:fe(l,_),Q=fe(d,_),oe,de,we;for(F=Q;;){if(!(W|Q))return[l,d];if(W&Q)return!1;oe=W||Q,de=se(l,d,oe,_,R),we=fe(de,_),oe===W?(l=de,W=we):(d=de,Q=we)}}function se(l,d,_,P,R){var W=d.x-l.x,Q=d.y-l.y,oe=P.min,de=P.max,we,Fe;return _&8?(we=l.x+W*(de.y-l.y)/Q,Fe=de.y):_&4?(we=l.x+W*(oe.y-l.y)/Q,Fe=oe.y):_&2?(we=de.x,Fe=l.y+Q*(de.x-l.x)/W):_&1&&(we=oe.x,Fe=l.y+Q*(oe.x-l.x)/W),new ee(we,Fe,R)}function fe(l,d){var _=0;return l.x<d.min.x?_|=1:l.x>d.max.x&&(_|=2),l.y<d.min.y?_|=4:l.y>d.max.y&&(_|=8),_}function ke(l,d){var _=d.x-l.x,P=d.y-l.y;return _*_+P*P}function it(l,d,_,P){var R=d.x,W=d.y,Q=_.x-R,oe=_.y-W,de=Q*Q+oe*oe,we;return de>0&&(we=((l.x-R)*Q+(l.y-W)*oe)/de,we>1?(R=_.x,W=_.y):we>0&&(R+=Q*we,W+=oe*we)),Q=l.x-R,oe=l.y-W,P?Q*Q+oe*oe:new ee(R,W)}function Tt(l){return!D(l[0])||typeof l[0][0]!="object"&&typeof l[0][0]<"u"}function Ct(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Tt(l)}function yn(l,d){var _,P,R,W,Q,oe,de,we;if(!l||l.length===0)throw new Error("latlngs not passed");Tt(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Fe=Re([0,0]),Je=Me(l),dt=Je.getNorthWest().distanceTo(Je.getSouthWest())*Je.getNorthEast().distanceTo(Je.getNorthWest());dt<1700&&(Fe=mu(l));var Gn=l.length,Dn=[];for(_=0;_<Gn;_++){var Hr=Re(l[_]);Dn.push(d.project(Re([Hr.lat-Fe.lat,Hr.lng-Fe.lng])))}for(_=0,P=0;_<Gn-1;_++)P+=Dn[_].distanceTo(Dn[_+1])/2;if(P===0)we=Dn[0];else for(_=0,W=0;_<Gn-1;_++)if(Q=Dn[_],oe=Dn[_+1],R=Q.distanceTo(oe),W+=R,W>P){de=(W-P)/R,we=[oe.x-de*(oe.x-Q.x),oe.y-de*(oe.y-Q.y)];break}var Pr=d.unproject(ie(we));return Re([Pr.lat+Fe.lat,Pr.lng+Fe.lng])}var Gr={__proto__:null,simplify:Ln,pointToSegmentDistance:Ul,closestPointOnSegment:dh,clipSegment:K,_getEdgeIntersection:se,_getBitCode:fe,_sqClosestPointOnSegment:it,isFlat:Tt,_flat:Ct,polylineCenter:yn},Ii={project:function(l){return new ee(l.lng,l.lat)},unproject:function(l){return new Oe(l.y,l.x)},bounds:new Y([-180,-90],[180,90])},li={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Y([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(l){var d=Math.PI/180,_=this.R,P=l.lat*d,R=this.R_MINOR/_,W=Math.sqrt(1-R*R),Q=W*Math.sin(P),oe=Math.tan(Math.PI/4-P/2)/Math.pow((1-Q)/(1+Q),W/2);return P=-_*Math.log(Math.max(oe,1e-10)),new ee(l.lng*d*_,P)},unproject:function(l){for(var d=180/Math.PI,_=this.R,P=this.R_MINOR/_,R=Math.sqrt(1-P*P),W=Math.exp(-l.y/_),Q=Math.PI/2-2*Math.atan(W),oe=0,de=.1,we;oe<15&&Math.abs(de)>1e-7;oe++)we=R*Math.sin(Q),we=Math.pow((1-we)/(1+we),R/2),de=Math.PI/2-2*Math.atan(W*we)-Q,Q+=de;return new Oe(Q*d,l.x*d/_)}},oa={__proto__:null,LonLat:Ii,Mercator:li,SphericalMercator:Ke},yu=i({},Ye,{code:"EPSG:3395",projection:li,transformation:(function(){var l=.5/(Math.PI*li.R);return be(l,.5,-l,.5)})()}),vu=i({},Ye,{code:"EPSG:4326",projection:Ii,transformation:be(1/180,1,-1/180,.5)}),x1=i({},st,{projection:Ii,transformation:be(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,d){var _=d.lng-l.lng,P=d.lat-l.lat;return Math.sqrt(_*_+P*P)},infinite:!0});st.Earth=Ye,st.EPSG3395=yu,st.EPSG3857=xt,st.EPSG900913=ft,st.EPSG4326=vu,st.Simple=x1;var Mi=ye.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[c(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[c(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var d=l.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var _=this.getEvents();d.on(_,this),this.once("remove",function(){d.off(_,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});mt.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var d=c(l);return this._layers[d]?this:(this._layers[d]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l),this)},removeLayer:function(l){var d=c(l);return this._layers[d]?(this._loaded&&l.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return c(l)in this._layers},eachLayer:function(l,d){for(var _ in this._layers)l.call(d,this._layers[_]);return this},_addLayers:function(l){l=l?D(l)?l:[l]:[];for(var d=0,_=l.length;d<_;d++)this.addLayer(l[d])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[c(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var d=c(l);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,d=-1/0,_=this._getZoomSpan();for(var P in this._zoomBoundLayers){var R=this._zoomBoundLayers[P].options;l=R.minZoom===void 0?l:Math.min(l,R.minZoom),d=R.maxZoom===void 0?d:Math.max(d,R.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=l===1/0?void 0:l,_!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ss=Mi.extend({initialize:function(l,d){S(this,d),this._layers={};var _,P;if(l)for(_=0,P=l.length;_<P;_++)this.addLayer(l[_])},addLayer:function(l){var d=this.getLayerId(l);return this._layers[d]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var d=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(l){var d=typeof l=="number"?l:this.getLayerId(l);return d in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var d=Array.prototype.slice.call(arguments,1),_,P;for(_ in this._layers)P=this._layers[_],P[l]&&P[l].apply(P,d);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,d){for(var _ in this._layers)l.call(d,this._layers[_]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return c(l)}}),ql=function(l,d){return new Ss(l,d)},$a=Ss.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),Ss.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),Ss.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new xe;for(var d in this._layers){var _=this._layers[d];l.extend(_.getBounds?_.getBounds():_.getLatLng())}return l}}),Mg=function(l,d){return new $a(l,d)},go=ae.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){S(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,d){var _=this._getIconUrl(l);if(!_){if(l==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var P=this._createImg(_,d&&d.tagName==="IMG"?d:null);return this._setIconStyles(P,l),(this.options.crossOrigin||this.options.crossOrigin==="")&&(P.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),P},_setIconStyles:function(l,d){var _=this.options,P=_[d+"Size"];typeof P=="number"&&(P=[P,P]);var R=ie(P),W=ie(d==="shadow"&&_.shadowAnchor||_.iconAnchor||R&&R.divideBy(2,!0));l.className="leaflet-marker-"+d+" "+(_.className||""),W&&(l.style.marginLeft=-W.x+"px",l.style.marginTop=-W.y+"px"),R&&(l.style.width=R.x+"px",l.style.height=R.y+"px")},_createImg:function(l,d){return d=d||document.createElement("img"),d.src=l,d},_getIconUrl:function(l){return ze.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});function Cg(l){return new go(l)}var _u=go.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return typeof _u.imagePath!="string"&&(_u.imagePath=this._detectIconPath()),(this.options.imagePath||_u.imagePath)+go.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var d=function(_,P,R){var W=P.exec(_);return W&&W[R]};return l=d(l,/^url\((['"])?(.+)\1\)$/,2),l&&d(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=lt("div","leaflet-default-icon-path",document.body),d=vs(l,"background-image")||vs(l,"backgroundImage");if(document.body.removeChild(l),d=this._stripUrl(d),d)return d;var _=document.querySelector('link[href$="leaflet.css"]');return _?_.href.substring(0,_.href.length-11-1):""}}),Pd=cr.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new Sr(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Be(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&kt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var d=this._marker,_=d._map,P=this._marker.options.autoPanSpeed,R=this._marker.options.autoPanPadding,W=Ti(d._icon),Q=_.getPixelBounds(),oe=_.getPixelOrigin(),de=ne(Q.min._subtract(oe).add(R),Q.max._subtract(oe).subtract(R));if(!de.contains(W)){var we=ie((Math.max(de.max.x,W.x)-de.max.x)/(Q.max.x-de.max.x)-(Math.min(de.min.x,W.x)-de.min.x)/(Q.min.x-de.min.x),(Math.max(de.max.y,W.y)-de.max.y)/(Q.max.y-de.max.y)-(Math.min(de.min.y,W.y)-de.min.y)/(Q.min.y-de.min.y)).multiplyBy(P);_.panBy(we,{animate:!1}),this._draggable._newPos._add(we),this._draggable._startPos._add(we),un(d._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=z(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=z(this._adjustPan.bind(this,l)))},_onDrag:function(l){var d=this._marker,_=d._shadow,P=Ti(d._icon),R=d._map.layerPointToLatLng(P);_&&un(_,P),d._latlng=R,l.latlng=R,l.oldLatLng=this._oldLatLng,d.fire("move",l).fire("drag",l)},_onDragEnd:function(l){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),za=Mi.extend({options:{icon:new _u,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,d){S(this,d),this._latlng=Re(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var d=this._latlng;return this._latlng=Re(l),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),_=l.icon.createIcon(this._icon),P=!1;_!==this._icon&&(this._icon&&this._removeIcon(),P=!0,l.title&&(_.title=l.title),_.tagName==="IMG"&&(_.alt=l.alt||"")),Be(_,d),l.keyboard&&(_.tabIndex="0",_.setAttribute("role","button")),this._icon=_,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&et(_,"focus",this._panOnFocus,this);var R=l.icon.createShadow(this._shadow),W=!1;R!==this._shadow&&(this._removeShadow(),W=!0),R&&(Be(R,d),R.alt=""),this._shadow=R,l.opacity<1&&this._updateOpacity(),P&&this.getPane().appendChild(this._icon),this._initInteraction(),R&&W&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Nt(this._icon,"focus",this._panOnFocus,this),Pt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Pt(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&un(this._icon,l),this._shadow&&un(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var d=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(Be(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Pd)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Pd(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&er(this._icon,l),this._shadow&&er(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var d=this.options.icon.options,_=d.iconSize?ie(d.iconSize):ie(0,0),P=d.iconAnchor?ie(d.iconAnchor):ie(0,0);l.panInside(this._latlng,{paddingTopLeft:P,paddingBottomRight:_.subtract(P)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function E1(l,d){return new za(l,d)}var Ps=Mi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return S(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ph=Ps.extend({options:{fill:!0,radius:10},initialize:function(l,d){S(this,d),this._latlng=Re(l),this._radius=this.options.radius},setLatLng:function(l){var d=this._latlng;return this._latlng=Re(l),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var d=l&&l.radius||this._radius;return Ps.prototype.setStyle.call(this,l),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,d=this._radiusY||l,_=this._clickTolerance(),P=[l+_,d+_];this._pxBounds=new Y(this._point.subtract(P),this._point.add(P))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Og(l,d){return new ph(l,d)}var mh=ph.extend({initialize:function(l,d,_){if(typeof d=="number"&&(d=i({},_,{radius:d})),S(this,d),this._latlng=Re(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new xe(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:Ps.prototype.setStyle,_project:function(){var l=this._latlng.lng,d=this._latlng.lat,_=this._map,P=_.options.crs;if(P.distance===Ye.distance){var R=Math.PI/180,W=this._mRadius/Ye.R/R,Q=_.project([d+W,l]),oe=_.project([d-W,l]),de=Q.add(oe).divideBy(2),we=_.unproject(de).lat,Fe=Math.acos((Math.cos(W*R)-Math.sin(d*R)*Math.sin(we*R))/(Math.cos(d*R)*Math.cos(we*R)))/R;(isNaN(Fe)||Fe===0)&&(Fe=W/Math.cos(Math.PI/180*d)),this._point=de.subtract(_.getPixelOrigin()),this._radius=isNaN(Fe)?0:de.x-_.project([we,l-Fe]).x,this._radiusY=de.y-Q.y}else{var Je=P.unproject(P.project(this._latlng).subtract([this._mRadius,0]));this._point=_.latLngToLayerPoint(this._latlng),this._radius=this._point.x-_.latLngToLayerPoint(Je).x}this._updateBounds()}});function Gl(l,d,_){return new mh(l,d,_)}var Wr=Ps.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,d){S(this,d),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var d=1/0,_=null,P=it,R,W,Q=0,oe=this._parts.length;Q<oe;Q++)for(var de=this._parts[Q],we=1,Fe=de.length;we<Fe;we++){R=de[we-1],W=de[we];var Je=P(l,R,W,!0);Je<d&&(d=Je,_=P(l,R,W))}return _&&(_.distance=Math.sqrt(d)),_},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return yn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,d){return d=d||this._defaultShape(),l=Re(l),d.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new xe,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return Tt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var d=[],_=Tt(l),P=0,R=l.length;P<R;P++)_?(d[P]=Re(l[P]),this._bounds.extend(d[P])):d[P]=this._convertLatLngs(l[P]);return d},_project:function(){var l=new Y;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),d=new ee(l,l);this._rawPxBounds&&(this._pxBounds=new Y([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(l,d,_){var P=l[0]instanceof Oe,R=l.length,W,Q;if(P){for(Q=[],W=0;W<R;W++)Q[W]=this._map.latLngToLayerPoint(l[W]),_.extend(Q[W]);d.push(Q)}else for(W=0;W<R;W++)this._projectLatlngs(l[W],d,_)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}var d=this._parts,_,P,R,W,Q,oe,de;for(_=0,R=0,W=this._rings.length;_<W;_++)for(de=this._rings[_],P=0,Q=de.length;P<Q-1;P++)oe=K(de[P],de[P+1],l,P,!0),oe&&(d[R]=d[R]||[],d[R].push(oe[0]),(oe[1]!==de[P+1]||P===Q-2)&&(d[R].push(oe[1]),R++))}},_simplifyPoints:function(){for(var l=this._parts,d=this.options.smoothFactor,_=0,P=l.length;_<P;_++)l[_]=Ln(l[_],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,d){var _,P,R,W,Q,oe,de=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(_=0,W=this._parts.length;_<W;_++)for(oe=this._parts[_],P=0,Q=oe.length,R=Q-1;P<Q;R=P++)if(!(!d&&P===0)&&Ul(l,oe[R],oe[P])<=de)return!0;return!1}});function S1(l,d){return new Wr(l,d)}Wr._flat=Ct;var Ua=Wr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var d=Wr.prototype._convertLatLngs.call(this,l),_=d.length;return _>=2&&d[0]instanceof Oe&&d[0].equals(d[_-1])&&d.pop(),d},_setLatLngs:function(l){Wr.prototype._setLatLngs.call(this,l),Tt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Tt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,d=this.options.weight,_=new ee(d,d);if(l=new Y(l.min.subtract(_),l.max.add(_)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}for(var P=0,R=this._rings.length,W;P<R;P++)W=pu(this._rings[P],l,!0),W.length&&this._parts.push(W)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var d=!1,_,P,R,W,Q,oe,de,we;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(W=0,de=this._parts.length;W<de;W++)for(_=this._parts[W],Q=0,we=_.length,oe=we-1;Q<we;oe=Q++)P=_[Q],R=_[oe],P.y>l.y!=R.y>l.y&&l.x<(R.x-P.x)*(l.y-P.y)/(R.y-P.y)+P.x&&(d=!d);return d||Wr.prototype._containsPoint.call(this,l,!0)}});function P1(l,d){return new Ua(l,d)}var ua=$a.extend({initialize:function(l,d){S(this,d),this._layers={},l&&this.addData(l)},addData:function(l){var d=D(l)?l:l.features,_,P,R;if(d){for(_=0,P=d.length;_<P;_++)R=d[_],(R.geometries||R.geometry||R.features||R.coordinates)&&this.addData(R);return this}var W=this.options;if(W.filter&&!W.filter(l))return this;var Q=wu(l,W);return Q?(Q.feature=wh(l),Q.defaultOptions=Q.options,this.resetStyle(Q),W.onEachFeature&&W.onEachFeature(l,Q),this.addLayer(Q)):this},resetStyle:function(l){return l===void 0?this.eachLayer(this.resetStyle,this):(l.options=i({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(d){this._setLayerStyle(d,l)},this)},_setLayerStyle:function(l,d){l.setStyle&&(typeof d=="function"&&(d=d(l.feature)),l.setStyle(d))}});function wu(l,d){var _=l.type==="Feature"?l.geometry:l,P=_?_.coordinates:null,R=[],W=d&&d.pointToLayer,Q=d&&d.coordsToLatLng||yh,oe,de,we,Fe;if(!P&&!_)return null;switch(_.type){case"Point":return oe=Q(P),gh(W,l,oe,d);case"MultiPoint":for(we=0,Fe=P.length;we<Fe;we++)oe=Q(P[we]),R.push(gh(W,l,oe,d));return new $a(R);case"LineString":case"MultiLineString":return de=Wl(P,_.type==="LineString"?0:1,Q),new Wr(de,d);case"Polygon":case"MultiPolygon":return de=Wl(P,_.type==="Polygon"?1:2,Q),new Ua(de,d);case"GeometryCollection":for(we=0,Fe=_.geometries.length;we<Fe;we++){var Je=wu({geometry:_.geometries[we],type:"Feature",properties:l.properties},d);Je&&R.push(Je)}return new $a(R);case"FeatureCollection":for(we=0,Fe=_.features.length;we<Fe;we++){var dt=wu(_.features[we],d);dt&&R.push(dt)}return new $a(R);default:throw new Error("Invalid GeoJSON object.")}}function gh(l,d,_,P){return l?l(d,_):new za(_,P&&P.markersInheritOptions&&P)}function yh(l){return new Oe(l[1],l[0],l[2])}function Wl(l,d,_){for(var P=[],R=0,W=l.length,Q;R<W;R++)Q=d?Wl(l[R],d-1,_):(_||yh)(l[R]),P.push(Q);return P}function vh(l,d){return l=Re(l),l.alt!==void 0?[y(l.lng,d),y(l.lat,d),y(l.alt,d)]:[y(l.lng,d),y(l.lat,d)]}function _h(l,d,_,P){for(var R=[],W=0,Q=l.length;W<Q;W++)R.push(d?_h(l[W],Tt(l[W])?0:d-1,_,P):vh(l[W],P));return!d&&_&&R.length>0&&R.push(R[0].slice()),R}function bu(l,d){return l.feature?i({},l.feature,{geometry:d}):wh(d)}function wh(l){return l.type==="Feature"||l.type==="FeatureCollection"?l:{type:"Feature",properties:{},geometry:l}}var Td={toGeoJSON:function(l){return bu(this,{type:"Point",coordinates:vh(this.getLatLng(),l)})}};za.include(Td),mh.include(Td),ph.include(Td),Wr.include({toGeoJSON:function(l){var d=!Tt(this._latlngs),_=_h(this._latlngs,d?1:0,!1,l);return bu(this,{type:(d?"Multi":"")+"LineString",coordinates:_})}}),Ua.include({toGeoJSON:function(l){var d=!Tt(this._latlngs),_=d&&!Tt(this._latlngs[0]),P=_h(this._latlngs,_?2:d?1:0,!0,l);return d||(P=[P]),bu(this,{type:(_?"Multi":"")+"Polygon",coordinates:P})}}),Ss.include({toMultiPoint:function(l){var d=[];return this.eachLayer(function(_){d.push(_.toGeoJSON(l).geometry.coordinates)}),bu(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(l){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(d==="MultiPoint")return this.toMultiPoint(l);var _=d==="GeometryCollection",P=[];return this.eachLayer(function(R){if(R.toGeoJSON){var W=R.toGeoJSON(l);if(_)P.push(W.geometry);else{var Q=wh(W);Q.type==="FeatureCollection"?P.push.apply(P,Q.features):P.push(Q)}}}),_?bu(this,{geometries:P,type:"GeometryCollection"}):{type:"FeatureCollection",features:P}}});function Rg(l,d){return new ua(l,d)}var Ci=Rg,Ts=Mi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,d,_){this._url=l,this._bounds=Me(d),S(this,_)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Be(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Pt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&si(this._image),this},bringToBack:function(){return this._map&&lr(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=Me(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l=this._url.tagName==="IMG",d=this._image=l?this._url:lt("img");if(Be(d,"leaflet-image-layer"),this._zoomAnimated&&Be(d,"leaflet-zoom-animated"),this.options.className&&Be(d,this.options.className),d.onselectstart=p,d.onmousemove=p,d.onload=s(this.fire,this,"load"),d.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l){this._url=d.src;return}d.src=this._url,d.alt=this.options.alt},_animateZoom:function(l){var d=this._map.getZoomScale(l.zoom),_=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;Br(this._image,_,d)},_reset:function(){var l=this._image,d=new Y(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),_=d.getSize();un(l,d.min),l.style.width=_.x+"px",l.style.height=_.y+"px"},_updateOpacity:function(){er(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),kg=function(l,d,_){return new Ts(l,d,_)},Ad=Ts.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l=this._url.tagName==="VIDEO",d=this._image=l?this._url:lt("video");if(Be(d,"leaflet-image-layer"),this._zoomAnimated&&Be(d,"leaflet-zoom-animated"),this.options.className&&Be(d,this.options.className),d.onselectstart=p,d.onmousemove=p,d.onloadeddata=s(this.fire,this,"load"),l){for(var _=d.getElementsByTagName("source"),P=[],R=0;R<_.length;R++)P.push(_[R].src);this._url=_.length>0?P:[d.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var W=0;W<this._url.length;W++){var Q=lt("source");Q.src=this._url[W],d.appendChild(Q)}}});function Ng(l,d,_){return new Ad(l,d,_)}var Id=Ts.extend({_initImage:function(){var l=this._image=this._url;Be(l,"leaflet-image-layer"),this._zoomAnimated&&Be(l,"leaflet-zoom-animated"),this.options.className&&Be(l,this.options.className),l.onselectstart=p,l.onmousemove=p}});function Md(l,d,_){return new Id(l,d,_)}var la=Mi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,d){l&&(l instanceof Oe||D(l))?(this._latlng=Re(l),S(this,d)):(S(this,l),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(l){return l=arguments.length?l:this._source._map,l.hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&er(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&er(this._container,1),this.bringToFront(),this.options.interactive&&(Be(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(er(this._container,0),this._removeTimeout=setTimeout(s(Pt,void 0,this._container),200)):Pt(this._container),this.options.interactive&&(kt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=Re(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&si(this._container),this},bringToBack:function(){return this._map&&lr(this._container),this},_prepareOpen:function(l){var d=this._source;if(!d._map)return!1;if(d instanceof $a){d=null;var _=this._source._layers;for(var P in _)if(_[P]._map){d=_[P];break}if(!d)return!1;this._source=d}if(!l)if(d.getCenter)l=d.getCenter();else if(d.getLatLng)l=d.getLatLng();else if(d.getBounds)l=d.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,d=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof d=="string")l.innerHTML=d;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),d=ie(this.options.offset),_=this._getAnchor();this._zoomAnimated?un(this._container,l.add(_)):d=d.add(l).add(_);var P=this._containerBottom=-d.y,R=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=P+"px",this._container.style.left=R+"px"}},_getAnchor:function(){return[0,0]}});mt.include({_initOverlay:function(l,d,_,P){var R=d;return R instanceof l||(R=new l(P).setContent(d)),_&&R.setLatLng(_),R}}),Mi.include({_initOverlay:function(l,d,_,P){var R=_;return R instanceof l?(S(R,P),R._source=this):(R=d&&!P?d:new l(P,this),R.setContent(_)),R}});var bh=la.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return l=arguments.length?l:this._source._map,!l.hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,la.prototype.openOn.call(this,l)},onAdd:function(l){la.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ps||this._source.on("preclick",Et))},onRemove:function(l){la.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ps||this._source.off("preclick",Et))},getEvents:function(){var l=la.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",d=this._container=lt("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),_=this._wrapper=lt("div",l+"-content-wrapper",d);if(this._contentNode=lt("div",l+"-content",_),co(d),hu(this._contentNode),et(d,"contextmenu",Et),this._tipContainer=lt("div",l+"-tip-container",d),this._tip=lt("div",l+"-tip",this._tipContainer),this.options.closeButton){var P=this._closeButton=lt("a",l+"-close-button",d);P.setAttribute("role","button"),P.setAttribute("aria-label","Close popup"),P.href="#close",P.innerHTML='<span aria-hidden="true">&#215;</span>',et(P,"click",function(R){en(R),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,d=l.style;d.width="",d.whiteSpace="nowrap";var _=l.offsetWidth;_=Math.min(_,this.options.maxWidth),_=Math.max(_,this.options.minWidth),d.width=_+1+"px",d.whiteSpace="",d.height="";var P=l.offsetHeight,R=this.options.maxHeight,W="leaflet-popup-scrolled";R&&P>R?(d.height=R+"px",Be(l,W)):kt(l,W),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var d=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),_=this._getAnchor();un(this._container,d.add(_))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var l=this._map,d=parseInt(vs(this._container,"marginBottom"),10)||0,_=this._container.offsetHeight+d,P=this._containerWidth,R=new ee(this._containerLeft,-_-this._containerBottom);R._add(Ti(this._container));var W=l.layerPointToContainerPoint(R),Q=ie(this.options.autoPanPadding),oe=ie(this.options.autoPanPaddingTopLeft||Q),de=ie(this.options.autoPanPaddingBottomRight||Q),we=l.getSize(),Fe=0,Je=0;W.x+P+de.x>we.x&&(Fe=W.x+P-we.x+de.x),W.x-Fe-oe.x<0&&(Fe=W.x-oe.x),W.y+_+de.y>we.y&&(Je=W.y+_-we.y+de.y),W.y-Je-oe.y<0&&(Je=W.y-oe.y),(Fe||Je)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([Fe,Je]))}},_getAnchor:function(){return ie(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),xu=function(l,d){return new bh(l,d)};mt.mergeOptions({closePopupOnClick:!0}),mt.include({openPopup:function(l,d,_){return this._initOverlay(bh,l,d,_).openOn(this),this},closePopup:function(l){return l=arguments.length?l:this._popup,l&&l.close(),this}}),Mi.include({bindPopup:function(l,d){return this._popup=this._initOverlay(bh,this._popup,l,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof $a||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(!(!this._popup||!this._map)){xr(l);var d=l.layer||l.target;if(this._popup._source===d&&!(d instanceof Ps)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng);return}this._popup._source=d,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){l.originalEvent.keyCode===13&&this._openPopup(l)}});var Eu=la.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){la.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){la.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=la.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){var l="leaflet-tooltip",d=l+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=lt("div",d),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var d,_,P=this._map,R=this._container,W=P.latLngToContainerPoint(P.getCenter()),Q=P.layerPointToContainerPoint(l),oe=this.options.direction,de=R.offsetWidth,we=R.offsetHeight,Fe=ie(this.options.offset),Je=this._getAnchor();oe==="top"?(d=de/2,_=we):oe==="bottom"?(d=de/2,_=0):oe==="center"?(d=de/2,_=we/2):oe==="right"?(d=0,_=we/2):oe==="left"?(d=de,_=we/2):Q.x<W.x?(oe="right",d=0,_=we/2):(oe="left",d=de+(Fe.x+Je.x)*2,_=we/2),l=l.subtract(ie(d,_,!0)).add(Fe).add(Je),kt(R,"leaflet-tooltip-right"),kt(R,"leaflet-tooltip-left"),kt(R,"leaflet-tooltip-top"),kt(R,"leaflet-tooltip-bottom"),Be(R,"leaflet-tooltip-"+oe),un(R,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&er(this._container,l)},_animateZoom:function(l){var d=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(d)},_getAnchor:function(){return ie(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Hl=function(l,d){return new Eu(l,d)};mt.include({openTooltip:function(l,d,_){return this._initOverlay(Eu,l,d,_).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),Mi.include({bindTooltip:function(l,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Eu,this._tooltip,l,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(!(!l&&this._tooltipHandlersAdded)){var d=l?"off":"on",_={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?_.add=this._openTooltip:(_.mouseover=this._openTooltip,_.mouseout=this.closeTooltip,_.click=this._openTooltip,this._map?this._addFocusListeners():_.add=this._addFocusListeners),this._tooltip.options.sticky&&(_.mousemove=this._moveTooltip),this[d](_),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof $a||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var d=typeof l.getElement=="function"&&l.getElement();d&&(et(d,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),et(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var d=typeof l.getElement=="function"&&l.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(l)});return}this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0)}},_moveTooltip:function(l){var d=l.latlng,_,P;this._tooltip.options.sticky&&l.originalEvent&&(_=this._map.mouseEventToContainerPoint(l.originalEvent),P=this._map.containerPointToLayerPoint(_),d=this._map.layerPointToLatLng(P)),this._tooltip.setLatLng(d)}});var xh=go.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var d=l&&l.tagName==="DIV"?l:document.createElement("div"),_=this.options;if(_.html instanceof Element?(ur(d),d.appendChild(_.html)):d.innerHTML=_.html!==!1?_.html:"",_.bgPos){var P=ie(_.bgPos);d.style.backgroundPosition=-P.x+"px "+-P.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});function Lg(l){return new xh(l)}go.Default=_u;var As=Mi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ze.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){S(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),Pt(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(si(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(lr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof ee?l:new ee(l,l)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var d=this.getPane().children,_=-l(-1/0,1/0),P=0,R=d.length,W;P<R;P++)W=d[P].style.zIndex,d[P]!==this._container&&W&&(_=l(_,+W));isFinite(_)&&(this.options.zIndex=_+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ze.ielt9){er(this._container,this.options.opacity);var l=+new Date,d=!1,_=!1;for(var P in this._tiles){var R=this._tiles[P];if(!(!R.current||!R.loaded)){var W=Math.min(1,(l-R.loaded)/200);er(R.el,W),W<1?d=!0:(R.active?_=!0:this._onOpaqueTile(R),R.active=!0)}}_&&!this._noPrune&&this._pruneTiles(),d&&(G(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=lt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,d=this.options.maxZoom;if(l!==void 0){for(var _ in this._levels)_=Number(_),this._levels[_].el.children.length||_===l?(this._levels[_].el.style.zIndex=d-Math.abs(l-_),this._onUpdateLevel(_)):(Pt(this._levels[_].el),this._removeTilesAtZoom(_),this._onRemoveLevel(_),delete this._levels[_]);var P=this._levels[l],R=this._map;return P||(P=this._levels[l]={},P.el=lt("div","leaflet-tile-container leaflet-zoom-animated",this._container),P.el.style.zIndex=d,P.origin=R.project(R.unproject(R.getPixelOrigin()),l).round(),P.zoom=l,this._setZoomTransform(P,R.getCenter(),R.getZoom()),p(P.el.offsetWidth),this._onCreateLevel(P)),this._level=P,P}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var l,d,_=this._map.getZoom();if(_>this.options.maxZoom||_<this.options.minZoom){this._removeAllTiles();return}for(l in this._tiles)d=this._tiles[l],d.retain=d.current;for(l in this._tiles)if(d=this._tiles[l],d.current&&!d.active){var P=d.coords;this._retainParent(P.x,P.y,P.z,P.z-5)||this._retainChildren(P.x,P.y,P.z,P.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var d in this._tiles)this._tiles[d].coords.z===l&&this._removeTile(d)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)Pt(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,d,_,P){var R=Math.floor(l/2),W=Math.floor(d/2),Q=_-1,oe=new ee(+R,+W);oe.z=+Q;var de=this._tileCoordsToKey(oe),we=this._tiles[de];return we&&we.active?(we.retain=!0,!0):(we&&we.loaded&&(we.retain=!0),Q>P?this._retainParent(R,W,Q,P):!1)},_retainChildren:function(l,d,_,P){for(var R=2*l;R<2*l+2;R++)for(var W=2*d;W<2*d+2;W++){var Q=new ee(R,W);Q.z=_+1;var oe=this._tileCoordsToKey(Q),de=this._tiles[oe];if(de&&de.active){de.retain=!0;continue}else de&&de.loaded&&(de.retain=!0);_+1<P&&this._retainChildren(R,W,_+1,P)}},_resetView:function(l){var d=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var d=this.options;return d.minNativeZoom!==void 0&&l<d.minNativeZoom?d.minNativeZoom:d.maxNativeZoom!==void 0&&d.maxNativeZoom<l?d.maxNativeZoom:l},_setView:function(l,d,_,P){var R=Math.round(d);this.options.maxZoom!==void 0&&R>this.options.maxZoom||this.options.minZoom!==void 0&&R<this.options.minZoom?R=void 0:R=this._clampZoom(R);var W=this.options.updateWhenZooming&&R!==this._tileZoom;(!P||W)&&(this._tileZoom=R,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),R!==void 0&&this._update(l),_||this._pruneTiles(),this._noPrune=!!_),this._setZoomTransforms(l,d)},_setZoomTransforms:function(l,d){for(var _ in this._levels)this._setZoomTransform(this._levels[_],l,d)},_setZoomTransform:function(l,d,_){var P=this._map.getZoomScale(_,l.zoom),R=l.origin.multiplyBy(P).subtract(this._map._getNewPixelOrigin(d,_)).round();ze.any3d?Br(l.el,R,P):un(l.el,R)},_resetGrid:function(){var l=this._map,d=l.options.crs,_=this._tileSize=this.getTileSize(),P=this._tileZoom,R=this._map.getPixelWorldBounds(this._tileZoom);R&&(this._globalTileRange=this._pxBoundsToTileRange(R)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,d.wrapLng[0]],P).x/_.x),Math.ceil(l.project([0,d.wrapLng[1]],P).x/_.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([d.wrapLat[0],0],P).y/_.x),Math.ceil(l.project([d.wrapLat[1],0],P).y/_.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var d=this._map,_=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),P=d.getZoomScale(_,this._tileZoom),R=d.project(l,this._tileZoom).floor(),W=d.getSize().divideBy(P*2);return new Y(R.subtract(W),R.add(W))},_update:function(l){var d=this._map;if(d){var _=this._clampZoom(d.getZoom());if(l===void 0&&(l=d.getCenter()),this._tileZoom!==void 0){var P=this._getTiledPixelBounds(l),R=this._pxBoundsToTileRange(P),W=R.getCenter(),Q=[],oe=this.options.keepBuffer,de=new Y(R.getBottomLeft().subtract([oe,-oe]),R.getTopRight().add([oe,-oe]));if(!(isFinite(R.min.x)&&isFinite(R.min.y)&&isFinite(R.max.x)&&isFinite(R.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var we in this._tiles){var Fe=this._tiles[we].coords;(Fe.z!==this._tileZoom||!de.contains(new ee(Fe.x,Fe.y)))&&(this._tiles[we].current=!1)}if(Math.abs(_-this._tileZoom)>1){this._setView(l,_);return}for(var Je=R.min.y;Je<=R.max.y;Je++)for(var dt=R.min.x;dt<=R.max.x;dt++){var Gn=new ee(dt,Je);if(Gn.z=this._tileZoom,!!this._isValidTile(Gn)){var Dn=this._tiles[this._tileCoordsToKey(Gn)];Dn?Dn.current=!0:Q.push(Gn)}}if(Q.sort(function(Pr,Iu){return Pr.distanceTo(W)-Iu.distanceTo(W)}),Q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Hr=document.createDocumentFragment();for(dt=0;dt<Q.length;dt++)this._addTile(Q[dt],Hr);this._level.el.appendChild(Hr)}}}},_isValidTile:function(l){var d=this._map.options.crs;if(!d.infinite){var _=this._globalTileRange;if(!d.wrapLng&&(l.x<_.min.x||l.x>_.max.x)||!d.wrapLat&&(l.y<_.min.y||l.y>_.max.y))return!1}if(!this.options.bounds)return!0;var P=this._tileCoordsToBounds(l);return Me(this.options.bounds).overlaps(P)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var d=this._map,_=this.getTileSize(),P=l.scaleBy(_),R=P.add(_),W=d.unproject(P,l.z),Q=d.unproject(R,l.z);return[W,Q]},_tileCoordsToBounds:function(l){var d=this._tileCoordsToNwSe(l),_=new xe(d[0],d[1]);return this.options.noWrap||(_=this._map.wrapLatLngBounds(_)),_},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var d=l.split(":"),_=new ee(+d[0],+d[1]);return _.z=+d[2],_},_removeTile:function(l){var d=this._tiles[l];d&&(Pt(d.el),delete this._tiles[l],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){Be(l,"leaflet-tile");var d=this.getTileSize();l.style.width=d.x+"px",l.style.height=d.y+"px",l.onselectstart=p,l.onmousemove=p,ze.ielt9&&this.options.opacity<1&&er(l,this.options.opacity)},_addTile:function(l,d){var _=this._getTilePos(l),P=this._tileCoordsToKey(l),R=this.createTile(this._wrapCoords(l),s(this._tileReady,this,l));this._initTile(R),this.createTile.length<2&&z(s(this._tileReady,this,l,null,R)),un(R,_),this._tiles[P]={el:R,coords:l,current:!0},d.appendChild(R),this.fire("tileloadstart",{tile:R,coords:l})},_tileReady:function(l,d,_){d&&this.fire("tileerror",{error:d,tile:_,coords:l});var P=this._tileCoordsToKey(l);_=this._tiles[P],_&&(_.loaded=+new Date,this._map._fadeAnimated?(er(_.el,0),G(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this)):(_.active=!0,this._pruneTiles()),d||(Be(_.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:_.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ze.ielt9||!this._map._fadeAnimated?z(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var d=new ee(this._wrapX?m(l.x,this._wrapX):l.x,this._wrapY?m(l.y,this._wrapY):l.y);return d.z=l.z,d},_pxBoundsToTileRange:function(l){var d=this.getTileSize();return new Y(l.min.unscaleBy(d).floor(),l.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});function Su(l){return new As(l)}var Is=As.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,d){this._url=l,d=S(this,d),d.detectRetina&&ze.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),typeof d.subdomains=="string"&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,d){return this._url===l&&d===void 0&&(d=!0),this._url=l,d||this.redraw(),this},createTile:function(l,d){var _=document.createElement("img");return et(_,"load",s(this._tileOnLoad,this,d,_)),et(_,"error",s(this._tileOnError,this,d,_)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(_.referrerPolicy=this.options.referrerPolicy),_.alt="",_.src=this.getTileUrl(l),_},getTileUrl:function(l){var d={r:ze.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var _=this._globalTileRange.max.y-l.y;this.options.tms&&(d.y=_),d["-y"]=_}return O(this._url,i(d,this.options))},_tileOnLoad:function(l,d){ze.ielt9?setTimeout(s(l,this,null,d),0):l(null,d)},_tileOnError:function(l,d,_){var P=this.options.errorTileUrl;P&&d.getAttribute("src")!==P&&(d.src=P),l(_,d)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom,d=this.options.maxZoom,_=this.options.zoomReverse,P=this.options.zoomOffset;return _&&(l=d-l),l+P},_getSubdomain:function(l){var d=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var l,d;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&(d=this._tiles[l].el,d.onload=p,d.onerror=p,!d.complete)){d.src=k;var _=this._tiles[l].coords;Pt(d),delete this._tiles[l],this.fire("tileabort",{tile:d,coords:_})}},_removeTile:function(l){var d=this._tiles[l];if(d)return d.el.setAttribute("src",k),As.prototype._removeTile.call(this,l)},_tileReady:function(l,d,_){if(!(!this._map||_&&_.getAttribute("src")===k))return As.prototype._tileReady.call(this,l,d,_)}});function Cd(l,d){return new Is(l,d)}var Kl=Is.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,d){this._url=l;var _=i({},this.defaultWmsParams);for(var P in d)P in this.options||(_[P]=d[P]);d=S(this,d);var R=d.detectRetina&&ze.retina?2:1,W=this.getTileSize();_.width=W.x*R,_.height=W.y*R,this.wmsParams=_},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var d=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[d]=this._crs.code,Is.prototype.onAdd.call(this,l)},getTileUrl:function(l){var d=this._tileCoordsToNwSe(l),_=this._crs,P=ne(_.project(d[0]),_.project(d[1])),R=P.min,W=P.max,Q=(this._wmsVersion>=1.3&&this._crs===vu?[R.y,R.x,W.y,W.x]:[R.x,R.y,W.x,W.y]).join(","),oe=Is.prototype.getTileUrl.call(this,l);return oe+x(this.wmsParams,oe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Q},setParams:function(l,d){return i(this.wmsParams,l),d||this.redraw(),this}});function Dg(l,d){return new Kl(l,d)}Is.WMS=Kl,Cd.wms=Dg;var ca=Mi.extend({options:{padding:.1},initialize:function(l){S(this,l),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Be(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,d){var _=this._map.getZoomScale(d,this._zoom),P=this._map.getSize().multiplyBy(.5+this.options.padding),R=this._map.project(this._center,d),W=P.multiplyBy(-_).add(R).subtract(this._map._getNewPixelOrigin(l,d));ze.any3d?Br(this._container,W,_):un(this._container,W)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var l in this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,d=this._map.getSize(),_=this._map.containerPointToLayerPoint(d.multiplyBy(-l)).round();this._bounds=new Y(_,_.add(d.multiplyBy(1+l*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Od=ca.extend({options:{tolerance:0},getEvents:function(){var l=ca.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ca.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");et(l,"mousemove",this._onMouseMove,this),et(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),et(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,Pt(this._container),Nt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var l;this._redrawBounds=null;for(var d in this._layers)l=this._layers[d],l._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ca.prototype._update.call(this);var l=this._bounds,d=this._container,_=l.getSize(),P=ze.retina?2:1;un(d,l.min),d.width=P*_.x,d.height=P*_.y,d.style.width=_.x+"px",d.style.height=_.y+"px",ze.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){ca.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[c(l)]=l;var d=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var d=l._order,_=d.next,P=d.prev;_?_.prev=P:this._drawLast=P,P?P.next=_:this._drawFirst=_,delete l._order,delete this._layers[c(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if(typeof l.options.dashArray=="string"){var d=l.options.dashArray.split(/[, ]+/),_=[],P,R;for(R=0;R<d.length;R++){if(P=Number(d[R]),isNaN(P))return;_.push(P)}l.options._dashArray=_}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||z(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var d=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Y,this._redrawBounds.extend(l._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(l._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var d=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,d=this._redrawBounds;if(this._ctx.save(),d){var _=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,_.x,_.y),this._ctx.clip()}this._drawing=!0;for(var P=this._drawFirst;P;P=P.next)l=P.layer,(!d||l._pxBounds&&l._pxBounds.intersects(d))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,d){if(this._drawing){var _,P,R,W,Q=l._parts,oe=Q.length,de=this._ctx;if(oe){for(de.beginPath(),_=0;_<oe;_++){for(P=0,R=Q[_].length;P<R;P++)W=Q[_][P],de[P?"lineTo":"moveTo"](W.x,W.y);d&&de.closePath()}this._fillStroke(de,l)}}},_updateCircle:function(l){if(!(!this._drawing||l._empty())){var d=l._point,_=this._ctx,P=Math.max(Math.round(l._radius),1),R=(Math.max(Math.round(l._radiusY),1)||P)/P;R!==1&&(_.save(),_.scale(1,R)),_.beginPath(),_.arc(d.x,d.y/R,P,0,Math.PI*2,!1),R!==1&&_.restore(),this._fillStroke(_,l)}},_fillStroke:function(l,d){var _=d.options;_.fill&&(l.globalAlpha=_.fillOpacity,l.fillStyle=_.fillColor||_.color,l.fill(_.fillRule||"evenodd")),_.stroke&&_.weight!==0&&(l.setLineDash&&l.setLineDash(d.options&&d.options._dashArray||[]),l.globalAlpha=_.opacity,l.lineWidth=_.weight,l.strokeStyle=_.color,l.lineCap=_.lineCap,l.lineJoin=_.lineJoin,l.stroke())},_onClick:function(l){for(var d=this._map.mouseEventToLayerPoint(l),_,P,R=this._drawFirst;R;R=R.next)_=R.layer,_.options.interactive&&_._containsPoint(d)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(_))&&(P=_);this._fireEvent(P?[P]:!1,l)},_onMouseMove:function(l){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var d=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,d)}},_handleMouseOut:function(l){var d=this._hoveredLayer;d&&(kt(this._container,"leaflet-interactive"),this._fireEvent([d],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,d){if(!this._mouseHoverThrottled){for(var _,P,R=this._drawFirst;R;R=R.next)_=R.layer,_.options.interactive&&_._containsPoint(d)&&(P=_);P!==this._hoveredLayer&&(this._handleMouseOut(l),P&&(Be(this._container,"leaflet-interactive"),this._fireEvent([P],l,"mouseover"),this._hoveredLayer=P)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,l),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,d,_){this._map._fireDOMEvent(d,_||d.type,l)},_bringToFront:function(l){var d=l._order;if(d){var _=d.next,P=d.prev;if(_)_.prev=P;else return;P?P.next=_:_&&(this._drawFirst=_),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(l)}},_bringToBack:function(l){var d=l._order;if(d){var _=d.next,P=d.prev;if(P)P.next=_;else return;_?_.prev=P:P&&(this._drawLast=P),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(l)}}});function Rd(l){return ze.canvas?new Od(l):null}var Pu=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),jg={_initContainer:function(){this._container=lt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ca.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var d=l._container=Pu("shape");Be(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",l._path=Pu("path"),d.appendChild(l._path),this._updateStyle(l),this._layers[c(l)]=l},_addPath:function(l){var d=l._container;this._container.appendChild(d),l.options.interactive&&l.addInteractiveTarget(d)},_removePath:function(l){var d=l._container;Pt(d),l.removeInteractiveTarget(d),delete this._layers[c(l)]},_updateStyle:function(l){var d=l._stroke,_=l._fill,P=l.options,R=l._container;R.stroked=!!P.stroke,R.filled=!!P.fill,P.stroke?(d||(d=l._stroke=Pu("stroke")),R.appendChild(d),d.weight=P.weight+"px",d.color=P.color,d.opacity=P.opacity,P.dashArray?d.dashStyle=D(P.dashArray)?P.dashArray.join(" "):P.dashArray.replace(/( *, *)/g," "):d.dashStyle="",d.endcap=P.lineCap.replace("butt","flat"),d.joinstyle=P.lineJoin):d&&(R.removeChild(d),l._stroke=null),P.fill?(_||(_=l._fill=Pu("fill")),R.appendChild(_),_.color=P.fillColor||P.color,_.opacity=P.fillOpacity):_&&(R.removeChild(_),l._fill=null)},_updateCircle:function(l){var d=l._point.round(),_=Math.round(l._radius),P=Math.round(l._radiusY||_);this._setPath(l,l._empty()?"M0 0":"AL "+d.x+","+d.y+" "+_+","+P+" 0,"+65535*360)},_setPath:function(l,d){l._path.v=d},_bringToFront:function(l){si(l._container)},_bringToBack:function(l){lr(l._container)}},Oi=ze.vml?Pu:Xt,yo=ca.extend({_initContainer:function(){this._container=Oi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Oi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Pt(this._container),Nt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ca.prototype._update.call(this);var l=this._bounds,d=l.getSize(),_=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,_.setAttribute("width",d.x),_.setAttribute("height",d.y)),un(_,l.min),_.setAttribute("viewBox",[l.min.x,l.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(l){var d=l._path=Oi("path");l.options.className&&Be(d,l.options.className),l.options.interactive&&Be(d,"leaflet-interactive"),this._updateStyle(l),this._layers[c(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){Pt(l._path),l.removeInteractiveTarget(l._path),delete this._layers[c(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var d=l._path,_=l.options;d&&(_.stroke?(d.setAttribute("stroke",_.color),d.setAttribute("stroke-opacity",_.opacity),d.setAttribute("stroke-width",_.weight),d.setAttribute("stroke-linecap",_.lineCap),d.setAttribute("stroke-linejoin",_.lineJoin),_.dashArray?d.setAttribute("stroke-dasharray",_.dashArray):d.removeAttribute("stroke-dasharray"),_.dashOffset?d.setAttribute("stroke-dashoffset",_.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),_.fill?(d.setAttribute("fill",_.fillColor||_.color),d.setAttribute("fill-opacity",_.fillOpacity),d.setAttribute("fill-rule",_.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(l,d){this._setPath(l,zt(l._parts,d))},_updateCircle:function(l){var d=l._point,_=Math.max(Math.round(l._radius),1),P=Math.max(Math.round(l._radiusY),1)||_,R="a"+_+","+P+" 0 1,0 ",W=l._empty()?"M0 0":"M"+(d.x-_)+","+d.y+R+_*2+",0 "+R+-_*2+",0 ";this._setPath(l,W)},_setPath:function(l,d){l._path.setAttribute("d",d)},_bringToFront:function(l){si(l._path)},_bringToBack:function(l){lr(l._path)}});ze.vml&&yo.include(jg);function Eh(l){return ze.svg||ze.vml?new yo(l):null}mt.include({getRenderer:function(l){var d=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(l){if(l==="overlayPane"||l===void 0)return!1;var d=this._paneRenderers[l];return d===void 0&&(d=this._createRenderer({pane:l}),this._paneRenderers[l]=d),d},_createRenderer:function(l){return this.options.preferCanvas&&Rd(l)||Eh(l)}});var Vg=Ua.extend({initialize:function(l,d){Ua.prototype.initialize.call(this,this._boundsToLatLngs(l),d)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return l=Me(l),[l.getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});function T1(l,d){return new Vg(l,d)}yo.create=Oi,yo.pointsToPath=zt,ua.geometryToLayer=wu,ua.coordsToLatLng=yh,ua.coordsToLatLngs=Wl,ua.latLngToCoords=vh,ua.latLngsToCoords=_h,ua.getFeature=bu,ua.asFeature=wh,mt.mergeOptions({boxZoom:!0});var Tu=cr.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){et(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Nt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Pt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||l.which!==1&&l.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),pt(),oo(),this._startPoint=this._map.mouseEventToContainerPoint(l),et(document,{contextmenu:xr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=lt("div","leaflet-zoom-box",this._container),Be(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var d=new Y(this._point,this._startPoint),_=d.getSize();un(this._box,d.min),this._box.style.width=_.x+"px",this._box.style.height=_.y+"px"},_finish:function(){this._moved&&(Pt(this._box),kt(this._container,"leaflet-crosshair")),br(),uo(),Nt(document,{contextmenu:xr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if(!(l.which!==1&&l.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var d=new xe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(l){l.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});mt.addInitHook("addHandler","boxZoom",Tu),mt.mergeOptions({doubleClickZoom:!0});var Fg=cr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var d=this._map,_=d.getZoom(),P=d.options.zoomDelta,R=l.originalEvent.shiftKey?_-P:_+P;d.options.doubleClickZoom==="center"?d.setZoom(R):d.setZoomAround(l.containerPoint,R)}});mt.addInitHook("addHandler","doubleClickZoom",Fg),mt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var kd=cr.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new Sr(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}Be(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){kt(this._map._container,"leaflet-grab"),kt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=Me(this._map.options.maxBounds);this._offsetLimit=ne(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var d=this._lastTime=+new Date,_=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(_),this._times.push(d),this._prunePositions(d)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,d){return l-(l-d)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var l=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;l.x<d.min.x&&(l.x=this._viscousLimit(l.x,d.min.x)),l.y<d.min.y&&(l.y=this._viscousLimit(l.y,d.min.y)),l.x>d.max.x&&(l.x=this._viscousLimit(l.x,d.max.x)),l.y>d.max.y&&(l.y=this._viscousLimit(l.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,d=Math.round(l/2),_=this._initialWorldOffset,P=this._draggable._newPos.x,R=(P-d+_)%l+d-_,W=(P+d+_)%l-d-_,Q=Math.abs(R+_)<Math.abs(W+_)?R:W;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Q},_onDragEnd:function(l){var d=this._map,_=d.options,P=!_.inertia||l.noInertia||this._times.length<2;if(d.fire("dragend",l),P)d.fire("moveend");else{this._prunePositions(+new Date);var R=this._lastPos.subtract(this._positions[0]),W=(this._lastTime-this._times[0])/1e3,Q=_.easeLinearity,oe=R.multiplyBy(Q/W),de=oe.distanceTo([0,0]),we=Math.min(_.inertiaMaxSpeed,de),Fe=oe.multiplyBy(we/de),Je=we/(_.inertiaDeceleration*Q),dt=Fe.multiplyBy(-Je/2).round();!dt.x&&!dt.y?d.fire("moveend"):(dt=d._limitOffset(dt,d.options.maxBounds),z(function(){d.panBy(dt,{duration:Je,easeLinearity:Q,noMoveStart:!0,animate:!0})}))}}});mt.addInitHook("addHandler","dragging",kd),mt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Nd=cr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),et(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Nt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,d=document.documentElement,_=l.scrollTop||d.scrollTop,P=l.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(P,_)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var d=this._panKeys={},_=this.keyCodes,P,R;for(P=0,R=_.left.length;P<R;P++)d[_.left[P]]=[-1*l,0];for(P=0,R=_.right.length;P<R;P++)d[_.right[P]]=[l,0];for(P=0,R=_.down.length;P<R;P++)d[_.down[P]]=[0,l];for(P=0,R=_.up.length;P<R;P++)d[_.up[P]]=[0,-1*l]},_setZoomDelta:function(l){var d=this._zoomKeys={},_=this.keyCodes,P,R;for(P=0,R=_.zoomIn.length;P<R;P++)d[_.zoomIn[P]]=l;for(P=0,R=_.zoomOut.length;P<R;P++)d[_.zoomOut[P]]=-l},_addHooks:function(){et(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Nt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var d=l.keyCode,_=this._map,P;if(d in this._panKeys){if(!_._panAnim||!_._panAnim._inProgress)if(P=this._panKeys[d],l.shiftKey&&(P=ie(P).multiplyBy(3)),_.options.maxBounds&&(P=_._limitOffset(ie(P),_.options.maxBounds)),_.options.worldCopyJump){var R=_.wrapLatLng(_.unproject(_.project(_.getCenter()).add(P)));_.panTo(R)}else _.panBy(P)}else if(d in this._zoomKeys)_.setZoom(_.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[d]);else if(d===27&&_._popup&&_._popup.options.closeOnEscapeKey)_.closePopup();else return;xr(l)}}});mt.addInitHook("addHandler","keyboard",Nd),mt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ht=cr.extend({addHooks:function(){et(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Nt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var d=Fl(l),_=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var P=Math.max(_-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),P),xr(l)},_performZoom:function(){var l=this._map,d=l.getZoom(),_=this._map.options.zoomSnap||0;l._stop();var P=this._delta/(this._map.options.wheelPxPerZoomLevel*4),R=4*Math.log(2/(1+Math.exp(-Math.abs(P))))/Math.LN2,W=_?Math.ceil(R/_)*_:R,Q=l._limitZoom(d+(this._delta>0?W:-W))-d;this._delta=0,this._startTime=null,Q&&(l.options.scrollWheelZoom==="center"?l.setZoom(d+Q):l.setZoomAround(this._lastMousePos,d+Q))}});mt.addInitHook("addHandler","scrollWheelZoom",Ht);var Ld=600;mt.mergeOptions({tapHold:ze.touchNative&&ze.safari&&ze.mobile,tapTolerance:15});var Zl=cr.extend({addHooks:function(){et(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Nt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),l.touches.length===1){var d=l.touches[0];this._startPos=this._newPos=new ee(d.clientX,d.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(et(document,"touchend",en),et(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),Ld),et(document,"touchend touchcancel contextmenu",this._cancel,this),et(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){Nt(document,"touchend",en),Nt(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),Nt(document,"touchend touchcancel contextmenu",this._cancel,this),Nt(document,"touchmove",this._onMove,this)},_onMove:function(l){var d=l.touches[0];this._newPos=new ee(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,d){var _=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});_._simulated=!0,d.target.dispatchEvent(_)}});mt.addInitHook("addHandler","tapHold",Zl),mt.mergeOptions({touchZoom:ze.touch,bounceAtZoomLimits:!0});var Au=cr.extend({addHooks:function(){Be(this._map._container,"leaflet-touch-zoom"),et(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){kt(this._map._container,"leaflet-touch-zoom"),Nt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var d=this._map;if(!(!l.touches||l.touches.length!==2||d._animatingZoom||this._zooming)){var _=d.mouseEventToContainerPoint(l.touches[0]),P=d.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),d.options.touchZoom!=="center"&&(this._pinchStartLatLng=d.containerPointToLatLng(_.add(P)._divideBy(2))),this._startDist=_.distanceTo(P),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),et(document,"touchmove",this._onTouchMove,this),et(document,"touchend touchcancel",this._onTouchEnd,this),en(l)}},_onTouchMove:function(l){if(!(!l.touches||l.touches.length!==2||!this._zooming)){var d=this._map,_=d.mouseEventToContainerPoint(l.touches[0]),P=d.mouseEventToContainerPoint(l.touches[1]),R=_.distanceTo(P)/this._startDist;if(this._zoom=d.getScaleZoom(R,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&R<1||this._zoom>d.getMaxZoom()&&R>1)&&(this._zoom=d._limitZoom(this._zoom)),d.options.touchZoom==="center"){if(this._center=this._startLatLng,R===1)return}else{var W=_._add(P)._divideBy(2)._subtract(this._centerPoint);if(R===1&&W.x===0&&W.y===0)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(W),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var Q=s(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=z(Q,this,!0),en(l)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),Nt(document,"touchmove",this._onTouchMove,this),Nt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});mt.addInitHook("addHandler","touchZoom",Au),mt.BoxZoom=Tu,mt.DoubleClickZoom=Fg,mt.Drag=kd,mt.Keyboard=Nd,mt.ScrollWheelZoom=Ht,mt.TapHold=Zl,mt.TouchZoom=Au,n.Bounds=Y,n.Browser=ze,n.CRS=st,n.Canvas=Od,n.Circle=mh,n.CircleMarker=ph,n.Class=ae,n.Control=tr,n.DivIcon=xh,n.DivOverlay=la,n.DomEvent=ia,n.DomUtil=lo,n.Draggable=Sr,n.Evented=ye,n.FeatureGroup=$a,n.GeoJSON=ua,n.GridLayer=As,n.Handler=cr,n.Icon=go,n.ImageOverlay=Ts,n.LatLng=Oe,n.LatLngBounds=xe,n.Layer=Mi,n.LayerGroup=Ss,n.LineUtil=Gr,n.Map=mt,n.Marker=za,n.Mixin=du,n.Path=Ps,n.Point=ee,n.PolyUtil=gu,n.Polygon=Ua,n.Polyline=Wr,n.Popup=bh,n.PosAnimation=fo,n.Projection=oa,n.Rectangle=Vg,n.Renderer=ca,n.SVG=yo,n.SVGOverlay=Id,n.TileLayer=Is,n.Tooltip=Eu,n.Transformation=rt,n.Util=q,n.VideoOverlay=Ad,n.bind=s,n.bounds=ne,n.canvas=Rd,n.circle=Gl,n.circleMarker=Og,n.control=qr,n.divIcon=Lg,n.extend=i,n.featureGroup=Mg,n.geoJSON=Rg,n.geoJson=Ci,n.gridLayer=Su,n.icon=Cg,n.imageOverlay=kg,n.latLng=Re,n.latLngBounds=Me,n.layerGroup=ql,n.map=Ur,n.marker=E1,n.point=ie,n.polygon=P1,n.polyline=S1,n.popup=xu,n.rectangle=T1,n.setOptions=S,n.stamp=c,n.svg=Eh,n.svgOverlay=Md,n.tileLayer=Cd,n.tooltip=Hl,n.transformation=be,n.version=r,n.videoOverlay=Ng;var Bg=window.L;n.noConflict=function(){return window.L=Bg,this},window.L=n}))})(bp,bp.exports)),bp.exports}var U0=UQ();function jA(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function VA(t,e){return e==null?function(r,i){const a=Z.useRef();return a.current||(a.current=t(r,i)),a}:function(r,i){const a=Z.useRef();a.current||(a.current=t(r,i));const s=Z.useRef(r),{instance:o}=a.current;return Z.useEffect(function(){s.current!==r&&(e(o,r,s.current),s.current=r)},[o,r,i]),a}}function m7(t,e){Z.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){e.layerContainer?.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function qQ(t){return function(n){const r=LA(),i=t(z0(n,r),r);return f7(r.map,n.attribution),DA(i.current,n.eventHandlers),m7(i.current,r),i}}function GQ(t,e){const n=Z.useRef();Z.useEffect(function(){if(e.pathOptions!==n.current){const i=e.pathOptions??{};t.instance.setStyle(i),n.current=i}},[t,e])}function WQ(t){return function(n){const r=LA(),i=t(z0(n,r),r);return DA(i.current,n.eventHandlers),m7(i.current,r),GQ(i.current,n),i}}function HQ(t,e){const n=VA(t),r=$Q(n,e);return FQ(r)}function KQ(t,e){const n=VA(t,e),r=WQ(n);return VQ(r)}function ZQ(t,e){const n=VA(t,e),r=qQ(n);return BQ(r)}function XQ(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}const YQ=KQ(function({center:e,children:n,...r},i){const a=new U0.CircleMarker(e,r);return jA(a,jQ(i,{overlayContainer:a}))},NQ);function GP(){return GP=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GP.apply(this,arguments)}function QQ({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:a,placeholder:s,style:o,whenReady:c,zoom:f,...m},p){const[y]=Z.useState({className:i,id:a,style:o}),[b,E]=Z.useState(null);Z.useImperativeHandle(p,()=>b?.map??null,[b]);const S=Z.useCallback(M=>{if(M!==null&&b===null){const O=new U0.Map(M,m);n!=null&&f!=null?O.setView(n,f):t!=null&&O.fitBounds(t,e),c!=null&&O.whenReady(c),E(DQ(O))}},[]);Z.useEffect(()=>()=>{b?.map.remove()},[b]);const x=b?re.createElement(p7,{value:b},r):s??null;return re.createElement("div",GP({},y,{ref:S}),x)}const JQ=Z.forwardRef(QQ),eJ=HQ(function(e,n){const r=new U0.Popup(e,n.overlayContainer);return jA(r,n)},function(e,n,{position:r},i){Z.useEffect(function(){const{instance:s}=e;function o(f){f.popup===s&&(s.update(),i(!0))}function c(f){f.popup===s&&i(!1)}return n.map.on({popupopen:o,popupclose:c}),n.overlayContainer==null?(r!=null&&s.setLatLng(r),s.openOn(n.map)):n.overlayContainer.bindPopup(s),function(){n.map.off({popupopen:o,popupclose:c}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(s)}},[e,n,i,r])}),tJ=ZQ(function({url:e,...n},r){const i=new U0.TileLayer(e,z0(n,r));return jA(i,r)},function(e,n,r){XQ(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)}),nJ=[18.17,98.17],rJ=({trees:t,plotCode:e})=>{const n=Na(),r=t.filter(a=>a.lat!==null&&a.lat!==void 0&&a.lng!==null&&a.lng!==void 0&&!isNaN(Number(a.lat))&&!isNaN(Number(a.lng))),i=r.length>0?[r.reduce((a,s)=>a+Number(s.lat),0)/r.length,r.reduce((a,s)=>a+Number(s.lng),0)/r.length]:nJ;return N.jsxs("div",{className:"rounded-xl overflow-hidden border border-gray-100 shadow-sm",style:{height:400},children:[N.jsxs(JQ,{center:i,zoom:16,style:{height:"100%",width:"100%"},children:[N.jsx(tJ,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.map(a=>N.jsx(YQ,{center:[Number(a.lat),Number(a.lng)],radius:6,pathOptions:{color:`#${a.species.hex_color}`,fillColor:`#${a.species.hex_color}`,fillOpacity:.8,weight:1.5},eventHandlers:{click:()=>n(`/trees/${a.tree_code}`)},children:N.jsx(eJ,{children:N.jsxs("div",{className:"text-sm",children:[N.jsx("p",{className:"font-bold",children:a.tree_code}),N.jsx("p",{className:"text-gray-600",children:a.species.name_th}),a.species.name_sci&&N.jsx("p",{className:"text-gray-400 italic text-xs",children:a.species.name_sci}),N.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:[" ",a.row_main,a.row_sub?`-${a.row_sub}`:""]})]})})},a.id))]}),r.length===0&&N.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 text-sm text-gray-500 pointer-events-none",children:""})]})};function iJ(t){return t.download_url?t.download_url:t.legacy_url??""}const aJ=({image:t,onDeleted:e})=>{const[n,r]=Z.useState(!1),[i,a]=Z.useState(!1),s=iJ(t),o=async()=>{if(window.confirm("?")){r(!0);try{if(t.storage_path){const f=i7(s7,t.storage_path);await ZY(f)}const c=wc(hn,"plot_images",t.id);await jK(c),e?.()}catch(c){console.error("[ImageCard] Delete error:",c)}finally{r(!1)}}};return N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:"relative group rounded-xl overflow-hidden border border-gray-100 bg-gray-50 aspect-square",children:[s?N.jsx("img",{src:s,alt:t.description??"",className:"w-full h-full object-cover"}):N.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-300 text-xs",children:""}),N.jsxs("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[N.jsx("button",{onClick:()=>a(!0),className:"p-2 bg-white/90 rounded-full text-gray-700 hover:bg-white",children:N.jsx(IQ,{size:16})}),isAdmin&&N.jsx("button",{onClick:o,disabled:n,className:"p-2 bg-white/90 rounded-full text-red-600 hover:bg-white disabled:opacity-60",children:N.jsx(EQ,{size:16})})]}),t.description&&N.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs px-2 py-1 truncate",children:t.description})]}),i&&N.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",onClick:()=>a(!1),children:N.jsx("img",{src:s,alt:"",className:"max-w-full max-h-full object-contain rounded-lg"})})]})},sJ=({plotId:t,imageType:e,galleryCategory:n,onUploaded:r})=>{const{user:i}=h7(),a=Z.useRef(null),[s,o]=Z.useState(!1),[c,f]=Z.useState(""),m=async p=>{f(""),o(!0);try{const y=`plot-images/${t}/${Date.now()}_${p.name.replace(/\s+/g,"_")}`,b=i7(s7,y);await HY(b,p,{contentType:p.type});const E=await KY(b),S=yr(hn,"plot_images");await c9(S,{plot_id:t,image_type:e,gallery_category:n??null,storage_path:y,download_url:E,description:null,uploaded_by:i?.uid??null,upload_date:new Date().toISOString().split("T")[0],created_at:Dt.now()}),o(!1),r?.()}catch(y){console.error("[ImageUpload] Error:",y),f(y.message||""),o(!1)}};return N.jsxs("div",{children:[N.jsx("input",{ref:a,type:"file",accept:"image/*",className:"hidden",onChange:p=>{const y=p.target.files?.[0];y&&m(y)}}),N.jsxs("button",{type:"button",onClick:()=>a.current?.click(),disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-[#2d5a27] text-white text-sm font-medium rounded-lg hover:bg-[#234820] transition-colors disabled:opacity-60",children:[s?N.jsx(ri,{size:15,className:"animate-spin"}):N.jsx(SQ,{size:15}),s?"...":""]}),c&&N.jsx("p",{className:"text-xs text-red-600 mt-1",children:c})]})},oJ={plan_pre_1:" ( 1)",plan_pre_2:" ( 2)",plan_post_1:"",gallery:""},uJ=["plan_pre_1","plan_pre_2","plan_post_1","gallery"],lJ=({plotId:t})=>{const[e,n]=Z.useState([]),[r,i]=Z.useState(!0),[a,s]=Z.useState("gallery"),o=async()=>{i(!0);try{const f=yr(hn,"plot_images"),m=_i(f,Go("plot_id","==",t),Wo("created_at","desc")),y=(await Qr(m)).docs.map(b=>({id:b.id,...b.data()}));n(y)}catch(f){console.error("[ImageGallery] Error fetching images:",f),n([])}finally{i(!1)}};Z.useEffect(()=>{o()},[t]);const c=e.filter(f=>f.image_type===a);return N.jsxs("div",{children:[N.jsx("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-1",children:uJ.map(f=>N.jsxs("button",{onClick:()=>s(f),className:`shrink-0 px-3 py-1.5 rounded-full text-xs font-medium transition-colors ${a===f?"bg-[#2d5a27] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[oJ[f],e.filter(m=>m.image_type===f).length>0&&N.jsxs("span",{className:"ml-1.5 opacity-70",children:["(",e.filter(m=>m.image_type===f).length,")"]})]},f))}),canWrite&&N.jsx("div",{className:"mb-4",children:N.jsx(sJ,{plotId:t,imageType:a,galleryCategory:a==="gallery"?"tree":void 0,onUploaded:o})}),r?N.jsx("div",{className:"flex items-center justify-center py-12",children:N.jsx(ri,{size:24,className:"animate-spin text-[#2d5a27]"})}):c.length===0?N.jsx("div",{className:"text-center py-12 text-gray-400 text-sm bg-gray-50 rounded-xl",children:""}):N.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:c.map(f=>N.jsx(aJ,{image:f,onDeleted:o},f.id))})]})};function cJ(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var e=1;e<=60;++e)t("EPSG:"+(32600+e),"+proj=utm +zone="+e+" +datum=WGS84 +units=m"),t("EPSG:"+(32700+e),"+proj=utm +zone="+e+" +south +datum=WGS84 +units=m");t("EPSG:5041","+title=WGS 84 / UPS North (E,N) +proj=stere +lat_0=90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +datum=WGS84 +units=m"),t("EPSG:5042","+title=WGS 84 / UPS South (E,N) +proj=stere +lat_0=-90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +datum=WGS84 +units=m"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var Gc=1,Wc=2,gf=3,hJ=4,WP=5,r4=6378137,fJ=6356752314e-3,i4=.0066943799901413165,Fp=484813681109536e-20,Se=Math.PI/2,dJ=.16666666666666666,pJ=.04722222222222222,mJ=.022156084656084655,Le=1e-10,En=.017453292519943295,wi=57.29577951308232,Bt=Math.PI/4,fm=Math.PI*2,On=3.14159265359,xi={};xi.greenwich=0;xi.lisbon=-9.131906111111;xi.paris=2.337229166667;xi.bogota=-74.080916666667;xi.madrid=-3.687938888889;xi.rome=12.452333333333;xi.bern=7.439583333333;xi.jakarta=106.807719444444;xi.ferro=-17.666666666667;xi.brussels=4.367975;xi.stockholm=18.058277777778;xi.athens=23.7163375;xi.oslo=10.722916666667;const gJ={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.1},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}};var a4=/[\s_\-\/\(\)]/g;function _l(t,e){if(t[e])return t[e];for(var n=Object.keys(t),r=e.toLowerCase().replace(a4,""),i=-1,a,s;++i<n.length;)if(a=n[i],s=a.toLowerCase().replace(a4,""),s===r)return t[a]}function HP(t){var e={},n=t.split("+").map(function(o){return o.trim()}).filter(function(o){return o}).reduce(function(o,c){var f=c.split("=");return f.push(!0),o[f[0].toLowerCase()]=f[1],o},{}),r,i,a,s={proj:"projName",datum:"datumCode",rf:function(o){e.rf=parseFloat(o)},lat_0:function(o){e.lat0=o*En},lat_1:function(o){e.lat1=o*En},lat_2:function(o){e.lat2=o*En},lat_ts:function(o){e.lat_ts=o*En},lon_0:function(o){e.long0=o*En},lon_1:function(o){e.long1=o*En},lon_2:function(o){e.long2=o*En},alpha:function(o){e.alpha=parseFloat(o)*En},gamma:function(o){e.rectified_grid_angle=parseFloat(o)*En},lonc:function(o){e.longc=o*En},x_0:function(o){e.x0=parseFloat(o)},y_0:function(o){e.y0=parseFloat(o)},k_0:function(o){e.k0=parseFloat(o)},k:function(o){e.k0=parseFloat(o)},a:function(o){e.a=parseFloat(o)},b:function(o){e.b=parseFloat(o)},r:function(o){e.a=e.b=parseFloat(o)},r_a:function(){e.R_A=!0},zone:function(o){e.zone=parseInt(o,10)},south:function(){e.utmSouth=!0},towgs84:function(o){e.datum_params=o.split(",").map(function(c){return parseFloat(c)})},to_meter:function(o){e.to_meter=parseFloat(o)},units:function(o){e.units=o;var c=_l(gJ,o);c&&(e.to_meter=c.to_meter)},from_greenwich:function(o){e.from_greenwich=o*En},pm:function(o){var c=_l(xi,o);e.from_greenwich=(c||parseFloat(o))*En},nadgrids:function(o){o==="@null"?e.datumCode="none":e.nadgrids=o},axis:function(o){var c="ewnsud";o.length===3&&c.indexOf(o.substr(0,1))!==-1&&c.indexOf(o.substr(1,1))!==-1&&c.indexOf(o.substr(2,1))!==-1&&(e.axis=o)},approx:function(){e.approx=!0},over:function(){e.over=!0}};for(r in n)i=n[r],r in s?(a=s[r],typeof a=="function"?a(i):e[a]=i):e[r]=i;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e.projStr=t,e}class g7{static getId(e){const n=e.find(r=>Array.isArray(r)&&r[0]==="ID");return n&&n.length>=3?{authority:n[1],code:parseInt(n[2],10)}:null}static convertUnit(e,n="unit"){if(!e||e.length<3)return{type:n,name:"unknown",conversion_factor:null};const r=e[1],i=parseFloat(e[2])||null,a=e.find(o=>Array.isArray(o)&&o[0]==="ID"),s=a?{authority:a[1],code:parseInt(a[2],10)}:null;return{type:n,name:r,conversion_factor:i,id:s}}static convertAxis(e){const n=e[1]||"Unknown";let r;const i=n.match(/^\((.)\)$/);if(i){const f=i[1].toUpperCase();if(f==="E")r="east";else if(f==="N")r="north";else if(f==="U")r="up";else throw new Error(`Unknown axis abbreviation: ${f}`)}else r=e[2]?e[2].toLowerCase():"unknown";const a=e.find(f=>Array.isArray(f)&&f[0]==="ORDER"),s=a?parseInt(a[1],10):null,o=e.find(f=>Array.isArray(f)&&(f[0]==="LENGTHUNIT"||f[0]==="ANGLEUNIT"||f[0]==="SCALEUNIT")),c=this.convertUnit(o);return{name:n,direction:r,unit:c,order:s}}static extractAxes(e){return e.filter(n=>Array.isArray(n)&&n[0]==="AXIS").map(n=>this.convertAxis(n)).sort((n,r)=>(n.order||0)-(r.order||0))}static convert(e,n={}){switch(e[0]){case"PROJCRS":n.type="ProjectedCRS",n.name=e[1],n.base_crs=e.find(y=>Array.isArray(y)&&y[0]==="BASEGEOGCRS")?this.convert(e.find(y=>Array.isArray(y)&&y[0]==="BASEGEOGCRS")):null,n.conversion=e.find(y=>Array.isArray(y)&&y[0]==="CONVERSION")?this.convert(e.find(y=>Array.isArray(y)&&y[0]==="CONVERSION")):null;const r=e.find(y=>Array.isArray(y)&&y[0]==="CS");r&&(n.coordinate_system={type:r[1],axis:this.extractAxes(e)});const i=e.find(y=>Array.isArray(y)&&y[0]==="LENGTHUNIT");if(i){const y=this.convertUnit(i);n.coordinate_system.unit=y}n.id=this.getId(e);break;case"BASEGEOGCRS":case"GEOGCRS":n.type="GeographicCRS",n.name=e[1];const a=e.find(y=>Array.isArray(y)&&(y[0]==="DATUM"||y[0]==="ENSEMBLE"));if(a){const y=this.convert(a);a[0]==="ENSEMBLE"?n.datum_ensemble=y:n.datum=y;const b=e.find(E=>Array.isArray(E)&&E[0]==="PRIMEM");b&&b[1]!=="Greenwich"&&(y.prime_meridian={name:b[1],longitude:parseFloat(b[2])})}n.coordinate_system={type:"ellipsoidal",axis:this.extractAxes(e)},n.id=this.getId(e);break;case"DATUM":n.type="GeodeticReferenceFrame",n.name=e[1],n.ellipsoid=e.find(y=>Array.isArray(y)&&y[0]==="ELLIPSOID")?this.convert(e.find(y=>Array.isArray(y)&&y[0]==="ELLIPSOID")):null;break;case"ENSEMBLE":n.type="DatumEnsemble",n.name=e[1],n.members=e.filter(y=>Array.isArray(y)&&y[0]==="MEMBER").map(y=>({type:"DatumEnsembleMember",name:y[1],id:this.getId(y)}));const s=e.find(y=>Array.isArray(y)&&y[0]==="ENSEMBLEACCURACY");s&&(n.accuracy=parseFloat(s[1]));const o=e.find(y=>Array.isArray(y)&&y[0]==="ELLIPSOID");o&&(n.ellipsoid=this.convert(o)),n.id=this.getId(e);break;case"ELLIPSOID":n.type="Ellipsoid",n.name=e[1],n.semi_major_axis=parseFloat(e[2]),n.inverse_flattening=parseFloat(e[3]),e.find(y=>Array.isArray(y)&&y[0]==="LENGTHUNIT")&&this.convert(e.find(y=>Array.isArray(y)&&y[0]==="LENGTHUNIT"),n);break;case"CONVERSION":n.type="Conversion",n.name=e[1],n.method=e.find(y=>Array.isArray(y)&&y[0]==="METHOD")?this.convert(e.find(y=>Array.isArray(y)&&y[0]==="METHOD")):null,n.parameters=e.filter(y=>Array.isArray(y)&&y[0]==="PARAMETER").map(y=>this.convert(y));break;case"METHOD":n.type="Method",n.name=e[1],n.id=this.getId(e);break;case"PARAMETER":n.type="Parameter",n.name=e[1],n.value=parseFloat(e[2]),n.unit=this.convertUnit(e.find(y=>Array.isArray(y)&&(y[0]==="LENGTHUNIT"||y[0]==="ANGLEUNIT"||y[0]==="SCALEUNIT"))),n.id=this.getId(e);break;case"BOUNDCRS":n.type="BoundCRS";const c=e.find(y=>Array.isArray(y)&&y[0]==="SOURCECRS");if(c){const y=c.find(b=>Array.isArray(b));n.source_crs=y?this.convert(y):null}const f=e.find(y=>Array.isArray(y)&&y[0]==="TARGETCRS");if(f){const y=f.find(b=>Array.isArray(b));n.target_crs=y?this.convert(y):null}const m=e.find(y=>Array.isArray(y)&&y[0]==="ABRIDGEDTRANSFORMATION");m?n.transformation=this.convert(m):n.transformation=null;break;case"ABRIDGEDTRANSFORMATION":if(n.type="Transformation",n.name=e[1],n.method=e.find(y=>Array.isArray(y)&&y[0]==="METHOD")?this.convert(e.find(y=>Array.isArray(y)&&y[0]==="METHOD")):null,n.parameters=e.filter(y=>Array.isArray(y)&&(y[0]==="PARAMETER"||y[0]==="PARAMETERFILE")).map(y=>{if(y[0]==="PARAMETER")return this.convert(y);if(y[0]==="PARAMETERFILE")return{name:y[1],value:y[2],id:{authority:"EPSG",code:8656}}}),n.parameters.length===7){const y=n.parameters[6];y.name==="Scale difference"&&(y.value=Math.round((y.value-1)*1e12)/1e6)}n.id=this.getId(e);break;case"AXIS":n.coordinate_system||(n.coordinate_system={type:"unspecified",axis:[]}),n.coordinate_system.axis.push(this.convertAxis(e));break;case"LENGTHUNIT":const p=this.convertUnit(e,"LinearUnit");n.coordinate_system&&n.coordinate_system.axis&&n.coordinate_system.axis.forEach(y=>{y.unit||(y.unit=p)}),p.conversion_factor&&p.conversion_factor!==1&&n.semi_major_axis&&(n.semi_major_axis={value:n.semi_major_axis,unit:p});break;default:n.keyword=e[0];break}return n}}class yJ extends g7{static convert(e,n={}){return super.convert(e,n),n.coordinate_system&&n.coordinate_system.subtype==="Cartesian"&&delete n.coordinate_system,n.usage&&delete n.usage,n}}class vJ extends g7{static convert(e,n={}){super.convert(e,n);const r=e.find(a=>Array.isArray(a)&&a[0]==="CS");r&&(n.coordinate_system={subtype:r[1],axis:this.extractAxes(e)});const i=e.find(a=>Array.isArray(a)&&a[0]==="USAGE");if(i){const a=i.find(c=>Array.isArray(c)&&c[0]==="SCOPE"),s=i.find(c=>Array.isArray(c)&&c[0]==="AREA"),o=i.find(c=>Array.isArray(c)&&c[0]==="BBOX");n.usage={},a&&(n.usage.scope=a[1]),s&&(n.usage.area=s[1]),o&&(n.usage.bbox=o.slice(1))}return n}}function _J(t){return t.find(e=>Array.isArray(e)&&e[0]==="USAGE")?"2019":(t.find(e=>Array.isArray(e)&&e[0]==="CS")||t[0]==="BOUNDCRS"||t[0]==="PROJCRS"||t[0]==="GEOGCRS","2015")}function wJ(t){return(_J(t)==="2019"?vJ:yJ).convert(t)}function bJ(t){const e=t.toUpperCase();return e.includes("PROJCRS")||e.includes("GEOGCRS")||e.includes("BOUNDCRS")||e.includes("VERTCRS")||e.includes("LENGTHUNIT")||e.includes("ANGLEUNIT")||e.includes("SCALEUNIT")?"WKT2":(e.includes("PROJCS")||e.includes("GEOGCS")||e.includes("LOCAL_CS")||e.includes("VERT_CS")||e.includes("UNIT"),"WKT1")}var dm=1,y7=2,v7=3,Yv=4,_7=5,FA=-1,xJ=/\s/,EJ=/[A-Za-z]/,SJ=/[A-Za-z84_]/,q0=/[,\]]/,w7=/[\d\.E\-\+]/;function nu(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=dm}nu.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==Yv)for(;xJ.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case dm:return this.neutral(t);case y7:return this.keyword(t);case Yv:return this.quoted(t);case _7:return this.afterquote(t);case v7:return this.number(t);case FA:return}};nu.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=Yv;return}if(q0.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)};nu.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=dm;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=dm,this.currentObject=this.stack.pop(),this.currentObject||(this.state=FA);return}};nu.prototype.number=function(t){if(w7.test(t)){this.word+=t;return}if(q0.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)};nu.prototype.quoted=function(t){if(t==='"'){this.state=_7;return}this.word+=t};nu.prototype.keyword=function(t){if(SJ.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=dm;return}if(q0.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)};nu.prototype.neutral=function(t){if(EJ.test(t)){this.word=t,this.state=y7;return}if(t==='"'){this.word="",this.state=Yv;return}if(w7.test(t)){this.word=t,this.state=v7;return}if(q0.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)};nu.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===FA)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function PJ(t){var e=new nu(t);return e.output()}function rb(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var r=e?{}:t,i=n.reduce(function(a,s){return nf(s,a),a},r);e&&(t[e]=i)}function nf(t,e){if(!Array.isArray(t)){e[t]=!0;return}var n=t.shift();if(n==="PARAMETER"&&(n=t.shift()),t.length===1){if(Array.isArray(t[0])){e[n]={},nf(t[0],e[n]);return}e[n]=t[0];return}if(!t.length){e[n]=!0;return}if(n==="TOWGS84"){e[n]=t;return}if(n==="AXIS"){n in e||(e[n]=[]),e[n].push(t);return}Array.isArray(n)||(e[n]={});var r;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[n]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&nf(t[2],e[n]);return;case"SPHEROID":case"ELLIPSOID":e[n]={name:t[0],a:t[1],rf:t[2]},t.length===4&&nf(t[3],e[n]);return;case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":t[0]=["name",t[0]],rb(e,n,t);return;case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":t[0]=["name",t[0]],rb(e,n,t),e[n].type=n;return;default:for(r=-1;++r<t.length;)if(!Array.isArray(t[r]))return nf(t,e[n]);return rb(e,n,t)}}var TJ=.017453292519943295;function Xa(t){return t*TJ}function b7(t){const e=(t.projName||"").toLowerCase().replace(/_/g," ");!t.long0&&t.longc&&(e==="albers conic equal area"||e==="lambert azimuthal equal area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(e==="stereographic south pole"||e==="polar stereographic (variant b)")?(t.lat0=Xa(t.lat1>0?90:-90),t.lat_ts=t.lat1,delete t.lat1):!t.lat_ts&&t.lat0&&(e==="polar stereographic"||e==="polar stereographic (variant a)")&&(t.lat_ts=t.lat0,t.lat0=Xa(t.lat0>0?90:-90),delete t.lat1)}function s4(t){let e={units:null,to_meter:void 0};return typeof t=="string"?(e.units=t.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.units==="meter"&&(e.to_meter=1)):t&&t.name&&(e.units=t.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.to_meter=t.conversion_factor),e}function o4(t){return typeof t=="object"?t.value*t.unit.conversion_factor:t}function u4(t,e){t.ellipsoid.radius?(e.a=t.ellipsoid.radius,e.rf=0):(e.a=o4(t.ellipsoid.semi_major_axis),t.ellipsoid.inverse_flattening!==void 0?e.rf=t.ellipsoid.inverse_flattening:t.ellipsoid.semi_major_axis!==void 0&&t.ellipsoid.semi_minor_axis!==void 0&&(e.rf=e.a/(e.a-o4(t.ellipsoid.semi_minor_axis))))}function Qv(t,e={}){return!t||typeof t!="object"?t:t.type==="BoundCRS"?(Qv(t.source_crs,e),t.transformation&&(t.transformation.method&&t.transformation.method.name==="NTv2"?e.nadgrids=t.transformation.parameters[0].value:e.datum_params=t.transformation.parameters.map(n=>n.value)),e):(Object.keys(t).forEach(n=>{const r=t[n];if(r!==null)switch(n){case"name":if(e.srsCode)break;e.name=r,e.srsCode=r;break;case"type":r==="GeographicCRS"?e.projName="longlat":r==="ProjectedCRS"&&t.conversion&&t.conversion.method&&(e.projName=t.conversion.method.name);break;case"datum":case"datum_ensemble":r.ellipsoid&&(e.ellps=r.ellipsoid.name,u4(r,e)),r.prime_meridian&&(e.from_greenwich=r.prime_meridian.longitude*Math.PI/180);break;case"ellipsoid":e.ellps=r.name,u4(r,e);break;case"prime_meridian":e.long0=(r.longitude||0)*Math.PI/180;break;case"coordinate_system":if(r.axis){if(e.axis=r.axis.map(i=>{const a=i.direction;if(a==="east")return"e";if(a==="north")return"n";if(a==="west")return"w";if(a==="south")return"s";throw new Error(`Unknown axis direction: ${a}`)}).join("")+"u",r.unit){const{units:i,to_meter:a}=s4(r.unit);e.units=i,e.to_meter=a}else if(r.axis[0]&&r.axis[0].unit){const{units:i,to_meter:a}=s4(r.axis[0].unit);e.units=i,e.to_meter=a}}break;case"id":r.authority&&r.code&&(e.title=r.authority+":"+r.code);break;case"conversion":r.method&&r.method.name&&(e.projName=r.method.name),r.parameters&&r.parameters.forEach(i=>{const a=i.name.toLowerCase().replace(/\s+/g,"_"),s=i.value;i.unit&&i.unit.conversion_factor?e[a]=s*i.unit.conversion_factor:i.unit==="degree"?e[a]=s*Math.PI/180:e[a]=s});break;case"unit":r.name&&(e.units=r.name.toLowerCase(),e.units==="metre"&&(e.units="meter")),r.conversion_factor&&(e.to_meter=r.conversion_factor);break;case"base_crs":Qv(r,e),e.datumCode=r.id?r.id.authority+"_"+r.id.code:r.name;break}}),e.latitude_of_false_origin!==void 0&&(e.lat0=e.latitude_of_false_origin),e.longitude_of_false_origin!==void 0&&(e.long0=e.longitude_of_false_origin),e.latitude_of_standard_parallel!==void 0&&(e.lat0=e.latitude_of_standard_parallel,e.lat1=e.latitude_of_standard_parallel),e.latitude_of_1st_standard_parallel!==void 0&&(e.lat1=e.latitude_of_1st_standard_parallel),e.latitude_of_2nd_standard_parallel!==void 0&&(e.lat2=e.latitude_of_2nd_standard_parallel),e.latitude_of_projection_centre!==void 0&&(e.lat0=e.latitude_of_projection_centre),e.longitude_of_projection_centre!==void 0&&(e.longc=e.longitude_of_projection_centre),e.easting_at_false_origin!==void 0&&(e.x0=e.easting_at_false_origin),e.northing_at_false_origin!==void 0&&(e.y0=e.northing_at_false_origin),e.latitude_of_natural_origin!==void 0&&(e.lat0=e.latitude_of_natural_origin),e.longitude_of_natural_origin!==void 0&&(e.long0=e.longitude_of_natural_origin),e.longitude_of_origin!==void 0&&(e.long0=e.longitude_of_origin),e.false_easting!==void 0&&(e.x0=e.false_easting),e.easting_at_projection_centre&&(e.x0=e.easting_at_projection_centre),e.false_northing!==void 0&&(e.y0=e.false_northing),e.northing_at_projection_centre&&(e.y0=e.northing_at_projection_centre),e.standard_parallel_1!==void 0&&(e.lat1=e.standard_parallel_1),e.standard_parallel_2!==void 0&&(e.lat2=e.standard_parallel_2),e.scale_factor_at_natural_origin!==void 0&&(e.k0=e.scale_factor_at_natural_origin),e.scale_factor_at_projection_centre!==void 0&&(e.k0=e.scale_factor_at_projection_centre),e.scale_factor_on_pseudo_standard_parallel!==void 0&&(e.k0=e.scale_factor_on_pseudo_standard_parallel),e.azimuth!==void 0&&(e.alpha=e.azimuth),e.azimuth_at_projection_centre!==void 0&&(e.alpha=e.azimuth_at_projection_centre),e.angle_from_rectified_to_skew_grid&&(e.rectified_grid_angle=e.angle_from_rectified_to_skew_grid),b7(e),e)}var AJ=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function IJ(t,e){var n=e[0],r=e[1];!(n in t)&&r in t&&(t[n]=t[r],e.length===3&&(t[n]=e[2](t[n])))}function x7(t){for(var e=Object.keys(t),n=0,r=e.length;n<r;++n){var i=e[n];AJ.indexOf(i)!==-1&&MJ(t[i]),typeof t[i]=="object"&&x7(t[i])}}function MJ(t){if(t.AUTHORITY){var e=Object.keys(t.AUTHORITY)[0];e&&e in t.AUTHORITY&&(t.title=e+":"+t.AUTHORITY[e])}if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var n="",r=0,i=t.AXIS.length;r<i;++r){var a=[t.AXIS[r][0].toLowerCase(),t.AXIS[r][1].toLowerCase()];a[0].indexOf("north")!==-1||(a[0]==="y"||a[0]==="lat")&&a[1]==="north"?n+="n":a[0].indexOf("south")!==-1||(a[0]==="y"||a[0]==="lat")&&a[1]==="south"?n+="s":a[0].indexOf("east")!==-1||(a[0]==="x"||a[0]==="lon")&&a[1]==="east"?n+="e":(a[0].indexOf("west")!==-1||(a[0]==="x"||a[0]==="lon")&&a[1]==="west")&&(n+="w")}n.length===2&&(n+="u"),n.length===3&&(t.axis=n)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;t.type==="GEOGCS"&&(s=t),s&&(s.DATUM?t.datumCode=s.DATUM.name.toLowerCase():t.datumCode=s.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),t.datumCode==="new_zealand_1949"&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode==="belge_1972"&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),t.rectified_grid_angle&&(t.rectified_grid_angle=Xa(t.rectified_grid_angle));function o(m){var p=t.to_meter||1;return m*p}var c=function(m){return IJ(t,m)},f=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Xa],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Xa],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",Xa],["lat0","latitude_of_origin",Xa],["lat0","standard_parallel_1",Xa],["lat1","standard_parallel_1",Xa],["lat2","standard_parallel_2",Xa],["azimuth","Azimuth"],["alpha","azimuth",Xa],["srsCode","name"]];f.forEach(c),b7(t)}function Jv(t){if(typeof t=="object")return Qv(t);const e=bJ(t);var n=PJ(t);if(e==="WKT2"){const a=wJ(n);return Qv(a)}var r=n[0],i={};return nf(n,i),x7(i),i[r]}function pr(t){var e=this;if(arguments.length===2){var n=arguments[1];typeof n=="string"?n.charAt(0)==="+"?pr[t]=HP(arguments[1]):pr[t]=Jv(arguments[1]):n&&typeof n=="object"&&!("projName"in n)?pr[t]=Jv(arguments[1]):(pr[t]=n,n||delete pr[t])}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(r){return Array.isArray(r)?pr.apply(e,r):pr(r)});if(typeof t=="string"){if(t in pr)return pr[t]}else"EPSG"in t?pr["EPSG:"+t.EPSG]=t:"ESRI"in t?pr["ESRI:"+t.ESRI]=t:"IAU2000"in t?pr["IAU2000:"+t.IAU2000]=t:console.log(t);return}}cJ(pr);function CJ(t){return typeof t=="string"}function OJ(t){return t in pr}function RJ(t){return t.indexOf("+")!==0&&t.indexOf("[")!==-1||typeof t=="object"&&!("srsCode"in t)}var kJ=["3857","900913","3785","102113"];function NJ(t){var e=_l(t,"authority");if(e){var n=_l(e,"epsg");return n&&kJ.indexOf(n)>-1}}function LJ(t){var e=_l(t,"extension");if(e)return _l(e,"proj4")}function DJ(t){return t[0]==="+"}function jJ(t){if(CJ(t)){if(OJ(t))return pr[t];if(RJ(t)){var e=Jv(t);if(NJ(e))return pr["EPSG:3857"];var n=LJ(e);return n?HP(n):e}if(DJ(t))return HP(t)}else return"projName"in t?t:Jv(t)}function l4(t,e){t=t||{};var n,r;if(!e)return t;for(r in e)n=e[r],n!==void 0&&(t[r]=n);return t}function Gs(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)}function pg(t){return t<0?-1:1}function Ve(t,e){return e||Math.abs(t)<=On?t:t-pg(t)*fm}function ss(t,e,n){var r=t*n,i=.5*t;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(Se-e))/r}function pm(t,e){for(var n=.5*t,r,i,a=Se-2*Math.atan(e),s=0;s<=15;s++)if(r=t*Math.sin(a),i=Se-2*Math.atan(e*Math.pow((1-r)/(1+r),n))-a,a+=i,Math.abs(i)<=1e-10)return a;return-9999}function VJ(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Gs(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function FJ(t){var e=t.x,n=t.y;if(n*wi>90&&n*wi<-90&&e*wi>180&&e*wi<-180)return null;var r,i;if(Math.abs(Math.abs(n)-Se)<=Le)return null;if(this.sphere)r=this.x0+this.a*this.k0*Ve(e-this.long0,this.over),i=this.y0+this.a*this.k0*Math.log(Math.tan(Bt+.5*n));else{var a=Math.sin(n),s=ss(this.e,n,a);r=this.x0+this.a*this.k0*Ve(e-this.long0,this.over),i=this.y0-this.a*this.k0*Math.log(s)}return t.x=r,t.y=i,t}function BJ(t){var e=t.x-this.x0,n=t.y-this.y0,r,i;if(this.sphere)i=Se-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var a=Math.exp(-n/(this.a*this.k0));if(i=pm(this.e,a),i===-9999)return null}return r=Ve(this.long0+e/(this.a*this.k0),this.over),t.x=r,t.y=i,t}var $J=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","Mercator_Variant_A","merc"];const zJ={init:VJ,forward:FJ,inverse:BJ,names:$J};function UJ(){}function c4(t){return t}var E7=["longlat","identity"];const qJ={init:UJ,forward:c4,inverse:c4,names:E7};var GJ=[zJ,qJ],fc={},rf=[];function S7(t,e){var n=rf.length;return t.names?(rf[n]=t,t.names.forEach(function(r){fc[r.toLowerCase()]=n}),this):(console.log(e),!0)}function P7(t){return t.replace(/[-\(\)\s]+/g," ").trim().replace(/ /g,"_")}function WJ(t){if(!t)return!1;var e=t.toLowerCase();if(typeof fc[e]<"u"&&rf[fc[e]]||(e=P7(e),e in fc&&rf[fc[e]]))return rf[fc[e]]}function HJ(){GJ.forEach(S7)}const KJ={start:HJ,add:S7,get:WJ};var T7={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},andrae:{a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},clrk80:{a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"},WGS84:{a:6378137,rf:298.257223563,ellipseName:"WGS 84"},sphere:{a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}};const ZJ=T7.WGS84;function XJ(t,e,n,r){var i=t*t,a=e*e,s=(i-a)/i,o=0;r?(t*=1-s*(dJ+s*(pJ+s*mJ)),i=t*t,s=0):o=Math.sqrt(s);var c=(i-a)/a;return{es:s,e:o,ep2:c}}function YJ(t,e,n,r,i){if(!t){var a=_l(T7,r);a||(a=ZJ),t=a.a,e=a.b,n=a.rf}return n&&!e&&(e=(1-1/n)*t),(n===0||Math.abs(t-e)<Le)&&(i=!0,e=t),{a:t,b:e,rf:n,sphere:i}}var bv={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},mgi:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},EPSG_5451:{towgs84:"6.41,-49.05,-11.28,1.5657,0.5242,6.9718,-5.7649"},IGNF_LURESG:{towgs84:"-192.986,13.673,-39.309,-0.4099,-2.9332,2.6881,0.43"},EPSG_4614:{towgs84:"-119.4248,-303.65872,-11.00061,1.164298,0.174458,1.096259,3.657065"},EPSG_4615:{towgs84:"-494.088,-312.129,279.877,-1.423,-1.013,1.59,-0.748"},ESRI_37241:{towgs84:"-76.822,257.457,-12.817,2.136,-0.033,-2.392,-0.031"},ESRI_37249:{towgs84:"-440.296,58.548,296.265,1.128,10.202,4.559,-0.438"},ESRI_37245:{towgs84:"-511.151,-181.269,139.609,1.05,2.703,1.798,3.071"},EPSG_4178:{towgs84:"24.9,-126.4,-93.2,-0.063,-0.247,-0.041,1.01"},EPSG_4622:{towgs84:"-472.29,-5.63,-304.12,0.4362,-0.8374,0.2563,1.8984"},EPSG_4625:{towgs84:"126.93,547.94,130.41,-2.7867,5.1612,-0.8584,13.8227"},EPSG_5252:{towgs84:"0.023,0.036,-0.068,0.00176,0.00912,-0.01136,0.00439"},EPSG_4314:{towgs84:"597.1,71.4,412.1,0.894,0.068,-1.563,7.58"},EPSG_4282:{towgs84:"-178.3,-316.7,-131.5,5.278,6.077,10.979,19.166"},EPSG_4231:{towgs84:"-83.11,-97.38,-117.22,0.0276,-0.2167,0.2147,0.1218"},EPSG_4274:{towgs84:"-230.994,102.591,25.199,0.633,-0.239,0.9,1.95"},EPSG_4134:{towgs84:"-180.624,-225.516,173.919,-0.81,-1.898,8.336,16.71006"},EPSG_4254:{towgs84:"18.38,192.45,96.82,0.056,-0.142,-0.2,-0.0013"},EPSG_4159:{towgs84:"-194.513,-63.978,-25.759,-3.4027,3.756,-3.352,-0.9175"},EPSG_4687:{towgs84:"0.072,-0.507,-0.245,0.0183,-0.0003,0.007,-0.0093"},EPSG_4227:{towgs84:"-83.58,-397.54,458.78,-17.595,-2.847,4.256,3.225"},EPSG_4746:{towgs84:"599.4,72.4,419.2,-0.062,-0.022,-2.723,6.46"},EPSG_4745:{towgs84:"612.4,77,440.2,-0.054,0.057,-2.797,2.55"},EPSG_6311:{towgs84:"8.846,-4.394,-1.122,-0.00237,-0.146528,0.130428,0.783926"},EPSG_4289:{towgs84:"565.7381,50.4018,465.2904,-1.91514,1.60363,-9.09546,4.07244"},EPSG_4230:{towgs84:"-68.863,-134.888,-111.49,-0.53,-0.14,0.57,-3.4"},EPSG_4154:{towgs84:"-123.02,-158.95,-168.47"},EPSG_4156:{towgs84:"570.8,85.7,462.8,4.998,1.587,5.261,3.56"},EPSG_4299:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4179:{towgs84:"33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84"},EPSG_4313:{towgs84:"-106.8686,52.2978,-103.7239,0.3366,-0.457,1.8422,-1.2747"},EPSG_4194:{towgs84:"163.511,127.533,-159.789"},EPSG_4195:{towgs84:"105,326,-102.5"},EPSG_4196:{towgs84:"-45,417,-3.5"},EPSG_4611:{towgs84:"-162.619,-276.959,-161.764,0.067753,-2.243649,-1.158827,-1.094246"},EPSG_4633:{towgs84:"137.092,131.66,91.475,-1.9436,-11.5993,-4.3321,-7.4824"},EPSG_4641:{towgs84:"-408.809,366.856,-412.987,1.8842,-0.5308,2.1655,-121.0993"},EPSG_4643:{towgs84:"-480.26,-438.32,-643.429,16.3119,20.1721,-4.0349,-111.7002"},EPSG_4300:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4188:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4660:{towgs84:"982.6087,552.753,-540.873,32.39344,-153.25684,-96.2266,16.805"},EPSG_4662:{towgs84:"97.295,-263.247,310.882,-1.5999,0.8386,3.1409,13.3259"},EPSG_3906:{towgs84:"577.88891,165.22205,391.18289,4.9145,-0.94729,-13.05098,7.78664"},EPSG_4307:{towgs84:"-209.3622,-87.8162,404.6198,0.0046,3.4784,0.5805,-1.4547"},EPSG_6892:{towgs84:"-76.269,-16.683,68.562,-6.275,10.536,-4.286,-13.686"},EPSG_4690:{towgs84:"221.597,152.441,176.523,2.403,1.3893,0.884,11.4648"},EPSG_4691:{towgs84:"218.769,150.75,176.75,3.5231,2.0037,1.288,10.9817"},EPSG_4629:{towgs84:"72.51,345.411,79.241,-1.5862,-0.8826,-0.5495,1.3653"},EPSG_4630:{towgs84:"165.804,216.213,180.26,-0.6251,-0.4515,-0.0721,7.4111"},EPSG_4692:{towgs84:"217.109,86.452,23.711,0.0183,-0.0003,0.007,-0.0093"},EPSG_9333:{towgs84:"0,0,0,-8.393,0.749,-10.276,0"},EPSG_9059:{towgs84:"0,0,0"},EPSG_4312:{towgs84:"601.705,84.263,485.227,4.7354,1.3145,5.393,-2.3887"},EPSG_4123:{towgs84:"-96.062,-82.428,-121.753,4.801,0.345,-1.376,1.496"},EPSG_4309:{towgs84:"-124.45,183.74,44.64,-0.4384,0.5446,-0.9706,-2.1365"},ESRI_104106:{towgs84:"-283.088,-70.693,117.445,-1.157,0.059,-0.652,-4.058"},EPSG_4281:{towgs84:"-219.247,-73.802,269.529"},EPSG_4322:{towgs84:"0,0,4.5"},EPSG_4324:{towgs84:"0,0,1.9"},EPSG_4284:{towgs84:"43.822,-108.842,-119.585,1.455,-0.761,0.737,0.549"},EPSG_4277:{towgs84:"446.448,-125.157,542.06,0.15,0.247,0.842,-20.489"},EPSG_4207:{towgs84:"-282.1,-72.2,120,-1.529,0.145,-0.89,-4.46"},EPSG_4688:{towgs84:"347.175,1077.618,2623.677,33.9058,-70.6776,9.4013,186.0647"},EPSG_4689:{towgs84:"410.793,54.542,80.501,-2.5596,-2.3517,-0.6594,17.3218"},EPSG_4720:{towgs84:"0,0,4.5"},EPSG_4273:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},EPSG_4240:{towgs84:"204.64,834.74,293.8"},EPSG_4817:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},ESRI_104131:{towgs84:"426.62,142.62,460.09,4.98,4.49,-12.42,-17.1"},EPSG_4265:{towgs84:"-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68"},EPSG_4263:{towgs84:"-111.92,-87.85,114.5,1.875,0.202,0.219,0.032"},EPSG_4298:{towgs84:"-689.5937,623.84046,-65.93566,-0.02331,1.17094,-0.80054,5.88536"},EPSG_4270:{towgs84:"-253.4392,-148.452,386.5267,0.15605,0.43,-0.1013,-0.0424"},EPSG_4229:{towgs84:"-121.8,98.1,-10.7"},EPSG_4220:{towgs84:"-55.5,-348,-229.2"},EPSG_4214:{towgs84:"12.646,-155.176,-80.863"},EPSG_4232:{towgs84:"-345,3,223"},EPSG_4238:{towgs84:"-1.977,-13.06,-9.993,0.364,0.254,0.689,-1.037"},EPSG_4168:{towgs84:"-170,33,326"},EPSG_4131:{towgs84:"199,931,318.9"},EPSG_4152:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_5228:{towgs84:"572.213,85.334,461.94,4.9732,1.529,5.2484,3.5378"},EPSG_8351:{towgs84:"485.021,169.465,483.839,7.786342,4.397554,4.102655,0"},EPSG_4683:{towgs84:"-127.62,-67.24,-47.04,-3.068,4.903,1.578,-1.06"},EPSG_4133:{towgs84:"0,0,0"},EPSG_7373:{towgs84:"0.819,-0.5762,-1.6446,-0.00378,-0.03317,0.00318,0.0693"},EPSG_9075:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9072:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9294:{towgs84:"1.16835,-1.42001,-2.24431,-0.00822,-0.05508,0.01818,0.23388"},EPSG_4212:{towgs84:"-267.434,173.496,181.814,-13.4704,8.7154,7.3926,14.7492"},EPSG_4191:{towgs84:"-44.183,-0.58,-38.489,2.3867,2.7072,-3.5196,-8.2703"},EPSG_4237:{towgs84:"52.684,-71.194,-13.975,-0.312,-0.1063,-0.3729,1.0191"},EPSG_4740:{towgs84:"-1.08,-0.27,-0.9"},EPSG_4124:{towgs84:"419.3836,99.3335,591.3451,0.850389,1.817277,-7.862238,-0.99496"},EPSG_5681:{towgs84:"584.9636,107.7175,413.8067,1.1155,0.2824,-3.1384,7.9922"},EPSG_4141:{towgs84:"23.772,17.49,17.859,-0.3132,-1.85274,1.67299,-5.4262"},EPSG_4204:{towgs84:"-85.645,-273.077,-79.708,2.289,-1.421,2.532,3.194"},EPSG_4319:{towgs84:"226.702,-193.337,-35.371,-2.229,-4.391,9.238,0.9798"},EPSG_4200:{towgs84:"24.82,-131.21,-82.66"},EPSG_4130:{towgs84:"0,0,0"},EPSG_4127:{towgs84:"-82.875,-57.097,-156.768,-2.158,1.524,-0.982,-0.359"},EPSG_4149:{towgs84:"674.374,15.056,405.346"},EPSG_4617:{towgs84:"-0.991,1.9072,0.5129,1.25033e-7,4.6785e-8,5.6529e-8,0"},EPSG_4663:{towgs84:"-210.502,-66.902,-48.476,2.094,-15.067,-5.817,0.485"},EPSG_4664:{towgs84:"-211.939,137.626,58.3,-0.089,0.251,0.079,0.384"},EPSG_4665:{towgs84:"-105.854,165.589,-38.312,-0.003,-0.026,0.024,-0.048"},EPSG_4666:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},EPSG_4756:{towgs84:"-192.873,-39.382,-111.202,-0.00205,-0.0005,0.00335,0.0188"},EPSG_4723:{towgs84:"-179.483,-69.379,-27.584,-7.862,8.163,6.042,-13.925"},EPSG_4726:{towgs84:"8.853,-52.644,180.304,-0.393,-2.323,2.96,-24.081"},EPSG_4267:{towgs84:"-8.0,160.0,176.0"},EPSG_5365:{towgs84:"-0.16959,0.35312,0.51846,0.03385,-0.16325,0.03446,0.03693"},EPSG_4218:{towgs84:"304.5,306.5,-318.1"},EPSG_4242:{towgs84:"-33.722,153.789,94.959,-8.581,-4.478,4.54,8.95"},EPSG_4216:{towgs84:"-292.295,248.758,429.447,4.9971,2.99,6.6906,1.0289"},ESRI_104105:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},ESRI_104129:{towgs84:"0,0,0"},EPSG_4673:{towgs84:"174.05,-25.49,112.57"},EPSG_4202:{towgs84:"-124,-60,154"},EPSG_4203:{towgs84:"-117.763,-51.51,139.061,0.292,0.443,0.277,-0.191"},EPSG_3819:{towgs84:"595.48,121.69,515.35,4.115,-2.9383,0.853,-3.408"},EPSG_8694:{towgs84:"-93.799,-132.737,-219.073,-1.844,0.648,-6.37,-0.169"},EPSG_4145:{towgs84:"275.57,676.78,229.6"},EPSG_4283:{towgs84:"61.55,-10.87,-40.19,39.4924,32.7221,32.8979,-9.994"},EPSG_4317:{towgs84:"2.3287,-147.0425,-92.0802,-0.3092483,0.32482185,0.49729934,5.68906266"},EPSG_4272:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993"},EPSG_4248:{towgs84:"-307.7,265.3,-363.5"},EPSG_5561:{towgs84:"24,-121,-76"},EPSG_5233:{towgs84:"-0.293,766.95,87.713,0.195704,1.695068,3.473016,-0.039338"},ESRI_104130:{towgs84:"-86,-98,-119"},ESRI_104102:{towgs84:"682,-203,480"},ESRI_37207:{towgs84:"7,-10,-26"},EPSG_4675:{towgs84:"59.935,118.4,-10.871"},ESRI_104109:{towgs84:"-89.121,-348.182,260.871"},ESRI_104112:{towgs84:"-185.583,-230.096,281.361"},ESRI_104113:{towgs84:"25.1,-275.6,222.6"},IGNF_WGS72G:{towgs84:"0,12,6"},IGNF_NTFG:{towgs84:"-168,-60,320"},IGNF_EFATE57G:{towgs84:"-127,-769,472"},IGNF_PGP50G:{towgs84:"324.8,153.6,172.1"},IGNF_REUN47G:{towgs84:"94,-948,-1262"},IGNF_CSG67G:{towgs84:"-186,230,110"},IGNF_GUAD48G:{towgs84:"-467,-16,-300"},IGNF_TAHI51G:{towgs84:"162,117,154"},IGNF_TAHAAG:{towgs84:"65,342,77"},IGNF_NUKU72G:{towgs84:"84,274,65"},IGNF_PETRELS72G:{towgs84:"365,194,166"},IGNF_WALL78G:{towgs84:"253,-133,-127"},IGNF_MAYO50G:{towgs84:"-382,-59,-262"},IGNF_TANNAG:{towgs84:"-139,-967,436"},IGNF_IGN72G:{towgs84:"-13,-348,292"},IGNF_ATIGG:{towgs84:"1118,23,66"},IGNF_FANGA84G:{towgs84:"150.57,158.33,118.32"},IGNF_RUSAT84G:{towgs84:"202.13,174.6,-15.74"},IGNF_KAUE70G:{towgs84:"126.74,300.1,-75.49"},IGNF_MOP90G:{towgs84:"-10.8,-1.8,12.77"},IGNF_MHPF67G:{towgs84:"338.08,212.58,-296.17"},IGNF_TAHI79G:{towgs84:"160.61,116.05,153.69"},IGNF_ANAA92G:{towgs84:"1.5,3.84,4.81"},IGNF_MARQUI72G:{towgs84:"330.91,-13.92,58.56"},IGNF_APAT86G:{towgs84:"143.6,197.82,74.05"},IGNF_TUBU69G:{towgs84:"237.17,171.61,-77.84"},IGNF_STPM50G:{towgs84:"11.363,424.148,373.13"},EPSG_4150:{towgs84:"674.374,15.056,405.346"},EPSG_4754:{towgs84:"-208.4058,-109.8777,-2.5764"},ESRI_104101:{towgs84:"374,150,588"},EPSG_4693:{towgs84:"0,-0.15,0.68"},EPSG_6207:{towgs84:"293.17,726.18,245.36"},EPSG_4153:{towgs84:"-133.63,-157.5,-158.62"},EPSG_4132:{towgs84:"-241.54,-163.64,396.06"},EPSG_4221:{towgs84:"-154.5,150.7,100.4"},EPSG_4266:{towgs84:"-80.7,-132.5,41.1"},EPSG_4193:{towgs84:"-70.9,-151.8,-41.4"},EPSG_5340:{towgs84:"-0.41,0.46,-0.35"},EPSG_4246:{towgs84:"-294.7,-200.1,525.5"},EPSG_4318:{towgs84:"-3.2,-5.7,2.8"},EPSG_4121:{towgs84:"-199.87,74.79,246.62"},EPSG_4223:{towgs84:"-260.1,5.5,432.2"},EPSG_4158:{towgs84:"-0.465,372.095,171.736"},EPSG_4285:{towgs84:"-128.16,-282.42,21.93"},EPSG_4613:{towgs84:"-404.78,685.68,45.47"},EPSG_4607:{towgs84:"195.671,332.517,274.607"},EPSG_4475:{towgs84:"-381.788,-57.501,-256.673"},EPSG_4208:{towgs84:"-157.84,308.54,-146.6"},EPSG_4743:{towgs84:"70.995,-335.916,262.898"},EPSG_4710:{towgs84:"-323.65,551.39,-491.22"},EPSG_7881:{towgs84:"-0.077,0.079,0.086"},EPSG_4682:{towgs84:"283.729,735.942,261.143"},EPSG_4739:{towgs84:"-156,-271,-189"},EPSG_4679:{towgs84:"-80.01,253.26,291.19"},EPSG_4750:{towgs84:"-56.263,16.136,-22.856"},EPSG_4644:{towgs84:"-10.18,-350.43,291.37"},EPSG_4695:{towgs84:"-103.746,-9.614,-255.95"},EPSG_4292:{towgs84:"-355,21,72"},EPSG_4302:{towgs84:"-61.702,284.488,472.052"},EPSG_4143:{towgs84:"-124.76,53,466.79"},EPSG_4606:{towgs84:"-153,153,307"},EPSG_4699:{towgs84:"-770.1,158.4,-498.2"},EPSG_4247:{towgs84:"-273.5,110.6,-357.9"},EPSG_4160:{towgs84:"8.88,184.86,106.69"},EPSG_4161:{towgs84:"-233.43,6.65,173.64"},EPSG_9251:{towgs84:"-9.5,122.9,138.2"},EPSG_9253:{towgs84:"-78.1,101.6,133.3"},EPSG_4297:{towgs84:"-198.383,-240.517,-107.909"},EPSG_4269:{towgs84:"0,0,0"},EPSG_4301:{towgs84:"-147,506,687"},EPSG_4618:{towgs84:"-59,-11,-52"},EPSG_4612:{towgs84:"0,0,0"},EPSG_4678:{towgs84:"44.585,-131.212,-39.544"},EPSG_4250:{towgs84:"-130,29,364"},EPSG_4144:{towgs84:"214,804,268"},EPSG_4147:{towgs84:"-17.51,-108.32,-62.39"},EPSG_4259:{towgs84:"-254.1,-5.36,-100.29"},EPSG_4164:{towgs84:"-76,-138,67"},EPSG_4211:{towgs84:"-378.873,676.002,-46.255"},EPSG_4182:{towgs84:"-422.651,-172.995,84.02"},EPSG_4224:{towgs84:"-143.87,243.37,-33.52"},EPSG_4225:{towgs84:"-205.57,168.77,-4.12"},EPSG_5527:{towgs84:"-67.35,3.88,-38.22"},EPSG_4752:{towgs84:"98,390,-22"},EPSG_4310:{towgs84:"-30,190,89"},EPSG_9248:{towgs84:"-192.26,65.72,132.08"},EPSG_4680:{towgs84:"124.5,-63.5,-281"},EPSG_4701:{towgs84:"-79.9,-158,-168.9"},EPSG_4706:{towgs84:"-146.21,112.63,4.05"},EPSG_4805:{towgs84:"682,-203,480"},EPSG_4201:{towgs84:"-165,-11,206"},EPSG_4210:{towgs84:"-157,-2,-299"},EPSG_4183:{towgs84:"-104,167,-38"},EPSG_4139:{towgs84:"11,72,-101"},EPSG_4668:{towgs84:"-86,-98,-119"},EPSG_4717:{towgs84:"-2,151,181"},EPSG_4732:{towgs84:"102,52,-38"},EPSG_4280:{towgs84:"-377,681,-50"},EPSG_4209:{towgs84:"-138,-105,-289"},EPSG_4261:{towgs84:"31,146,47"},EPSG_4658:{towgs84:"-73,46,-86"},EPSG_4721:{towgs84:"265.025,384.929,-194.046"},EPSG_4222:{towgs84:"-136,-108,-292"},EPSG_4601:{towgs84:"-255,-15,71"},EPSG_4602:{towgs84:"725,685,536"},EPSG_4603:{towgs84:"72,213.7,93"},EPSG_4605:{towgs84:"9,183,236"},EPSG_4621:{towgs84:"137,248,-430"},EPSG_4657:{towgs84:"-28,199,5"},EPSG_4316:{towgs84:"103.25,-100.4,-307.19"},EPSG_4642:{towgs84:"-13,-348,292"},EPSG_4698:{towgs84:"145,-187,103"},EPSG_4192:{towgs84:"-206.1,-174.7,-87.7"},EPSG_4311:{towgs84:"-265,120,-358"},EPSG_4135:{towgs84:"58,-283,-182"},ESRI_104138:{towgs84:"198,-226,-347"},EPSG_4245:{towgs84:"-11,851,5"},EPSG_4142:{towgs84:"-125,53,467"},EPSG_4213:{towgs84:"-106,-87,188"},EPSG_4253:{towgs84:"-133,-77,-51"},EPSG_4129:{towgs84:"-132,-110,-335"},EPSG_4713:{towgs84:"-77,-128,142"},EPSG_4239:{towgs84:"217,823,299"},EPSG_4146:{towgs84:"295,736,257"},EPSG_4155:{towgs84:"-83,37,124"},EPSG_4165:{towgs84:"-173,253,27"},EPSG_4672:{towgs84:"175,-38,113"},EPSG_4236:{towgs84:"-637,-549,-203"},EPSG_4251:{towgs84:"-90,40,88"},EPSG_4271:{towgs84:"-2,374,172"},EPSG_4175:{towgs84:"-88,4,101"},EPSG_4716:{towgs84:"298,-304,-375"},EPSG_4315:{towgs84:"-23,259,-9"},EPSG_4744:{towgs84:"-242.2,-144.9,370.3"},EPSG_4244:{towgs84:"-97,787,86"},EPSG_4293:{towgs84:"616,97,-251"},EPSG_4714:{towgs84:"-127,-769,472"},EPSG_4736:{towgs84:"260,12,-147"},EPSG_6883:{towgs84:"-235,-110,393"},EPSG_6894:{towgs84:"-63,176,185"},EPSG_4205:{towgs84:"-43,-163,45"},EPSG_4256:{towgs84:"41,-220,-134"},EPSG_4262:{towgs84:"639,405,60"},EPSG_4604:{towgs84:"174,359,365"},EPSG_4169:{towgs84:"-115,118,426"},EPSG_4620:{towgs84:"-106,-129,165"},EPSG_4184:{towgs84:"-203,141,53"},EPSG_4616:{towgs84:"-289,-124,60"},EPSG_9403:{towgs84:"-307,-92,127"},EPSG_4684:{towgs84:"-133,-321,50"},EPSG_4708:{towgs84:"-491,-22,435"},EPSG_4707:{towgs84:"114,-116,-333"},EPSG_4709:{towgs84:"145,75,-272"},EPSG_4712:{towgs84:"-205,107,53"},EPSG_4711:{towgs84:"124,-234,-25"},EPSG_4718:{towgs84:"230,-199,-752"},EPSG_4719:{towgs84:"211,147,111"},EPSG_4724:{towgs84:"208,-435,-229"},EPSG_4725:{towgs84:"189,-79,-202"},EPSG_4735:{towgs84:"647,1777,-1124"},EPSG_4722:{towgs84:"-794,119,-298"},EPSG_4728:{towgs84:"-307,-92,127"},EPSG_4734:{towgs84:"-632,438,-609"},EPSG_4727:{towgs84:"912,-58,1227"},EPSG_4729:{towgs84:"185,165,42"},EPSG_4730:{towgs84:"170,42,84"},EPSG_4733:{towgs84:"276,-57,149"},ESRI_37218:{towgs84:"230,-199,-752"},ESRI_37240:{towgs84:"-7,215,225"},ESRI_37221:{towgs84:"252,-209,-751"},ESRI_4305:{towgs84:"-123,-206,219"},ESRI_104139:{towgs84:"-73,-247,227"},EPSG_4748:{towgs84:"51,391,-36"},EPSG_4219:{towgs84:"-384,664,-48"},EPSG_4255:{towgs84:"-333,-222,114"},EPSG_4257:{towgs84:"-587.8,519.75,145.76"},EPSG_4646:{towgs84:"-963,510,-359"},EPSG_6881:{towgs84:"-24,-203,268"},EPSG_6882:{towgs84:"-183,-15,273"},EPSG_4715:{towgs84:"-104,-129,239"},IGNF_RGF93GDD:{towgs84:"0,0,0"},IGNF_RGM04GDD:{towgs84:"0,0,0"},IGNF_RGSPM06GDD:{towgs84:"0,0,0"},IGNF_RGTAAF07GDD:{towgs84:"0,0,0"},IGNF_RGFG95GDD:{towgs84:"0,0,0"},IGNF_RGNCG:{towgs84:"0,0,0"},IGNF_RGPFGDD:{towgs84:"0,0,0"},IGNF_ETRS89G:{towgs84:"0,0,0"},IGNF_RGR92GDD:{towgs84:"0,0,0"},EPSG_4173:{towgs84:"0,0,0"},EPSG_4180:{towgs84:"0,0,0"},EPSG_4619:{towgs84:"0,0,0"},EPSG_4667:{towgs84:"0,0,0"},EPSG_4075:{towgs84:"0,0,0"},EPSG_6706:{towgs84:"0,0,0"},EPSG_7798:{towgs84:"0,0,0"},EPSG_4661:{towgs84:"0,0,0"},EPSG_4669:{towgs84:"0,0,0"},EPSG_8685:{towgs84:"0,0,0"},EPSG_4151:{towgs84:"0,0,0"},EPSG_9702:{towgs84:"0,0,0"},EPSG_4758:{towgs84:"0,0,0"},EPSG_4761:{towgs84:"0,0,0"},EPSG_4765:{towgs84:"0,0,0"},EPSG_8997:{towgs84:"0,0,0"},EPSG_4023:{towgs84:"0,0,0"},EPSG_4670:{towgs84:"0,0,0"},EPSG_4694:{towgs84:"0,0,0"},EPSG_4148:{towgs84:"0,0,0"},EPSG_4163:{towgs84:"0,0,0"},EPSG_4167:{towgs84:"0,0,0"},EPSG_4189:{towgs84:"0,0,0"},EPSG_4190:{towgs84:"0,0,0"},EPSG_4176:{towgs84:"0,0,0"},EPSG_4659:{towgs84:"0,0,0"},EPSG_3824:{towgs84:"0,0,0"},EPSG_3889:{towgs84:"0,0,0"},EPSG_4046:{towgs84:"0,0,0"},EPSG_4081:{towgs84:"0,0,0"},EPSG_4558:{towgs84:"0,0,0"},EPSG_4483:{towgs84:"0,0,0"},EPSG_5013:{towgs84:"0,0,0"},EPSG_5264:{towgs84:"0,0,0"},EPSG_5324:{towgs84:"0,0,0"},EPSG_5354:{towgs84:"0,0,0"},EPSG_5371:{towgs84:"0,0,0"},EPSG_5373:{towgs84:"0,0,0"},EPSG_5381:{towgs84:"0,0,0"},EPSG_5393:{towgs84:"0,0,0"},EPSG_5489:{towgs84:"0,0,0"},EPSG_5593:{towgs84:"0,0,0"},EPSG_6135:{towgs84:"0,0,0"},EPSG_6365:{towgs84:"0,0,0"},EPSG_5246:{towgs84:"0,0,0"},EPSG_7886:{towgs84:"0,0,0"},EPSG_8431:{towgs84:"0,0,0"},EPSG_8427:{towgs84:"0,0,0"},EPSG_8699:{towgs84:"0,0,0"},EPSG_8818:{towgs84:"0,0,0"},EPSG_4757:{towgs84:"0,0,0"},EPSG_9140:{towgs84:"0,0,0"},EPSG_8086:{towgs84:"0,0,0"},EPSG_4686:{towgs84:"0,0,0"},EPSG_4737:{towgs84:"0,0,0"},EPSG_4702:{towgs84:"0,0,0"},EPSG_4747:{towgs84:"0,0,0"},EPSG_4749:{towgs84:"0,0,0"},EPSG_4674:{towgs84:"0,0,0"},EPSG_4755:{towgs84:"0,0,0"},EPSG_4759:{towgs84:"0,0,0"},EPSG_4762:{towgs84:"0,0,0"},EPSG_4763:{towgs84:"0,0,0"},EPSG_4764:{towgs84:"0,0,0"},EPSG_4166:{towgs84:"0,0,0"},EPSG_4170:{towgs84:"0,0,0"},EPSG_5546:{towgs84:"0,0,0"},EPSG_7844:{towgs84:"0,0,0"},EPSG_4818:{towgs84:"589,76,480"}};for(var QJ in bv){var ib=bv[QJ];ib.datumName&&(bv[ib.datumName]=ib)}function JJ(t,e,n,r,i,a,s){var o={};return t===void 0||t==="none"?o.datum_type=WP:o.datum_type=hJ,e&&(o.datum_params=e.map(parseFloat),(o.datum_params[0]!==0||o.datum_params[1]!==0||o.datum_params[2]!==0)&&(o.datum_type=Gc),o.datum_params.length>3&&(o.datum_params[3]!==0||o.datum_params[4]!==0||o.datum_params[5]!==0||o.datum_params[6]!==0)&&(o.datum_type=Wc,o.datum_params[3]*=Fp,o.datum_params[4]*=Fp,o.datum_params[5]*=Fp,o.datum_params[6]=o.datum_params[6]/1e6+1)),s&&(o.datum_type=gf,o.grids=s),o.a=n,o.b=r,o.es=i,o.ep2=a,o}var BA={};function eee(t,e,n){return e instanceof ArrayBuffer?tee(t,e,n):{ready:nee(t,e)}}function tee(t,e,n){var r=!0;n!==void 0&&n.includeErrorFields===!1&&(r=!1);var i=new DataView(e),a=aee(i),s=see(i,a),o=oee(i,s,a,r),c={header:s,subgrids:o};return BA[t]=c,c}async function nee(t,e){for(var n=[],r=await e.getImageCount(),i=r-1;i>=0;i--){var a=await e.getImage(i),s=await a.readRasters(),o=s,c=[a.getWidth(),a.getHeight()],f=a.getBoundingBox().map(h4),m=[a.fileDirectory.ModelPixelScale[0],a.fileDirectory.ModelPixelScale[1]].map(h4),p=f[0]+(c[0]-1)*m[0],y=f[3]-(c[1]-1)*m[1],b=o[0],E=o[1],S=[];for(let O=c[1]-1;O>=0;O--)for(let D=c[0]-1;D>=0;D--){var x=O*c[0]+D;S.push([-rl(E[x]),rl(b[x])])}n.push({del:m,lim:c,ll:[-p,y],cvs:S})}var M={header:{nSubgrids:r},subgrids:n};return BA[t]=M,M}function ree(t){if(t===void 0)return null;var e=t.split(",");return e.map(iee)}function iee(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:BA[t]||null,isNull:!1}}function h4(t){return t*Math.PI/180}function rl(t){return t/3600*Math.PI/180}function aee(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function see(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:KP(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function KP(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function oee(t,e,n,r){for(var i=176,a=[],s=0;s<e.nSubgrids;s++){var o=lee(t,i,n),c=cee(t,i,o,n,r),f=Math.round(1+(o.upperLongitude-o.lowerLongitude)/o.longitudeInterval),m=Math.round(1+(o.upperLatitude-o.lowerLatitude)/o.latitudeInterval);a.push({ll:[rl(o.lowerLongitude),rl(o.lowerLatitude)],del:[rl(o.longitudeInterval),rl(o.latitudeInterval)],lim:[f,m],count:o.gridNodeCount,cvs:uee(c)});var p=16;r===!1&&(p=8),i+=176+o.gridNodeCount*p}return a}function uee(t){return t.map(function(e){return[rl(e.longitudeShift),rl(e.latitudeShift)]})}function lee(t,e,n){return{name:KP(t,e+8,e+16).trim(),parent:KP(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function cee(t,e,n,r,i){var a=e+176,s=16;i===!1&&(s=8);for(var o=[],c=0;c<n.gridNodeCount;c++){var f={latitudeShift:t.getFloat32(a+c*s,r),longitudeShift:t.getFloat32(a+c*s+4,r)};i!==!1&&(f.latitudeAccuracy=t.getFloat32(a+c*s+8,r),f.longitudeAccuracy=t.getFloat32(a+c*s+12,r)),o.push(f)}return o}function Ma(t,e){if(!(this instanceof Ma))return new Ma(t);this.forward=null,this.inverse=null,this.init=null,this.name,this.names=null,this.title,e=e||function(f){if(f)throw f};var n=jJ(t);if(typeof n!="object"){e("Could not parse to valid json: "+t);return}var r=Ma.projections.get(n.projName);if(!r){e("Could not get projection name from: "+t);return}if(n.datumCode&&n.datumCode!=="none"){var i=_l(bv,n.datumCode);i&&(n.datum_params=n.datum_params||(i.towgs84?i.towgs84.split(","):null),n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var a=YJ(n.a,n.b,n.rf,n.ellps,n.sphere),s=XJ(a.a,a.b,a.rf,n.R_A),o=ree(n.nadgrids),c=n.datum||JJ(n.datumCode,n.datum_params,a.a,a.b,s.es,s.ep2,o);l4(this,n),l4(this,r),this.a=a.a,this.b=a.b,this.rf=a.rf,this.sphere=a.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=c,"init"in this&&typeof this.init=="function"&&this.init(),e(null,this)}Ma.projections=KJ;Ma.projections.start();function hee(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===Gc?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===Wc?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function A7(t,e,n){var r=t.x,i=t.y,a=t.z?t.z:0,s,o,c,f;if(i<-Se&&i>-1.001*Se)i=-Se;else if(i>Se&&i<1.001*Se)i=Se;else{if(i<-Se)return{x:-1/0,y:-1/0,z:t.z};if(i>Se)return{x:1/0,y:1/0,z:t.z}}return r>Math.PI&&(r-=2*Math.PI),o=Math.sin(i),f=Math.cos(i),c=o*o,s=n/Math.sqrt(1-e*c),{x:(s+a)*f*Math.cos(r),y:(s+a)*f*Math.sin(r),z:(s*(1-e)+a)*o}}function I7(t,e,n,r){var i=1e-12,a=i*i,s=30,o,c,f,m,p,y,b,E,S,x,M,O,D,$=t.x,k=t.y,V=t.z?t.z:0,C,j,B;if(o=Math.sqrt($*$+k*k),c=Math.sqrt($*$+k*k+V*V),o/n<i){if(C=0,c/n<i)return j=Se,B=-r,{x:t.x,y:t.y,z:t.z}}else C=Math.atan2(k,$);f=V/c,m=o/c,p=1/Math.sqrt(1-e*(2-e)*m*m),E=m*(1-e)*p,S=f*p,D=0;do D++,b=n/Math.sqrt(1-e*S*S),B=o*E+V*S-b*(1-e*S*S),y=e*b/(b+B),p=1/Math.sqrt(1-y*(2-y)*m*m),x=m*(1-y)*p,M=f*p,O=M*E-x*S,E=x,S=M;while(O*O>a&&D<s);return j=Math.atan(M/Math.abs(x)),{x:C,y:j,z:B}}function fee(t,e,n){if(e===Gc)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===Wc){var r=n[0],i=n[1],a=n[2],s=n[3],o=n[4],c=n[5],f=n[6];return{x:f*(t.x-c*t.y+o*t.z)+r,y:f*(c*t.x+t.y-s*t.z)+i,z:f*(-o*t.x+s*t.y+t.z)+a}}}function dee(t,e,n){if(e===Gc)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===Wc){var r=n[0],i=n[1],a=n[2],s=n[3],o=n[4],c=n[5],f=n[6],m=(t.x-r)/f,p=(t.y-i)/f,y=(t.z-a)/f;return{x:m+c*p-o*y,y:-c*m+p+s*y,z:o*m-s*p+y}}}function By(t){return t===Gc||t===Wc}function pee(t,e,n){if(hee(t,e)||t.datum_type===WP||e.datum_type===WP)return n;var r=t.a,i=t.es;if(t.datum_type===gf){var a=f4(t,!1,n);if(a!==0)return;r=r4,i=i4}var s=e.a,o=e.b,c=e.es;if(e.datum_type===gf&&(s=r4,o=fJ,c=i4),i===c&&r===s&&!By(t.datum_type)&&!By(e.datum_type))return n;if(n=A7(n,i,r),By(t.datum_type)&&(n=fee(n,t.datum_type,t.datum_params)),By(e.datum_type)&&(n=dee(n,e.datum_type,e.datum_params)),n=I7(n,c,s,o),e.datum_type===gf){var f=f4(e,!0,n);if(f!==0)return}return n}function f4(t,e,n){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var r={x:-n.x,y:n.y},i={x:Number.NaN,y:Number.NaN},a=[];e:for(var s=0;s<t.grids.length;s++){var o=t.grids[s];if(a.push(o.name),o.isNull){i=r;break}if(o.grid===null){if(o.mandatory)return console.log("Unable to find mandatory grid '"+o.name+"'"),-1;continue}for(var c=o.grid.subgrids,f=0,m=c.length;f<m;f++){var p=c[f],y=(Math.abs(p.del[1])+Math.abs(p.del[0]))/1e4,b=p.ll[0]-y,E=p.ll[1]-y,S=p.ll[0]+(p.lim[0]-1)*p.del[0]+y,x=p.ll[1]+(p.lim[1]-1)*p.del[1]+y;if(!(E>r.y||b>r.x||x<r.y||S<r.x)&&(i=mee(r,e,p),!isNaN(i.x)))break e}}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*wi+" "+r.y*wi+" tried: '"+a+"'"),-1):(n.x=-i.x,n.y=i.y,0)}function mee(t,e,n){var r={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return r;var i={x:t.x,y:t.y};i.x-=n.ll[0],i.y-=n.ll[1],i.x=Ve(i.x-Math.PI)+Math.PI;var a=d4(i,n);if(e){if(isNaN(a.x))return r;a.x=i.x-a.x,a.y=i.y-a.y;var s=9,o=1e-12,c,f;do{if(f=d4(a,n),isNaN(f.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}c={x:i.x-(f.x+a.x),y:i.y-(f.y+a.y)},a.x+=c.x,a.y+=c.y}while(s--&&Math.abs(c.x)>o&&Math.abs(c.y)>o);if(s<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=Ve(a.x+n.ll[0]),r.y=a.y+n.ll[1]}else isNaN(a.x)||(r.x=t.x+a.x,r.y=t.y+a.y);return r}function d4(t,e){var n={x:t.x/e.del[0],y:t.y/e.del[1]},r={x:Math.floor(n.x),y:Math.floor(n.y)},i={x:n.x-1*r.x,y:n.y-1*r.y},a={x:Number.NaN,y:Number.NaN},s;if(r.x<0||r.x>=e.lim[0]||r.y<0||r.y>=e.lim[1])return a;s=r.y*e.lim[0]+r.x;var o={x:e.cvs[s][0],y:e.cvs[s][1]};s++;var c={x:e.cvs[s][0],y:e.cvs[s][1]};s+=e.lim[0];var f={x:e.cvs[s][0],y:e.cvs[s][1]};s--;var m={x:e.cvs[s][0],y:e.cvs[s][1]},p=i.x*i.y,y=i.x*(1-i.y),b=(1-i.x)*(1-i.y),E=(1-i.x)*i.y;return a.x=b*o.x+y*c.x+E*m.x+p*f.x,a.y=b*o.y+y*c.y+E*m.y+p*f.y,a}function p4(t,e,n){var r=n.x,i=n.y,a=n.z||0,s,o,c,f={};for(c=0;c<3;c++)if(!(e&&c===2&&n.z===void 0))switch(c===0?(s=r,"ew".indexOf(t.axis[c])!==-1?o="x":o="y"):c===1?(s=i,"ns".indexOf(t.axis[c])!==-1?o="y":o="x"):(s=a,o="z"),t.axis[c]){case"e":f[o]=s;break;case"w":f[o]=-s;break;case"n":f[o]=s;break;case"s":f[o]=-s;break;case"u":n[o]!==void 0&&(f.z=s);break;case"d":n[o]!==void 0&&(f.z=-s);break;default:return null}return f}function M7(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function gee(t){m4(t.x),m4(t.y)}function m4(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function yee(t,e){return(t.datum.datum_type===Gc||t.datum.datum_type===Wc||t.datum.datum_type===gf)&&e.datumCode!=="WGS84"||(e.datum.datum_type===Gc||e.datum.datum_type===Wc||e.datum.datum_type===gf)&&t.datumCode!=="WGS84"}function e_(t,e,n,r){var i;Array.isArray(n)?n=M7(n):n={x:n.x,y:n.y,z:n.z,m:n.m};var a=n.z!==void 0;if(gee(n),t.datum&&e.datum&&yee(t,e)&&(i=new Ma("WGS84"),n=e_(t,i,n,r),t=i),r&&t.axis!=="enu"&&(n=p4(t,!1,n)),t.projName==="longlat")n={x:n.x*En,y:n.y*En,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),n=t.inverse(n),!n)return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=pee(t.datum,e.datum,n),!!n)return n=n,e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),e.projName==="longlat"?n={x:n.x*wi,y:n.y*wi,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),r&&e.axis!=="enu"?p4(e,!0,n):(n&&!a&&delete n.z,n)}var g4=Ma("WGS84");function ab(t,e,n,r){var i,a,s;return Array.isArray(n)?(i=e_(t,e,n,r)||{x:NaN,y:NaN},n.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(n.slice(3)):[i.x,i.y,n[2]].concat(n.slice(3)):[i.x,i.y].concat(n.slice(2)):[i.x,i.y]):(a=e_(t,e,n,r),s=Object.keys(n),s.length===2||s.forEach(function(o){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(o==="x"||o==="y"||o==="z")return}else if(o==="x"||o==="y")return;a[o]=n[o]}),a)}function $y(t){return t instanceof Ma?t:typeof t=="object"&&"oProj"in t?t.oProj:Ma(t)}function vee(t,e,n){var r,i,a=!1,s;return typeof e>"u"?(i=$y(t),r=g4,a=!0):(typeof e.x<"u"||Array.isArray(e))&&(n=e,i=$y(t),r=g4,a=!0),r||(r=$y(t)),i||(i=$y(e)),n?ab(r,i,n):(s={forward:function(o,c){return ab(r,i,o,c)},inverse:function(o,c){return ab(i,r,o,c)}},a&&(s.oProj=i),s)}var y4=6,C7="AJSAJS",O7="AFAFAF",af=65,gi=73,xa=79,xp=86,Ep=90;const _ee={forward:R7,inverse:wee,toPoint:k7};function R7(t,e){return e=e||5,Eee(bee({lat:t[1],lon:t[0]}),e)}function wee(t){var e=$A(L7(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function k7(t){var e=$A(L7(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function sb(t){return t*(Math.PI/180)}function v4(t){return 180*(t/Math.PI)}function bee(t){var e=t.lat,n=t.lon,r=6378137,i=.00669438,a=.9996,s,o,c,f,m,p,y,b=sb(e),E=sb(n),S,x;x=Math.floor((n+180)/6)+1,n===180&&(x=60),e>=56&&e<64&&n>=3&&n<12&&(x=32),e>=72&&e<84&&(n>=0&&n<9?x=31:n>=9&&n<21?x=33:n>=21&&n<33?x=35:n>=33&&n<42&&(x=37)),s=(x-1)*6-180+3,S=sb(s),o=i/(1-i),c=r/Math.sqrt(1-i*Math.sin(b)*Math.sin(b)),f=Math.tan(b)*Math.tan(b),m=o*Math.cos(b)*Math.cos(b),p=Math.cos(b)*(E-S),y=r*((1-i/4-3*i*i/64-5*i*i*i/256)*b-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*b)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*b)-35*i*i*i/3072*Math.sin(6*b));var M=a*c*(p+(1-f+m)*p*p*p/6+(5-18*f+f*f+72*m-58*o)*p*p*p*p*p/120)+5e5,O=a*(y+c*Math.tan(b)*(p*p/2+(5-f+9*m+4*m*m)*p*p*p*p/24+(61-58*f+f*f+600*m-330*o)*p*p*p*p*p*p/720));return e<0&&(O+=1e7),{northing:Math.round(O),easting:Math.round(M),zoneNumber:x,zoneLetter:xee(e)}}function $A(t){var e=t.northing,n=t.easting,r=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var a=.9996,s=6378137,o=.00669438,c,f=(1-Math.sqrt(1-o))/(1+Math.sqrt(1-o)),m,p,y,b,E,S,x,M,O,D=n-5e5,$=e;r<"N"&&($-=1e7),x=(i-1)*6-180+3,c=o/(1-o),S=$/a,M=S/(s*(1-o/4-3*o*o/64-5*o*o*o/256)),O=M+(3*f/2-27*f*f*f/32)*Math.sin(2*M)+(21*f*f/16-55*f*f*f*f/32)*Math.sin(4*M)+151*f*f*f/96*Math.sin(6*M),m=s/Math.sqrt(1-o*Math.sin(O)*Math.sin(O)),p=Math.tan(O)*Math.tan(O),y=c*Math.cos(O)*Math.cos(O),b=s*(1-o)/Math.pow(1-o*Math.sin(O)*Math.sin(O),1.5),E=D/(m*a);var k=O-m*Math.tan(O)/b*(E*E/2-(5+3*p+10*y-4*y*y-9*c)*E*E*E*E/24+(61+90*p+298*y+45*p*p-252*c-3*y*y)*E*E*E*E*E*E/720);k=v4(k);var V=(E-(1+2*p+y)*E*E*E/6+(5-2*y+28*p-3*y*y+8*c+24*p*p)*E*E*E*E*E/120)/Math.cos(O);V=x+v4(V);var C;if(t.accuracy){var j=$A({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});C={top:j.lat,right:j.lon,bottom:k,left:V}}else C={lat:k,lon:V};return C}function xee(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function Eee(t,e){var n="00000"+t.easting,r="00000"+t.northing;return t.zoneNumber+t.zoneLetter+See(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+r.substr(r.length-5,e)}function See(t,e,n){var r=N7(n),i=Math.floor(t/1e5),a=Math.floor(e/1e5)%20;return Pee(i,a,r)}function N7(t){var e=t%y4;return e===0&&(e=y4),e}function Pee(t,e,n){var r=n-1,i=C7.charCodeAt(r),a=O7.charCodeAt(r),s=i+t-1,o=a+e,c=!1;s>Ep&&(s=s-Ep+af-1,c=!0),(s===gi||i<gi&&s>gi||(s>gi||i<gi)&&c)&&s++,(s===xa||i<xa&&s>xa||(s>xa||i<xa)&&c)&&(s++,s===gi&&s++),s>Ep&&(s=s-Ep+af-1),o>xp?(o=o-xp+af-1,c=!0):c=!1,(o===gi||a<gi&&o>gi||(o>gi||a<gi)&&c)&&o++,(o===xa||a<xa&&o>xa||(o>xa||a<xa)&&c)&&(o++,o===gi&&o++),o>xp&&(o=o-xp+af-1);var f=String.fromCharCode(s)+String.fromCharCode(o);return f}function L7(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,n=null,r="",i,a=0;!/[A-Z]/.test(i=t.charAt(a));){if(a>=2)throw"MGRSPoint bad conversion from: "+t;r+=i,a++}var s=parseInt(r,10);if(a===0||a+3>e)throw"MGRSPoint bad conversion from: "+t;var o=t.charAt(a++);if(o<="A"||o==="B"||o==="Y"||o>="Z"||o==="I"||o==="O")throw"MGRSPoint zone letter "+o+" not handled: "+t;n=t.substring(a,a+=2);for(var c=N7(s),f=Tee(n.charAt(0),c),m=Aee(n.charAt(1),c);m<Iee(o);)m+=2e6;var p=e-a;if(p%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var y=p/2,b=0,E=0,S,x,M,O,D;return y>0&&(S=1e5/Math.pow(10,y),x=t.substring(a,a+y),b=parseFloat(x)*S,M=t.substring(a+y),E=parseFloat(M)*S),O=b+f,D=E+m,{easting:O,northing:D,zoneLetter:o,zoneNumber:s,accuracy:S}}function Tee(t,e){for(var n=C7.charCodeAt(e-1),r=1e5,i=!1;n!==t.charCodeAt(0);){if(n++,n===gi&&n++,n===xa&&n++,n>Ep){if(i)throw"Bad character: "+t;n=af,i=!0}r+=1e5}return r}function Aee(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=O7.charCodeAt(e-1),r=0,i=!1;n!==t.charCodeAt(0);){if(n++,n===gi&&n++,n===xa&&n++,n>xp){if(i)throw"Bad character: "+t;n=af,i=!0}r+=1e5}return r}function Iee(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function Lf(t,e,n){if(!(this instanceof Lf))return new Lf(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var r=t.split(",");this.x=parseFloat(r[0]),this.y=parseFloat(r[1]),this.z=parseFloat(r[2])||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Lf.fromMGRS=function(t){return new Lf(k7(t))};Lf.prototype.toMGRS=function(t){return R7([this.x,this.y],t)};var Mee=1,Cee=.25,_4=.046875,w4=.01953125,b4=.01068115234375,Oee=.75,Ree=.46875,kee=.013020833333333334,Nee=.007120768229166667,Lee=.3645833333333333,Dee=.005696614583333333,jee=.3076171875;function zA(t){var e=[];e[0]=Mee-t*(Cee+t*(_4+t*(w4+t*b4))),e[1]=t*(Oee-t*(_4+t*(w4+t*b4)));var n=t*t;return e[2]=n*(Ree-t*(kee+t*Nee)),n*=t,e[3]=n*(Lee-t*Dee),e[4]=n*t*jee,e}function dd(t,e,n,r){return n*=e,e*=e,r[0]*t-n*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))}var Vee=20;function UA(t,e,n){for(var r=1/(1-e),i=t,a=Vee;a;--a){var s=Math.sin(i),o=1-e*s*s;if(o=(dd(i,s,Math.cos(i),n)-t)*(o*Math.sqrt(o))*r,i-=o,Math.abs(o)<Le)return i}return i}function Fee(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=zA(this.es),this.ml0=dd(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function Bee(t){var e=t.x,n=t.y,r=Ve(e-this.long0,this.over),i,a,s,o=Math.sin(n),c=Math.cos(n);if(this.es){var m=c*r,p=Math.pow(m,2),y=this.ep2*Math.pow(c,2),b=Math.pow(y,2),E=Math.abs(c)>Le?Math.tan(n):0,S=Math.pow(E,2),x=Math.pow(S,2);i=1-this.es*Math.pow(o,2),m=m/Math.sqrt(i);var M=dd(n,o,c,this.en);a=this.a*(this.k0*m*(1+p/6*(1-S+y+p/20*(5-18*S+x+14*y-58*S*y+p/42*(61+179*x-x*S-479*S)))))+this.x0,s=this.a*(this.k0*(M-this.ml0+o*r*m/2*(1+p/12*(5-S+9*y+4*b+p/30*(61+x-58*S+270*y-330*S*y+p/56*(1385+543*x-x*S-3111*S))))))+this.y0}else{var f=c*Math.sin(r);if(Math.abs(Math.abs(f)-1)<Le)return 93;if(a=.5*this.a*this.k0*Math.log((1+f)/(1-f))+this.x0,s=c*Math.cos(r)/Math.sqrt(1-Math.pow(f,2)),f=Math.abs(s),f>=1){if(f-1>Le)return 93;s=0}else s=Math.acos(s);n<0&&(s=-s),s=this.a*this.k0*(s-this.lat0)+this.y0}return t.x=a,t.y=s,t}function $ee(t){var e,n,r,i,a=(t.x-this.x0)*(1/this.a),s=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+s/this.k0,n=UA(e,this.es,this.en),Math.abs(n)<Se){var p=Math.sin(n),y=Math.cos(n),b=Math.abs(y)>Le?Math.tan(n):0,E=this.ep2*Math.pow(y,2),S=Math.pow(E,2),x=Math.pow(b,2),M=Math.pow(x,2);e=1-this.es*Math.pow(p,2);var O=a*Math.sqrt(e)/this.k0,D=Math.pow(O,2);e=e*b,r=n-e*D/(1-this.es)*.5*(1-D/12*(5+3*x-9*E*x+E-4*S-D/30*(61+90*x-252*E*x+45*M+46*E-D/56*(1385+3633*x+4095*M+1574*M*x)))),i=Ve(this.long0+O*(1-D/6*(1+2*x+E-D/20*(5+28*x+24*M+8*E*x+6*E-D/42*(61+662*x+1320*M+720*M*x))))/y,this.over)}else r=Se*pg(s),i=0;else{var o=Math.exp(a/this.k0),c=.5*(o-1/o),f=this.lat0+s/this.k0,m=Math.cos(f);e=Math.sqrt((1-Math.pow(m,2))/(1+Math.pow(c,2))),r=Math.asin(e),s<0&&(r=-r),c===0&&m===0?i=0:i=Ve(Math.atan2(c,m)+this.long0,this.over)}return t.x=i,t.y=r,t}var zee=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const xv={init:Fee,forward:Bee,inverse:$ee,names:zee};function D7(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function yi(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),r=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))}function Uee(t){var e=1+t,n=e-1;return n===0?t:t*Math.log(e)/n}function qee(t){var e=Math.abs(t);return e=Uee(e*(1+e/(yi(1,e)+1))),t<0?-e:e}function qA(t,e){for(var n=2*Math.cos(2*e),r=t.length-1,i=t[r],a=0,s;--r>=0;)s=-a+n*i+t[r],a=i,i=s;return e+s*Math.sin(2*e)}function Gee(t,e){for(var n=2*Math.cos(e),r=t.length-1,i=t[r],a=0,s;--r>=0;)s=-a+n*i+t[r],a=i,i=s;return Math.sin(e)*s}function Wee(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function j7(t,e,n){for(var r=Math.sin(e),i=Math.cos(e),a=D7(n),s=Wee(n),o=2*i*s,c=-2*r*a,f=t.length-1,m=t[f],p=0,y=0,b=0,E,S;--f>=0;)E=y,S=p,y=m,p=b,m=-E+o*y-c*p+t[f],b=-S+c*y+o*p;return o=r*s,c=i*a,[o*m-c*b,o*b+c*m]}function Hee(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(xv.init.apply(this),this.forward=xv.forward,this.inverse=xv.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),n=n*e,this.cgb[1]=n*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n=n*e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),n=n*e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(-12/5+e*(-24832/14175))),n=n*e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n=n*e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),n=n*e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n=n*e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n=n*e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n=n*e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=n*(212378941/319334400);var r=qA(this.cbg,this.lat0);this.Zb=-this.Qn*(r+Gee(this.gtu,2*r))}function Kee(t){var e=Ve(t.x-this.long0,this.over),n=t.y;n=qA(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),a=Math.sin(e),s=Math.cos(e);n=Math.atan2(r,s*i),e=Math.atan2(a*i,yi(r,i*s)),e=qee(Math.tan(e));var o=j7(this.gtu,2*n,2*e);n=n+o[0],e=e+o[1];var c,f;return Math.abs(e)<=2.623395162778?(c=this.a*(this.Qn*e)+this.x0,f=this.a*(this.Qn*n+this.Zb)+this.y0):(c=1/0,f=1/0),t.x=c,t.y=f,t}function Zee(t){var e=(t.x-this.x0)*(1/this.a),n=(t.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,e=e/this.Qn;var r,i;if(Math.abs(e)<=2.623395162778){var a=j7(this.utg,2*n,2*e);n=n+a[0],e=e+a[1],e=Math.atan(D7(e));var s=Math.sin(n),o=Math.cos(n),c=Math.sin(e),f=Math.cos(e);n=Math.atan2(s*f,yi(c,f*o)),e=Math.atan2(c,f*o),r=Ve(e+this.long0,this.over),i=qA(this.cgb,n)}else r=1/0,i=1/0;return t.x=r,t.y=i,t}var Xee=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const Ev={init:Hee,forward:Kee,inverse:Zee,names:Xee};function Yee(t,e){if(t===void 0){if(t=Math.floor((Ve(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var Qee="etmerc";function Jee(){var t=Yee(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*En,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Ev.init.apply(this),this.forward=Ev.forward,this.inverse=Ev.inverse}var ete=["Universal Transverse Mercator System","utm"];const tte={init:Jee,names:ete,dependsOn:Qee};function GA(t,e){return Math.pow((1-t)/(1+t),e)}var nte=20;function rte(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Bt)/(Math.pow(Math.tan(.5*this.lat0+Bt),this.C)*GA(this.e*t,this.ratexp))}function ite(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+Bt),this.C)*GA(this.e*Math.sin(n),this.ratexp))-Se,t.x=this.C*e,t}function ate(t){for(var e=1e-14,n=t.x/this.C,r=t.y,i=Math.pow(Math.tan(.5*r+Bt)/this.K,1/this.C),a=nte;a>0&&(r=2*Math.atan(i*GA(this.e*Math.sin(t.y),-.5*this.e))-Se,!(Math.abs(r-t.y)<e));--a)t.y=r;return a?(t.x=n,t.y=r,t):null}const WA={init:rte,forward:ite,inverse:ate};function ste(){WA.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function ote(t){var e,n,r,i;return t.x=Ve(t.x-this.long0,this.over),WA.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*r),t.x=i*n*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*n*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function ute(t){var e,n,r,i,a;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,a=yi(t.x,t.y)){var s=2*Math.atan2(a,this.R2);e=Math.sin(s),n=Math.cos(s),i=Math.asin(n*this.sinc0+t.y*e*this.cosc0/a),r=Math.atan2(t.x*e,a*this.cosc0*n-t.y*this.sinc0*e)}else i=this.phic0,r=0;return t.x=r,t.y=i,WA.inverse.apply(this,[t]),t.x=Ve(t.x+this.long0,this.over),t}var lte=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const cte={init:ste,forward:ote,inverse:ute,names:lte};function HA(t,e,n){return e*=n,Math.tan(.5*(Se+t))*Math.pow((1-e)/(1+e),.5*n)}function hte(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Le&&(this.k0=.5*(1+pg(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=Le&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Le&&Math.abs(Math.cos(this.lat_ts))>Le&&(this.k0=.5*this.cons*Gs(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/ss(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Gs(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(HA(this.lat0,this.sinlat0,this.e))-Se,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function fte(t){var e=t.x,n=t.y,r=Math.sin(n),i=Math.cos(n),a,s,o,c,f,m,p=Ve(e-this.long0,this.over);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=Le&&Math.abs(n+this.lat0)<=Le?(t.x=NaN,t.y=NaN,t):this.sphere?(a=2*this.k0/(1+this.sinlat0*r+this.coslat0*i*Math.cos(p)),t.x=this.a*a*i*Math.sin(p)+this.x0,t.y=this.a*a*(this.coslat0*r-this.sinlat0*i*Math.cos(p))+this.y0,t):(s=2*Math.atan(HA(n,r,this.e))-Se,c=Math.cos(s),o=Math.sin(s),Math.abs(this.coslat0)<=Le?(f=ss(this.e,n*this.con,this.con*r),m=2*this.a*this.k0*f/this.cons,t.x=this.x0+m*Math.sin(e-this.long0),t.y=this.y0-this.con*m*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<Le?(a=2*this.a*this.k0/(1+c*Math.cos(p)),t.y=a*o):(a=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*o+this.cosX0*c*Math.cos(p))),t.y=a*(this.cosX0*o-this.sinX0*c*Math.cos(p))+this.y0),t.x=a*c*Math.sin(p)+this.x0,t))}function dte(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,a,s=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var o=2*Math.atan(s/(2*this.a*this.k0));return e=this.long0,n=this.lat0,s<=Le?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(o)*this.sinlat0+t.y*Math.sin(o)*this.coslat0/s),Math.abs(this.coslat0)<Le?this.lat0>0?e=Ve(this.long0+Math.atan2(t.x,-1*t.y),this.over):e=Ve(this.long0+Math.atan2(t.x,t.y),this.over):e=Ve(this.long0+Math.atan2(t.x*Math.sin(o),s*this.coslat0*Math.cos(o)-t.y*this.sinlat0*Math.sin(o)),this.over),t.x=e,t.y=n,t)}else if(Math.abs(this.coslat0)<=Le){if(s<=Le)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,r=s*this.cons/(2*this.a*this.k0),n=this.con*pm(this.e,r),e=this.con*Ve(this.con*this.long0+Math.atan2(t.x,-1*t.y),this.over)}else i=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s<=Le?a=this.X0:(a=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/s),e=Ve(this.long0+Math.atan2(t.x*Math.sin(i),s*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)),this.over)),n=-1*pm(this.e,Math.tan(.5*(Se+a)));return t.x=e,t.y=n,t}var pte=["stere","Stereographic_South_Pole","Polar_Stereographic_variant_A","Polar_Stereographic_variant_B","Polar_Stereographic"];const mte={init:hte,forward:fte,inverse:dte,names:pte,ssfn_:HA};function gte(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,r=this.rf,i=1/r,a=2*i-Math.pow(i,2),s=this.e=Math.sqrt(a);this.R=this.k0*n*Math.sqrt(1-a)/(1-a*Math.pow(e,2)),this.alpha=Math.sqrt(1+a/(1-a)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var o=Math.log(Math.tan(Math.PI/4+this.b0/2)),c=Math.log(Math.tan(Math.PI/4+t/2)),f=Math.log((1+s*e)/(1-s*e));this.K=o-this.alpha*c+this.alpha*s/2*f}function yte(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(e+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),a=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(a))),o=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(a));return t.y=this.R/2*Math.log((1+Math.sin(o))/(1-Math.sin(o)))+this.y0,t.x=this.R*s+this.x0,t}function vte(t){for(var e=t.x-this.x0,n=t.y-this.y0,r=e/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),a=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),s=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),o=this.lambda0+s/this.alpha,c=0,f=a,m=-1e3,p=0;Math.abs(f-m)>1e-7;){if(++p>20)return;c=1/this.alpha*(Math.log(Math.tan(Math.PI/4+a/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(f))/2)),m=f,f=2*Math.atan(Math.exp(c))-Math.PI/2}return t.x=o,t.y=f,t}var _te=["somerc"];const wte={init:gte,forward:yte,inverse:vte,names:_te};var ef=1e-7;function bte(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n=typeof t.projName=="object"?Object.keys(t.projName)[0]:t.projName;return"no_uoff"in t||"no_off"in t||e.indexOf(n)!==-1||e.indexOf(P7(n))!==-1}function xte(){var t,e,n,r,i,a,s,o,c,f,m=0,p,y=0,b=0,E=0,S=0,x=0,M=0;this.no_off=bte(this),this.no_rot="no_rot"in this;var O=!1;"alpha"in this&&(O=!0);var D=!1;if("rectified_grid_angle"in this&&(D=!0),O&&(M=this.alpha),D&&(m=this.rectified_grid_angle),O||D)y=this.longc;else if(b=this.long1,S=this.lat1,E=this.long2,x=this.lat2,Math.abs(S-x)<=ef||(t=Math.abs(S))<=ef||Math.abs(t-Se)<=ef||Math.abs(Math.abs(this.lat0)-Se)<=ef||Math.abs(Math.abs(x)-Se)<=ef)throw new Error;var $=1-this.es;e=Math.sqrt($),Math.abs(this.lat0)>Le?(o=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*o*o,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/$),this.A=this.B*this.k0*e/t,r=this.B*e/(n*Math.sqrt(t)),i=r*r-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=r,this.E*=Math.pow(ss(this.e,this.lat0,o),this.B)):(this.B=1/e,this.A=this.k0,this.E=r=i=1),O||D?(O?(p=Math.asin(Math.sin(M)/r),D||(m=M)):(p=m,M=Math.asin(r*Math.sin(p))),this.lam0=y-Math.asin(.5*(i-1/i)*Math.tan(p))/this.B):(a=Math.pow(ss(this.e,S,Math.sin(S)),this.B),s=Math.pow(ss(this.e,x,Math.sin(x)),this.B),i=this.E/a,c=(s-a)/(s+a),f=this.E*this.E,f=(f-s*a)/(f+s*a),t=b-E,t<-Math.PI?E-=fm:t>Math.PI&&(E+=fm),this.lam0=Ve(.5*(b+E)-Math.atan(f*Math.tan(.5*this.B*(b-E))/c)/this.B,this.over),p=Math.atan(2*Math.sin(this.B*Ve(b-this.lam0,this.over))/(i-1/i)),m=M=Math.asin(r*Math.sin(p))),this.singam=Math.sin(p),this.cosgam=Math.cos(p),this.sinrot=Math.sin(m),this.cosrot=Math.cos(m),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(M))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*p,this.v_pole_n=this.ArB*Math.log(Math.tan(Bt-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(Bt+i))}function Ete(t){var e={},n,r,i,a,s,o,c,f;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-Se)>Le){if(s=this.E/Math.pow(ss(this.e,t.y,Math.sin(t.y)),this.B),o=1/s,n=.5*(s-o),r=.5*(s+o),a=Math.sin(this.B*t.x),i=(n*this.singam-a*this.cosgam)/r,Math.abs(Math.abs(i)-1)<Le)throw new Error;f=.5*this.ArB*Math.log((1-i)/(1+i)),o=Math.cos(this.B*t.x),Math.abs(o)<ef?c=this.A*t.x:c=this.ArB*Math.atan2(n*this.cosgam+a*this.singam,o)}else f=t.y>0?this.v_pole_n:this.v_pole_s,c=this.ArB*t.y;return this.no_rot?(e.x=c,e.y=f):(c-=this.u_0,e.x=f*this.cosrot+c*this.sinrot,e.y=c*this.cosrot-f*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function Ste(t){var e,n,r,i,a,s,o,c={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),r=Math.exp(-this.BrA*n),i=.5*(r-1/r),a=.5*(r+1/r),s=Math.sin(this.BrA*e),o=(s*this.cosgam+i*this.singam)/a,Math.abs(Math.abs(o)-1)<Le)c.x=0,c.y=o<0?-Se:Se;else{if(c.y=this.E/Math.sqrt((1+o)/(1-o)),c.y=pm(this.e,Math.pow(c.y,1/this.B)),c.y===1/0)throw new Error;c.x=-this.rB*Math.atan2(i*this.cosgam-s*this.singam,Math.cos(this.BrA*e))}return c.x+=this.lam0,c}var Pte=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Variant_B","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const Tte={init:xte,forward:Ete,inverse:Ste,names:Pte};function Ate(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<Le)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),r=Gs(this.e,e,n),i=ss(this.e,this.lat1,e),a=Math.sin(this.lat2),s=Math.cos(this.lat2),o=Gs(this.e,a,s),c=ss(this.e,this.lat2,a),f=Math.abs(Math.abs(this.lat0)-Se)<Le?0:ss(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>Le?this.ns=Math.log(r/o)/Math.log(i/c):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(f,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function Ite(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=Le&&(n=pg(n)*(Se-2*Le));var r=Math.abs(Math.abs(n)-Se),i,a;if(r>Le)i=ss(this.e,n,Math.sin(n)),a=this.a*this.f0*Math.pow(i,this.ns);else{if(r=n*this.ns,r<=0)return null;a=0}var s=this.ns*Ve(e-this.long0,this.over);return t.x=this.k0*(a*Math.sin(s))+this.x0,t.y=this.k0*(this.rh-a*Math.cos(s))+this.y0,t}function Mte(t){var e,n,r,i,a,s=(t.x-this.x0)/this.k0,o=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+o*o),n=1):(e=-Math.sqrt(s*s+o*o),n=-1);var c=0;if(e!==0&&(c=Math.atan2(n*s,n*o)),e!==0||this.ns>0){if(n=1/this.ns,r=Math.pow(e/(this.a*this.f0),n),i=pm(this.e,r),i===-9999)return null}else i=-Se;return a=Ve(c/this.ns+this.long0,this.over),t.x=a,t.y=i,t}var Cte=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const Ote={init:Ate,forward:Ite,inverse:Mte,names:Cte};function Rte(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function kte(t){var e,n,r,i,a,s,o,c=t.x,f=t.y,m=Ve(c-this.long0,this.over);return e=Math.pow((1+this.e*Math.sin(f))/(1-this.e*Math.sin(f)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(f/2+this.s45),this.alfa)/e)-this.s45),r=-m*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),a=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),s=this.n*a,o=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=o*Math.cos(s)/1,t.x=o*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t}function Nte(t){var e,n,r,i,a,s,o,c,f=t.x;t.x=t.y,t.y=f,this.czech||(t.y*=-1,t.x*=-1),s=Math.sqrt(t.x*t.x+t.y*t.y),a=Math.atan2(t.y,t.x),i=a/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e)),t.x=this.long0-n/this.alfa,o=e,c=0;var m=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(o))/(1-this.e*Math.sin(o)),this.e/2))-this.s45),Math.abs(o-t.y)<1e-10&&(c=1),o=t.y,m+=1;while(c===0&&m<15);return m>=15?null:t}var Lte=["Krovak","krovak"];const Dte={init:Rte,forward:kte,inverse:Nte,names:Lte};function Jr(t,e,n,r,i){return t*i-e*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)}function mg(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function gg(t){return .375*t*(1+.25*t*(1+.46875*t))}function yg(t){return .05859375*t*t*(1+.75*t)}function vg(t){return t*t*t*(35/3072)}function KA(t,e,n){var r=e*n;return t/Math.sqrt(1-r*r)}function Tl(t){return Math.abs(t)<Se?t:t-pg(t)*Math.PI}function t_(t,e,n,r,i){var a,s;a=t/e;for(var o=0;o<15;o++)if(s=(t-(e*a-n*Math.sin(2*a)+r*Math.sin(4*a)-i*Math.sin(6*a)))/(e-2*n*Math.cos(2*a)+4*r*Math.cos(4*a)-6*i*Math.cos(6*a)),a+=s,Math.abs(s)<=1e-10)return a;return NaN}function jte(){this.sphere||(this.e0=mg(this.es),this.e1=gg(this.es),this.e2=yg(this.es),this.e3=vg(this.es),this.ml0=this.a*Jr(this.e0,this.e1,this.e2,this.e3,this.lat0))}function Vte(t){var e,n,r=t.x,i=t.y;if(r=Ve(r-this.long0,this.over),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var a=Math.sin(i),s=Math.cos(i),o=KA(this.a,this.e,a),c=Math.tan(i)*Math.tan(i),f=r*Math.cos(i),m=f*f,p=this.es*s*s/(1-this.es),y=this.a*Jr(this.e0,this.e1,this.e2,this.e3,i);e=o*f*(1-m*c*(1/6-(8-c+8*p)*m/120)),n=y-this.ml0+o*a/s*m*(.5+(5-c+6*p)*m/24)}return t.x=e+this.x0,t.y=n+this.y0,t}function Fte(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,r,i;if(this.sphere){var a=n+this.lat0;r=Math.asin(Math.sin(a)*Math.cos(e)),i=Math.atan2(Math.tan(e),Math.cos(a))}else{var s=this.ml0/this.a+n,o=t_(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(o)-Se)<=Le)return t.x=this.long0,t.y=Se,n<0&&(t.y*=-1),t;var c=KA(this.a,this.e,Math.sin(o)),f=c*c*c/this.a/this.a*(1-this.es),m=Math.pow(Math.tan(o),2),p=e*this.a/c,y=p*p;r=o-c*Math.tan(o)/f*p*p*(.5-(1+3*m)*p*p/24),i=p*(1-y*(m/3+(1+3*m)*m*y/15))/Math.cos(o)}return t.x=Ve(i+this.long0,this.over),t.y=Tl(r),t}var Bte=["Cassini","Cassini_Soldner","cass"];const $te={init:jte,forward:Vte,inverse:Fte,names:Bte};function cl(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}var ZP=1,XP=2,YP=3,Sv=4;function zte(){var t=Math.abs(this.lat0);if(Math.abs(t-Se)<Le?this.mode=this.lat0<0?ZP:XP:Math.abs(t)<Le?this.mode=YP:this.mode=Sv,this.es>0){var e;switch(this.qp=cl(this.e,1),this.mmf=.5/(1-this.es),this.apa=Yte(this.es),this.mode){case XP:this.dd=1;break;case ZP:this.dd=1;break;case YP:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case Sv:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=cl(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===Sv&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function Ute(t){var e,n,r,i,a,s,o,c,f,m,p=t.x,y=t.y;if(p=Ve(p-this.long0,this.over),this.sphere){if(a=Math.sin(y),m=Math.cos(y),r=Math.cos(p),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+m*r:1+this.sinph0*a+this.cosph0*m*r,n<=Le)return null;n=Math.sqrt(2/n),e=n*m*Math.sin(p),n*=this.mode===this.EQUIT?a:this.cosph0*a-this.sinph0*m*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(y+this.lat0)<Le)return null;n=Bt-y*.5,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(p),n*=r}}else{switch(o=0,c=0,f=0,r=Math.cos(p),i=Math.sin(p),a=Math.sin(y),s=cl(this.e,a),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(o=s/this.qp,c=Math.sqrt(1-o*o)),this.mode){case this.OBLIQ:f=1+this.sinb1*o+this.cosb1*c*r;break;case this.EQUIT:f=1+c*r;break;case this.N_POLE:f=Se+y,s=this.qp-s;break;case this.S_POLE:f=y-Se,s=this.qp+s;break}if(Math.abs(f)<Le)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:f=Math.sqrt(2/f),this.mode===this.OBLIQ?n=this.ymf*f*(this.cosb1*o-this.sinb1*c*r):n=(f=Math.sqrt(2/(1+c*r)))*o*this.ymf,e=this.xmf*f*c*i;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(f=Math.sqrt(s))*i,n=r*(this.mode===this.S_POLE?f:-f)):e=n=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t}function qte(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,r,i,a,s,o,c,f;if(this.sphere){var m=0,p,y=0;if(p=Math.sqrt(e*e+n*n),i=p*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(y=Math.sin(i),m=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(p)<=Le?0:Math.asin(n*y/p),e*=y,n=m*p;break;case this.OBLIQ:i=Math.abs(p)<=Le?this.lat0:Math.asin(m*this.sinph0+n*y*this.cosph0/p),e*=y*this.cosph0,n=(m-Math.sin(i)*this.sinph0)*p;break;case this.N_POLE:n=-n,i=Se-i;break;case this.S_POLE:i-=Se;break}r=n===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,n)}else{if(f=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,n*=this.dd,c=Math.sqrt(e*e+n*n),c<Le)return t.x=this.long0,t.y=this.lat0,t;s=2*Math.asin(.5*c/this.rq),a=Math.cos(s),e*=s=Math.sin(s),this.mode===this.OBLIQ?(f=a*this.sinb1+n*s*this.cosb1/c,o=this.qp*f,n=c*this.cosb1*a-n*this.sinb1*s):(f=n*s/c,o=this.qp*f,n=c*a)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),o=e*e+n*n,!o)return t.x=this.long0,t.y=this.lat0,t;f=1-o/this.qp,this.mode===this.S_POLE&&(f=-f)}r=Math.atan2(e,n),i=Qte(Math.asin(f),this.apa)}return t.x=Ve(this.long0+r,this.over),t.y=i,t}var Gte=.3333333333333333,Wte=.17222222222222222,Hte=.10257936507936508,Kte=.06388888888888888,Zte=.0664021164021164,Xte=.016415012942191543;function Yte(t){var e,n=[];return n[0]=t*Gte,e=t*t,n[0]+=e*Wte,n[1]=e*Kte,e*=t,n[0]+=e*Hte,n[1]+=e*Zte,n[2]=e*Xte,n}function Qte(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}var Jte=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const ene={init:zte,forward:Ute,inverse:qte,names:Jte,S_POLE:ZP,N_POLE:XP,EQUIT:YP,OBLIQ:Sv};function wl(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function tne(){Math.abs(this.lat1+this.lat2)<Le||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Gs(this.e3,this.sin_po,this.cos_po),this.qs1=cl(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Gs(this.e3,this.sin_po,this.cos_po),this.qs2=cl(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=cl(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>Le?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function nne(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=cl(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,a=this.ns0*Ve(e-this.long0,this.over),s=i*Math.sin(a)+this.x0,o=this.rh-i*Math.cos(a)+this.y0;return t.x=s,t.y=o,t}function rne(t){var e,n,r,i,a,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1),i=0,e!==0&&(i=Math.atan2(r*t.x,r*t.y)),r=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,s=this.phi1z(this.e3,n)),a=Ve(i/this.ns0+this.long0,this.over),t.x=a,t.y=s,t}function ine(t,e){var n,r,i,a,s,o=wl(.5*e);if(t<Le)return o;for(var c=t*t,f=1;f<=25;f++)if(n=Math.sin(o),r=Math.cos(o),i=t*n,a=1-i*i,s=.5*a*a/r*(e/(1-c)-n/a+.5/t*Math.log((1-i)/(1+i))),o=o+s,Math.abs(s)<=1e-7)return o;return null}var ane=["Albers_Conic_Equal_Area","Albers_Equal_Area","Albers","aea"];const sne={init:tne,forward:nne,inverse:rne,names:ane,phi1z:ine};function one(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function une(t){var e,n,r,i,a,s,o,c,f=t.x,m=t.y;return r=Ve(f-this.long0,this.over),e=Math.sin(m),n=Math.cos(m),i=Math.cos(r),s=this.sin_p14*e+this.cos_p14*n*i,a=1,s>0||Math.abs(s)<=Le?(o=this.x0+this.a*a*n*Math.sin(r)/s,c=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*n*i)/s):(o=this.x0+this.infinity_dist*n*Math.sin(r),c=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*i)),t.x=o,t.y=c,t}function lne(t){var e,n,r,i,a,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),n=Math.sin(i),r=Math.cos(i),s=wl(r*this.sin_p14+t.y*n*this.cos_p14/e),a=Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n),a=Ve(this.long0+a,this.over)):(s=this.phic0,a=0),t.x=a,t.y=s,t}var cne=["gnom"];const hne={init:one,forward:une,inverse:lne,names:cne};function fne(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*Se:Se;for(var r=Math.asin(.5*e),i,a,s,o,c=0;c<30;c++)if(a=Math.sin(r),s=Math.cos(r),o=t*a,i=Math.pow(1-o*o,2)/(2*s)*(e/(1-t*t)-a/(1-o*o)+.5/t*Math.log((1-o)/(1+o))),r+=i,Math.abs(i)<=1e-10)return r;return NaN}function dne(){this.sphere||(this.k0=Gs(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function pne(t){var e=t.x,n=t.y,r,i,a=Ve(e-this.long0,this.over);if(this.sphere)r=this.x0+this.a*a*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var s=cl(this.e,Math.sin(n));r=this.x0+this.a*this.k0*a,i=this.y0+this.a*s*.5/this.k0}return t.x=r,t.y=i,t}function mne(t){t.x-=this.x0,t.y-=this.y0;var e,n;return this.sphere?(e=Ve(this.long0+t.x/this.a/Math.cos(this.lat_ts),this.over),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=fne(this.e,2*t.y*this.k0/this.a),e=Ve(this.long0+t.x/(this.a*this.k0),this.over)),t.x=e,t.y=n,t}var gne=["cea"];const yne={init:dne,forward:pne,inverse:mne,names:gne};function vne(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function _ne(t){var e=t.x,n=t.y,r=Ve(e-this.long0,this.over),i=Tl(n-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*i,t}function wne(t){var e=t.x,n=t.y;return t.x=Ve(this.long0+(e-this.x0)/(this.a*this.rc),this.over),t.y=Tl(this.lat0+(n-this.y0)/this.a),t}var bne=["Equirectangular","Equidistant_Cylindrical","Equidistant_Cylindrical_Spherical","eqc"];const xne={init:vne,forward:_ne,inverse:wne,names:bne};var x4=20;function Ene(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=mg(this.es),this.e1=gg(this.es),this.e2=yg(this.es),this.e3=vg(this.es),this.ml0=this.a*Jr(this.e0,this.e1,this.e2,this.e3,this.lat0)}function Sne(t){var e=t.x,n=t.y,r,i,a,s=Ve(e-this.long0,this.over);if(a=s*Math.sin(n),this.sphere)Math.abs(n)<=Le?(r=this.a*s,i=-1*this.a*this.lat0):(r=this.a*Math.sin(a)/Math.tan(n),i=this.a*(Tl(n-this.lat0)+(1-Math.cos(a))/Math.tan(n)));else if(Math.abs(n)<=Le)r=this.a*s,i=-1*this.ml0;else{var o=KA(this.a,this.e,Math.sin(n))/Math.tan(n);r=o*Math.sin(a),i=this.a*Jr(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+o*(1-Math.cos(a))}return t.x=r+this.x0,t.y=i+this.y0,t}function Pne(t){var e,n,r,i,a,s,o,c,f;if(r=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=Le)e=Ve(r/this.a+this.long0,this.over),n=0;else{s=this.lat0+i/this.a,o=r*r/this.a/this.a+s*s,c=s;var m;for(a=x4;a;--a)if(m=Math.tan(c),f=-1*(s*(c*m+1)-c-.5*(c*c+o)*m)/((c-s)/m-1),c+=f,Math.abs(f)<=Le){n=c;break}e=Ve(this.long0+Math.asin(r*Math.tan(c)/this.a)/Math.sin(n),this.over)}else if(Math.abs(i+this.ml0)<=Le)n=0,e=Ve(this.long0+r/this.a,this.over);else{s=(this.ml0+i)/this.a,o=r*r/this.a/this.a+s*s,c=s;var p,y,b,E,S;for(a=x4;a;--a)if(S=this.e*Math.sin(c),p=Math.sqrt(1-S*S)*Math.tan(c),y=this.a*Jr(this.e0,this.e1,this.e2,this.e3,c),b=this.e0-2*this.e1*Math.cos(2*c)+4*this.e2*Math.cos(4*c)-6*this.e3*Math.cos(6*c),E=y/this.a,f=(s*(p*E+1)-E-.5*p*(E*E+o))/(this.es*Math.sin(2*c)*(E*E+o-2*s*E)/(4*p)+(s-E)*(p*b-2/Math.sin(2*c))-b),c-=f,Math.abs(f)<=Le){n=c;break}p=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=Ve(this.long0+Math.asin(r*p/this.a)/Math.sin(n),this.over)}return t.x=e,t.y=n,t}var Tne=["Polyconic","American_Polyconic","poly"];const Ane={init:Ene,forward:Sne,inverse:Pne,names:Tne};function Ine(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function Mne(t){var e,n=t.x,r=t.y,i=r-this.lat0,a=n-this.long0,s=i/Fp*1e-5,o=a,c=1,f=0;for(e=1;e<=10;e++)c=c*s,f=f+this.A[e]*c;var m=f,p=o,y=1,b=0,E,S,x=0,M=0;for(e=1;e<=6;e++)E=y*m-b*p,S=b*m+y*p,y=E,b=S,x=x+this.B_re[e]*y-this.B_im[e]*b,M=M+this.B_im[e]*y+this.B_re[e]*b;return t.x=M*this.a+this.x0,t.y=x*this.a+this.y0,t}function Cne(t){var e,n=t.x,r=t.y,i=n-this.x0,a=r-this.y0,s=a/this.a,o=i/this.a,c=1,f=0,m,p,y=0,b=0;for(e=1;e<=6;e++)m=c*s-f*o,p=f*s+c*o,c=m,f=p,y=y+this.C_re[e]*c-this.C_im[e]*f,b=b+this.C_im[e]*c+this.C_re[e]*f;for(var E=0;E<this.iterations;E++){var S=y,x=b,M,O,D=s,$=o;for(e=2;e<=6;e++)M=S*y-x*b,O=x*y+S*b,S=M,x=O,D=D+(e-1)*(this.B_re[e]*S-this.B_im[e]*x),$=$+(e-1)*(this.B_im[e]*S+this.B_re[e]*x);S=1,x=0;var k=this.B_re[1],V=this.B_im[1];for(e=2;e<=6;e++)M=S*y-x*b,O=x*y+S*b,S=M,x=O,k=k+e*(this.B_re[e]*S-this.B_im[e]*x),V=V+e*(this.B_im[e]*S+this.B_re[e]*x);var C=k*k+V*V;y=(D*k+$*V)/C,b=($*k-D*V)/C}var j=y,B=b,H=1,z=0;for(e=1;e<=9;e++)H=H*j,z=z+this.D[e]*H;var G=this.lat0+z*Fp*1e5,q=this.long0+B;return t.x=q,t.y=G,t}var One=["New_Zealand_Map_Grid","nzmg"];const Rne={init:Ine,forward:Mne,inverse:Cne,names:One};function kne(){}function Nne(t){var e=t.x,n=t.y,r=Ve(e-this.long0,this.over),i=this.x0+this.a*r,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=i,t.y=a,t}function Lne(t){t.x-=this.x0,t.y-=this.y0;var e=Ve(this.long0+t.x/this.a,this.over),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t}var Dne=["Miller_Cylindrical","mill"];const jne={init:kne,forward:Nne,inverse:Lne,names:Dne};var Vne=20;function Fne(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=zA(this.es)}function Bne(t){var e,n,r=t.x,i=t.y;if(r=Ve(r-this.long0,this.over),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var a=this.n*Math.sin(i),s=Vne;s;--s){var o=(this.m*i+Math.sin(i)-a)/(this.m+Math.cos(i));if(i-=o,Math.abs(o)<Le)break}e=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var c=Math.sin(i),f=Math.cos(i);n=this.a*dd(i,c,f,this.en),e=this.a*r*f/Math.sqrt(1-this.es*c*c)}return t.x=e,t.y=n,t}function $ne(t){var e,n,r,i;return t.x-=this.x0,r=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,r=r/(this.C_x*(this.m+Math.cos(e))),this.m?e=wl((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=wl(Math.sin(e)/this.n)),r=Ve(r+this.long0,this.over),e=Tl(e)):(e=UA(t.y/this.a,this.es,this.en),i=Math.abs(e),i<Se?(i=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),r=Ve(n,this.over)):i-Le<Se&&(r=this.long0)),t.x=r,t.y=e,t}var zne=["Sinusoidal","sinu"];const Une={init:Fne,forward:Bne,inverse:$ne,names:zne};function qne(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0}function Gne(t){for(var e=t.x,n=t.y,r=Ve(e-this.long0,this.over),i=n,a=Math.PI*Math.sin(n);;){var s=-(i+Math.sin(i)-a)/(1+Math.cos(i));if(i+=s,Math.abs(s)<Le)break}i/=2,Math.PI/2-Math.abs(n)<Le&&(r=0);var o=.900316316158*this.a*r*Math.cos(i)+this.x0,c=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=o,t.y=c,t}function Wne(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var r=Ve(this.long0+t.x/(.900316316158*this.a*Math.cos(e)),this.over);r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return t.x=r,t.y=i,t}var Hne=["Mollweide","moll"];const Kne={init:qne,forward:Gne,inverse:Wne,names:Hne};function Zne(){Math.abs(this.lat1+this.lat2)<Le||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=mg(this.es),this.e1=gg(this.es),this.e2=yg(this.es),this.e3=vg(this.es),this.sin_phi=Math.sin(this.lat1),this.cos_phi=Math.cos(this.lat1),this.ms1=Gs(this.e,this.sin_phi,this.cos_phi),this.ml1=Jr(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<Le?this.ns=this.sin_phi:(this.sin_phi=Math.sin(this.lat2),this.cos_phi=Math.cos(this.lat2),this.ms2=Gs(this.e,this.sin_phi,this.cos_phi),this.ml2=Jr(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Jr(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function Xne(t){var e=t.x,n=t.y,r;if(this.sphere)r=this.a*(this.g-n);else{var i=Jr(this.e0,this.e1,this.e2,this.e3,n);r=this.a*(this.g-i)}var a=this.ns*Ve(e-this.long0,this.over),s=this.x0+r*Math.sin(a),o=this.y0+this.rh-r*Math.cos(a);return t.x=s,t.y=o,t}function Yne(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,n,r,i;this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var a=0;if(n!==0&&(a=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=Ve(this.long0+a/this.ns,this.over),r=Tl(this.g-n/this.a),t.x=i,t.y=r,t;var s=this.g-n/this.a;return r=t_(s,this.e0,this.e1,this.e2,this.e3),i=Ve(this.long0+a/this.ns,this.over),t.x=i,t.y=r,t}var Qne=["Equidistant_Conic","eqdc"];const Jne={init:Zne,forward:Xne,inverse:Yne,names:Qne};function ere(){this.R=this.a}function tre(t){var e=t.x,n=t.y,r=Ve(e-this.long0,this.over),i,a;Math.abs(n)<=Le&&(i=this.x0+this.R*r,a=this.y0);var s=wl(2*Math.abs(n/Math.PI));(Math.abs(r)<=Le||Math.abs(Math.abs(n)-Se)<=Le)&&(i=this.x0,n>=0?a=this.y0+Math.PI*this.R*Math.tan(.5*s):a=this.y0+Math.PI*this.R*-Math.tan(.5*s));var o=.5*Math.abs(Math.PI/r-r/Math.PI),c=o*o,f=Math.sin(s),m=Math.cos(s),p=m/(f+m-1),y=p*p,b=p*(2/f-1),E=b*b,S=Math.PI*this.R*(o*(p-E)+Math.sqrt(c*(p-E)*(p-E)-(E+c)*(y-E)))/(E+c);r<0&&(S=-S),i=this.x0+S;var x=c+p;return S=Math.PI*this.R*(b*x-o*Math.sqrt((E+c)*(c+1)-x*x))/(E+c),n>=0?a=this.y0+S:a=this.y0-S,t.x=i,t.y=a,t}function nre(t){var e,n,r,i,a,s,o,c,f,m,p,y,b;return t.x-=this.x0,t.y-=this.y0,p=Math.PI*this.R,r=t.x/p,i=t.y/p,a=r*r+i*i,s=-Math.abs(i)*(1+a),o=s-2*i*i+r*r,c=-2*s+1+2*i*i+a*a,b=i*i/c+(2*o*o*o/c/c/c-9*s*o/c/c)/27,f=(s-o*o/3/c)/c,m=2*Math.sqrt(-f/3),p=3*b/f/m,Math.abs(p)>1&&(p>=0?p=1:p=-1),y=Math.acos(p)/3,t.y>=0?n=(-m*Math.cos(y+Math.PI/3)-o/3/c)*Math.PI:n=-(-m*Math.cos(y+Math.PI/3)-o/3/c)*Math.PI,Math.abs(r)<Le?e=this.long0:e=Ve(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(r*r-i*i)+a*a))/2/r,this.over),t.x=e,t.y=n,t}var rre=["Van_der_Grinten_I","VanDerGrinten","Van_der_Grinten","vandg"];const ire={init:ere,forward:tre,inverse:nre,names:rre};function are(t,e,n,r,i,a){const s=r-e,o=Math.atan((1-a)*Math.tan(t)),c=Math.atan((1-a)*Math.tan(n)),f=Math.sin(o),m=Math.cos(o),p=Math.sin(c),y=Math.cos(c);let b=s,E,S=100,x,M,O,D,$,k,V,C,j,B,H,z,G,q;do{if(x=Math.sin(b),M=Math.cos(b),O=Math.sqrt(y*x*(y*x)+(m*p-f*y*M)*(m*p-f*y*M)),O===0)return{azi1:0,s12:0};D=f*p+m*y*M,$=Math.atan2(O,D),k=m*y*x/O,V=1-k*k,C=V!==0?D-2*f*p/V:0,j=a/16*V*(4+a*(4-3*V)),E=b,b=s+(1-j)*a*k*($+j*O*(C+j*D*(-1+2*C*C)))}while(Math.abs(b-E)>1e-12&&--S>0);return S===0?{azi1:NaN,s12:NaN}:(B=V*(i*i-i*(1-a)*(i*(1-a)))/(i*(1-a)*(i*(1-a))),H=1+B/16384*(4096+B*(-768+B*(320-175*B))),z=B/1024*(256+B*(-128+B*(74-47*B))),G=z*O*(C+z/4*(D*(-1+2*C*C)-z/6*C*(-3+4*O*O)*(-3+4*C*C))),q=i*(1-a)*H*($-G),{azi1:Math.atan2(y*x,m*p-f*y*M),s12:q})}function sre(t,e,n,r,i,a){const s=Math.atan((1-a)*Math.tan(t)),o=Math.sin(s),c=Math.cos(s),f=Math.sin(n),m=Math.cos(n),p=Math.atan2(o,c*m),y=c*f,b=1-y*y,E=b*(i*i-i*(1-a)*(i*(1-a)))/(i*(1-a)*(i*(1-a))),S=1+E/16384*(4096+E*(-768+E*(320-175*E))),x=E/1024*(256+E*(-128+E*(74-47*E)));let M=r/(i*(1-a)*S),O,D=100,$,k,V,C;do $=Math.cos(2*p+M),k=Math.sin(M),V=Math.cos(M),C=x*k*($+x/4*(V*(-1+2*$*$)-x/6*$*(-3+4*k*k)*(-3+4*$*$))),O=M,M=r/(i*(1-a)*S)+C;while(Math.abs(M-O)>1e-12&&--D>0);if(D===0)return{lat2:NaN,lon2:NaN};const j=o*k-c*V*m,B=Math.atan2(o*V+c*k*m,(1-a)*Math.sqrt(y*y+j*j)),H=Math.atan2(k*f,c*V-o*k*m),z=a/16*b*(4+a*(4-3*b)),G=H-(1-z)*a*y*(M+z*k*($+z*V*(-1+2*$*$))),q=e+G;return{lat2:B,lon2:q}}function ore(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0),this.f=this.es/(1+Math.sqrt(1-this.es))}function ure(t){var e=t.x,n=t.y,r=Math.sin(t.y),i=Math.cos(t.y),a=Ve(e-this.long0,this.over),s,o,c,f,m,p,y,b,E,S,x;return this.sphere?Math.abs(this.sin_p12-1)<=Le?(t.x=this.x0+this.a*(Se-n)*Math.sin(a),t.y=this.y0-this.a*(Se-n)*Math.cos(a),t):Math.abs(this.sin_p12+1)<=Le?(t.x=this.x0+this.a*(Se+n)*Math.sin(a),t.y=this.y0+this.a*(Se+n)*Math.cos(a),t):(E=this.sin_p12*r+this.cos_p12*i*Math.cos(a),y=Math.acos(E),b=y?y/Math.sin(y):1,t.x=this.x0+this.a*b*i*Math.sin(a),t.y=this.y0+this.a*b*(this.cos_p12*r-this.sin_p12*i*Math.cos(a)),t):(s=mg(this.es),o=gg(this.es),c=yg(this.es),f=vg(this.es),Math.abs(this.sin_p12-1)<=Le?(m=this.a*Jr(s,o,c,f,Se),p=this.a*Jr(s,o,c,f,n),t.x=this.x0+(m-p)*Math.sin(a),t.y=this.y0-(m-p)*Math.cos(a),t):Math.abs(this.sin_p12+1)<=Le?(m=this.a*Jr(s,o,c,f,Se),p=this.a*Jr(s,o,c,f,n),t.x=this.x0+(m+p)*Math.sin(a),t.y=this.y0+(m+p)*Math.cos(a),t):Math.abs(e)<Le&&Math.abs(n-this.lat0)<Le?(t.x=t.y=0,t):(S=are(this.lat0,this.long0,n,e,this.a,this.f),x=S.azi1,t.x=S.s12*Math.sin(x),t.y=S.s12*Math.cos(x),t))}function lre(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,a,s,o,c,f,m,p,y,b,E,S,x;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*Se*this.a?void 0:(n=e/this.a,r=Math.sin(n),i=Math.cos(n),a=this.long0,Math.abs(e)<=Le?s=this.lat0:(s=wl(i*this.sin_p12+t.y*r*this.cos_p12/e),o=Math.abs(this.lat0)-Se,Math.abs(o)<=Le?this.lat0>=0?a=Ve(this.long0+Math.atan2(t.x,-t.y),this.over):a=Ve(this.long0-Math.atan2(-t.x,t.y),this.over):a=Ve(this.long0+Math.atan2(t.x*r,e*this.cos_p12*i-t.y*this.sin_p12*r),this.over)),t.x=a,t.y=s,t)):(c=mg(this.es),f=gg(this.es),m=yg(this.es),p=vg(this.es),Math.abs(this.sin_p12-1)<=Le?(y=this.a*Jr(c,f,m,p,Se),e=Math.sqrt(t.x*t.x+t.y*t.y),b=y-e,s=t_(b/this.a,c,f,m,p),a=Ve(this.long0+Math.atan2(t.x,-1*t.y),this.over),t.x=a,t.y=s,t):Math.abs(this.sin_p12+1)<=Le?(y=this.a*Jr(c,f,m,p,Se),e=Math.sqrt(t.x*t.x+t.y*t.y),b=e-y,s=t_(b/this.a,c,f,m,p),a=Ve(this.long0+Math.atan2(t.x,t.y),this.over),t.x=a,t.y=s,t):(E=Math.atan2(t.x,t.y),S=Math.sqrt(t.x*t.x+t.y*t.y),x=sre(this.lat0,this.long0,E,S,this.a,this.f),t.x=x.lon2,t.y=x.lat2,t))}var cre=["Azimuthal_Equidistant","aeqd"];const hre={init:ore,forward:ure,inverse:lre,names:cre};function fre(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function dre(t){var e,n,r,i,a,s,o,c,f=t.x,m=t.y;return r=Ve(f-this.long0,this.over),e=Math.sin(m),n=Math.cos(m),i=Math.cos(r),s=this.sin_p14*e+this.cos_p14*n*i,a=1,(s>0||Math.abs(s)<=Le)&&(o=this.a*a*n*Math.sin(r),c=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*n*i)),t.x=o,t.y=c,t}function pre(t){var e,n,r,i,a,s,o;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=wl(e/this.a),r=Math.sin(n),i=Math.cos(n),s=this.long0,Math.abs(e)<=Le?(o=this.lat0,t.x=s,t.y=o,t):(o=wl(i*this.sin_p14+t.y*r*this.cos_p14/e),a=Math.abs(this.lat0)-Se,Math.abs(a)<=Le?(this.lat0>=0?s=Ve(this.long0+Math.atan2(t.x,-t.y),this.over):s=Ve(this.long0-Math.atan2(-t.x,t.y),this.over),t.x=s,t.y=o,t):(s=Ve(this.long0+Math.atan2(t.x*r,e*this.cos_p14*i-t.y*this.sin_p14*r),this.over),t.x=s,t.y=o,t))}var mre=["ortho"];const gre={init:fre,forward:dre,inverse:pre,names:mre};var wn={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},$t={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function yre(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=Se-Bt/2?this.face=wn.TOP:this.lat0<=-(Se-Bt/2)?this.face=wn.BOTTOM:Math.abs(this.long0)<=Bt?this.face=wn.FRONT:Math.abs(this.long0)<=Se+Bt?this.face=this.long0>0?wn.RIGHT:wn.LEFT:this.face=wn.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function vre(t){var e={x:0,y:0},n,r,i,a,s,o,c={value:0};if(t.x-=this.long0,this.es!==0?n=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):n=t.y,r=t.x,this.face===wn.TOP)a=Se-n,r>=Bt&&r<=Se+Bt?(c.value=$t.AREA_0,i=r-Se):r>Se+Bt||r<=-(Se+Bt)?(c.value=$t.AREA_1,i=r>0?r-On:r+On):r>-(Se+Bt)&&r<=-Bt?(c.value=$t.AREA_2,i=r+Se):(c.value=$t.AREA_3,i=r);else if(this.face===wn.BOTTOM)a=Se+n,r>=Bt&&r<=Se+Bt?(c.value=$t.AREA_0,i=-r+Se):r<Bt&&r>=-Bt?(c.value=$t.AREA_1,i=-r):r<-Bt&&r>=-(Se+Bt)?(c.value=$t.AREA_2,i=-r-Se):(c.value=$t.AREA_3,i=r>0?-r+On:-r-On);else{var f,m,p,y,b,E,S;this.face===wn.RIGHT?r=yf(r,+Se):this.face===wn.BACK?r=yf(r,+On):this.face===wn.LEFT&&(r=yf(r,-Se)),y=Math.sin(n),b=Math.cos(n),E=Math.sin(r),S=Math.cos(r),f=b*S,m=b*E,p=y,this.face===wn.FRONT?(a=Math.acos(f),i=zy(a,p,m,c)):this.face===wn.RIGHT?(a=Math.acos(m),i=zy(a,p,-f,c)):this.face===wn.BACK?(a=Math.acos(-f),i=zy(a,p,-m,c)):this.face===wn.LEFT?(a=Math.acos(-m),i=zy(a,p,f,c)):(a=i=0,c.value=$t.AREA_0)}return o=Math.atan(12/On*(i+Math.acos(Math.sin(i)*Math.cos(Bt))-Se)),s=Math.sqrt((1-Math.cos(a))/(Math.cos(o)*Math.cos(o))/(1-Math.cos(Math.atan(1/Math.cos(i))))),c.value===$t.AREA_1?o+=Se:c.value===$t.AREA_2?o+=On:c.value===$t.AREA_3&&(o+=1.5*On),e.x=s*Math.cos(o),e.y=s*Math.sin(o),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function _re(t){var e={lam:0,phi:0},n,r,i,a,s,o,c,f,m,p={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,r=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),n=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?p.value=$t.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(p.value=$t.AREA_1,n-=Se):t.x<0&&-t.x>=Math.abs(t.y)?(p.value=$t.AREA_2,n=n<0?n+On:n-On):(p.value=$t.AREA_3,n+=Se),m=On/12*Math.tan(n),s=Math.sin(m)/(Math.cos(m)-1/Math.sqrt(2)),o=Math.atan(s),i=Math.cos(n),a=Math.tan(r),c=1-i*i*a*a*(1-Math.cos(Math.atan(1/Math.cos(o)))),c<-1?c=-1:c>1&&(c=1),this.face===wn.TOP)f=Math.acos(c),e.phi=Se-f,p.value===$t.AREA_0?e.lam=o+Se:p.value===$t.AREA_1?e.lam=o<0?o+On:o-On:p.value===$t.AREA_2?e.lam=o-Se:e.lam=o;else if(this.face===wn.BOTTOM)f=Math.acos(c),e.phi=f-Se,p.value===$t.AREA_0?e.lam=-o+Se:p.value===$t.AREA_1?e.lam=-o:p.value===$t.AREA_2?e.lam=-o-Se:e.lam=o<0?-o-On:-o+On;else{var y,b,E;y=c,m=y*y,m>=1?E=0:E=Math.sqrt(1-m)*Math.sin(o),m+=E*E,m>=1?b=0:b=Math.sqrt(1-m),p.value===$t.AREA_1?(m=b,b=-E,E=m):p.value===$t.AREA_2?(b=-b,E=-E):p.value===$t.AREA_3&&(m=b,b=E,E=-m),this.face===wn.RIGHT?(m=y,y=-b,b=m):this.face===wn.BACK?(y=-y,b=-b):this.face===wn.LEFT&&(m=y,y=b,b=-m),e.phi=Math.acos(-E)-Se,e.lam=Math.atan2(b,y),this.face===wn.RIGHT?e.lam=yf(e.lam,-Se):this.face===wn.BACK?e.lam=yf(e.lam,-On):this.face===wn.LEFT&&(e.lam=yf(e.lam,+Se))}if(this.es!==0){var S,x,M;S=e.phi<0?1:0,x=Math.tan(e.phi),M=this.b/Math.sqrt(x*x+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-M*M)/(this.one_minus_f*M)),S&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function zy(t,e,n,r){var i;return t<Le?(r.value=$t.AREA_0,i=0):(i=Math.atan2(e,n),Math.abs(i)<=Bt?r.value=$t.AREA_0:i>Bt&&i<=Se+Bt?(r.value=$t.AREA_1,i-=Se):i>Se+Bt||i<=-(Se+Bt)?(r.value=$t.AREA_2,i=i>=0?i-On:i+On):(r.value=$t.AREA_3,i+=Se)),i}function yf(t,e){var n=t+e;return n<-On?n+=fm:n>+On&&(n-=fm),n}var wre=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const bre={init:yre,forward:vre,inverse:_re,names:wre};var QP=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Sp=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],V7=.8487,F7=1.3523,B7=wi/5,xre=1/B7,sf=18,n_=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},Ere=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function Sre(t,e,n,r){for(var i=e;r;--r){var a=t(i);if(i-=a,Math.abs(a)<n)break}return i}function Pre(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function Tre(t){var e=Ve(t.x-this.long0,this.over),n=Math.abs(t.y),r=Math.floor(n*B7);r<0?r=0:r>=sf&&(r=sf-1),n=wi*(n-xre*r);var i={x:n_(QP[r],n)*e,y:n_(Sp[r],n)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*V7+this.x0,i.y=i.y*this.a*F7+this.y0,i}function Are(t){var e={x:(t.x-this.x0)/(this.a*V7),y:Math.abs(t.y-this.y0)/(this.a*F7)};if(e.y>=1)e.x/=QP[sf][0],e.y=t.y<0?-Se:Se;else{var n=Math.floor(e.y*sf);for(n<0?n=0:n>=sf&&(n=sf-1);;)if(Sp[n][0]>e.y)--n;else if(Sp[n+1][0]<=e.y)++n;else break;var r=Sp[n],i=5*(e.y-r[0])/(Sp[n+1][0]-r[0]);i=Sre(function(a){return(n_(r,a)-e.y)/Ere(r,a)},i,Le,100),e.x/=n_(QP[n],i),e.y=(5*n+i)*En,t.y<0&&(e.y=-e.y)}return e.x=Ve(e.x+this.long0,this.over),e}var Ire=["Robinson","robin"];const Mre={init:Pre,forward:Tre,inverse:Are,names:Ire};function Cre(){this.name="geocent"}function Ore(t){var e=A7(t,this.es,this.a);return e}function Rre(t){var e=I7(t,this.es,this.a,this.b);return e}var kre=["Geocentric","geocentric","geocent","Geocent"];const Nre={init:Cre,forward:Ore,inverse:Rre,names:kre};var kr={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},sp={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function Lre(){if(Object.keys(sp).forEach((function(n){if(typeof this[n]>"u")this[n]=sp[n].def;else{if(sp[n].num&&isNaN(this[n]))throw new Error("Invalid parameter value, must be numeric "+n+" = "+this[n]);sp[n].num&&(this[n]=parseFloat(this[n]))}sp[n].degrees&&(this[n]=this[n]*En)}).bind(this)),Math.abs(Math.abs(this.lat0)-Se)<Le?this.mode=this.lat0<0?kr.S_POLE:kr.N_POLE:Math.abs(this.lat0)<Le?this.mode=kr.EQUIT:(this.mode=kr.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function Dre(t){t.x-=this.long0;var e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i,a;switch(this.mode){case kr.OBLIQ:a=this.sinph0*e+this.cosph0*n*r;break;case kr.EQUIT:a=n*r;break;case kr.S_POLE:a=-e;break;case kr.N_POLE:a=e;break}switch(a=this.pn1/(this.p-a),i=a*n*Math.sin(t.x),this.mode){case kr.OBLIQ:a*=this.cosph0*e-this.sinph0*n*r;break;case kr.EQUIT:a*=e;break;case kr.N_POLE:a*=-(n*r);break;case kr.S_POLE:a*=n*r;break}var s,o;return s=a*this.cg+i*this.sg,o=1/(s*this.sw*this.h1+this.cw),i=(i*this.cg-a*this.sg)*this.cw*o,a=s*o,t.x=i*this.a,t.y=a*this.a,t}function jre(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},n,r,i;i=1/(this.pn1-t.y*this.sw),n=this.pn1*t.x*i,r=this.pn1*t.y*this.cw*i,t.x=n*this.cg+r*this.sg,t.y=r*this.cg-n*this.sg;var a=yi(t.x,t.y);if(Math.abs(a)<Le)e.x=0,e.y=t.y;else{var s,o;switch(o=1-a*a*this.pfact,o=(this.p-Math.sqrt(o))/(this.pn1/a+a/this.pn1),s=Math.sqrt(1-o*o),this.mode){case kr.OBLIQ:e.y=Math.asin(s*this.sinph0+t.y*o*this.cosph0/a),t.y=(s-this.sinph0*Math.sin(e.y))*a,t.x*=o*this.cosph0;break;case kr.EQUIT:e.y=Math.asin(t.y*o/a),t.y=s*a,t.x*=o;break;case kr.N_POLE:e.y=Math.asin(s),t.y=-t.y;break;case kr.S_POLE:e.y=-Math.asin(s);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var Vre=["Tilted_Perspective","tpers"];const Fre={init:Lre,forward:Dre,inverse:jre,names:Vre};function Bre(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function $re(t){var e=t.x,n=t.y,r,i,a,s;if(e=e-this.long0,this.shape==="ellipse"){n=Math.atan(this.radius_p2*Math.tan(n));var o=this.radius_p/yi(this.radius_p*Math.cos(n),Math.sin(n));if(i=o*Math.cos(e)*Math.cos(n),a=o*Math.sin(e)*Math.cos(n),s=o*Math.sin(n),(this.radius_g-i)*i-a*a-s*s*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;r=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(a/yi(s,r)),t.y=this.radius_g_1*Math.atan(s/r)):(t.x=this.radius_g_1*Math.atan(a/r),t.y=this.radius_g_1*Math.atan(s/yi(a,r)))}else this.shape==="sphere"&&(r=Math.cos(n),i=Math.cos(e)*r,a=Math.sin(e)*r,s=Math.sin(n),r=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(a/yi(s,r)),t.y=this.radius_g_1*Math.atan(s/r)):(t.x=this.radius_g_1*Math.atan(a/r),t.y=this.radius_g_1*Math.atan(s/yi(a,r))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function zre(t){var e=-1,n=0,r=0,i,a,s,o;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*yi(1,r)):(n=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*yi(1,n));var c=r/this.radius_p;if(i=n*n+c*c+e*e,a=2*this.radius_g*e,s=a*a-4*i*this.C,s<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-a-Math.sqrt(s))/(2*i),e=this.radius_g+o*e,n*=o,r*=o,t.x=Math.atan2(n,e),t.y=Math.atan(r*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+r*r)):(n=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+n*n)),i=n*n+r*r+e*e,a=2*this.radius_g*e,s=a*a-4*i*this.C,s<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-a-Math.sqrt(s))/(2*i),e=this.radius_g+o*e,n*=o,r*=o,t.x=Math.atan2(n,e),t.y=Math.atan(r*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var Ure=["Geostationary Satellite View","Geostationary_Satellite","geos"];const qre={init:Bre,forward:$re,inverse:zre,names:Ure};var Bp=1.340264,$p=-.081106,zp=893e-6,Up=.003796,r_=Math.sqrt(3)/2;function Gre(){this.es=0,this.long0=this.long0!==void 0?this.long0:0,this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0}function Wre(t){var e=Ve(t.x-this.long0,this.over),n=t.y,r=Math.asin(r_*Math.sin(n)),i=r*r,a=i*i*i;return t.x=e*Math.cos(r)/(r_*(Bp+3*$p*i+a*(7*zp+9*Up*i))),t.y=r*(Bp+$p*i+a*(zp+Up*i)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function Hre(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,n=12,r=t.y,i,a,s,o,c,f;for(f=0;f<n&&(i=r*r,a=i*i*i,s=r*(Bp+$p*i+a*(zp+Up*i))-t.y,o=Bp+3*$p*i+a*(7*zp+9*Up*i),r-=c=s/o,!(Math.abs(c)<e));++f);return i=r*r,a=i*i*i,t.x=r_*t.x*(Bp+3*$p*i+a*(7*zp+9*Up*i))/Math.cos(r),t.y=Math.asin(Math.sin(r)/r_),t.x=Ve(t.x+this.long0,this.over),t}var Kre=["eqearth","Equal Earth","Equal_Earth"];const Zre={init:Gre,forward:Wre,inverse:Hre,names:Kre};var mm=1e-10;function Xre(){var t;if(this.phi1=this.lat1,Math.abs(this.phi1)<mm)throw new Error;this.es?(this.en=zA(this.es),this.m1=dd(this.phi1,this.am1=Math.sin(this.phi1),t=Math.cos(this.phi1),this.en),this.am1=t/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=Qre,this.forward=Yre):(Math.abs(this.phi1)+mm>=Se?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=eie,this.forward=Jre)}function Yre(t){var e=Ve(t.x-(this.long0||0),this.over),n=t.y,r,i,a;return r=this.am1+this.m1-dd(n,i=Math.sin(n),a=Math.cos(n),this.en),i=a*e/(r*Math.sqrt(1-this.es*i*i)),t.x=r*Math.sin(i),t.y=this.am1-r*Math.cos(i),t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function Qre(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,n,r,i;if(n=yi(t.x,t.y=this.am1-t.y),i=UA(this.am1+this.m1-n,this.es,this.en),(e=Math.abs(i))<Se)e=Math.sin(i),r=n*Math.atan2(t.x,t.y)*Math.sqrt(1-this.es*e*e)/Math.cos(i);else if(Math.abs(e-Se)<=mm)r=0;else throw new Error;return t.x=Ve(r+(this.long0||0),this.over),t.y=Tl(i),t}function Jre(t){var e=Ve(t.x-(this.long0||0),this.over),n=t.y,r,i;return i=this.cphi1+this.phi1-n,Math.abs(i)>mm?(t.x=i*Math.sin(r=e*Math.cos(n)/i),t.y=this.cphi1-i*Math.cos(r)):t.x=t.y=0,t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function eie(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,n,r=yi(t.x,t.y=this.cphi1-t.y);if(n=this.cphi1+this.phi1-r,Math.abs(n)>Se)throw new Error;return Math.abs(Math.abs(n)-Se)<=mm?e=0:e=r*Math.atan2(t.x,t.y)/Math.cos(n),t.x=Ve(e+(this.long0||0),this.over),t.y=Tl(n),t}var tie=["bonne","Bonne (Werner lat_1=90)"];const nie={init:Xre,names:tie},E4={OBLIQUE:{forward:oie,inverse:lie},TRANSVERSE:{forward:uie,inverse:cie}},i_={ROTATE:{o_alpha:"oAlpha",o_lon_c:"oLongC",o_lat_c:"oLatC"},NEW_POLE:{o_lat_p:"oLatP",o_lon_p:"oLongP"},NEW_EQUATOR:{o_lon_1:"oLong1",o_lat_1:"oLat1",o_lon_2:"oLong2",o_lat_2:"oLat2"}};function rie(){if(this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.title=this.title||"General Oblique Transformation",this.isIdentity=E7.includes(this.o_proj),!this.o_proj)throw new Error("Missing parameter: o_proj");if(this.o_proj==="ob_tran")throw new Error("Invalid value for o_proj: "+this.o_proj);const t=this.projStr.replace("+proj=ob_tran","").replace("+o_proj=","+proj=").trim(),e=Ma(t);if(!e)throw new Error("Invalid parameter: o_proj. Unknown projection "+this.o_proj);e.long0=0,this.obliqueProjection=e;let n;const r=Object.keys(i_),i=o=>{if(typeof this[o]>"u")return;const c=parseFloat(this[o])*En;if(isNaN(c))throw new Error("Invalid value for "+o+": "+this[o]);return c};for(let o=0;o<r.length;o++){const c=r[o],f=i_[c],m=Object.entries(f);if(m.some(([y])=>typeof this[y]<"u")){n=f;for(let y=0;y<m.length;y++){const[b,E]=m[y],S=i(b);if(typeof S>"u")throw new Error("Missing parameter: "+b+".");this[E]=S}break}}if(!n)throw new Error("No valid parameters provided for ob_tran projection.");const{lamp:a,phip:s}=sie(this,n);this.lamp=a,Math.abs(s)>Le?(this.cphip=Math.cos(s),this.sphip=Math.sin(s),this.projectionType=E4.OBLIQUE):this.projectionType=E4.TRANSVERSE}function iie(t){return this.projectionType.forward(this,t)}function aie(t){return this.projectionType.inverse(this,t)}function sie(t,e){let n,r;if(e===i_.ROTATE){let i=t.oLongC,a=t.oLatC,s=t.oAlpha;if(Math.abs(Math.abs(a)-Se)<=Le)throw new Error("Invalid value for o_lat_c: "+t.o_lat_c+" should be < 90");r=i+Math.atan2(-1*Math.cos(s),-1*Math.sin(s)*Math.sin(a)),n=Math.asin(Math.cos(a)*Math.sin(s))}else if(e===i_.NEW_POLE)r=t.oLongP,n=t.oLatP;else{let i=t.oLong1,a=t.oLat1,s=t.oLong2,o=t.oLat2,c=Math.abs(a);if(Math.abs(a)>Se-Le)throw new Error("Invalid value for o_lat_1: "+t.o_lat_1+" should be < 90");if(Math.abs(o)>Se-Le)throw new Error("Invalid value for o_lat_2: "+t.o_lat_2+" should be < 90");if(Math.abs(a-o)<Le)throw new Error("Invalid value for o_lat_1 and o_lat_2: o_lat_1 should be different from o_lat_2");if(c<Le)throw new Error("Invalid value for o_lat_1: o_lat_1 should be different from zero");r=Math.atan2(Math.cos(a)*Math.sin(o)*Math.cos(i)-Math.sin(a)*Math.cos(o)*Math.cos(s),Math.sin(a)*Math.cos(o)*Math.sin(s)-Math.cos(a)*Math.sin(o)*Math.sin(i)),n=Math.atan(-1*Math.cos(r-i)/Math.tan(a))}return{lamp:r,phip:n}}function oie(t,e){let{x:n,y:r}=e;n+=t.long0;const i=Math.cos(n),a=Math.sin(r),s=Math.cos(r);e.x=Ve(Math.atan2(s*Math.sin(n),t.sphip*s*i+t.cphip*a)+t.lamp),e.y=Math.asin(t.sphip*a-t.cphip*s*i);const o=t.obliqueProjection.forward(e);return t.isIdentity&&(o.x*=wi,o.y*=wi),o}function uie(t,e){let{x:n,y:r}=e;n+=t.long0;const i=Math.cos(r),a=Math.cos(n);e.x=Ve(Math.atan2(i*Math.sin(n),Math.sin(r))+t.lamp),e.y=Math.asin(-1*i*a);const s=t.obliqueProjection.forward(e);return t.isIdentity&&(s.x*=wi,s.y*=wi),s}function lie(t,e){t.isIdentity&&(e.x*=En,e.y*=En);const n=t.obliqueProjection.inverse(e);let{x:r,y:i}=n;if(r<Number.MAX_VALUE){r-=t.lamp;const a=Math.cos(r),s=Math.sin(i),o=Math.cos(i);e.x=Math.atan2(o*Math.sin(r),t.sphip*o*a-t.cphip*s),e.y=Math.asin(t.sphip*s+t.cphip*o*a)}return e.x=Ve(e.x+t.long0),e}function cie(t,e){t.isIdentity&&(e.x*=En,e.y*=En);const n=t.obliqueProjection.inverse(e);let{x:r,y:i}=n;if(r<Number.MAX_VALUE){const a=Math.cos(i);r-=t.lamp,e.x=Math.atan2(a*Math.sin(r),-1*Math.sin(i)),e.y=Math.asin(a*Math.cos(r))}return e.x=Ve(e.x+t.long0),e}var hie=["General Oblique Transformation","General_Oblique_Transformation","ob_tran"];const fie={init:rie,forward:iie,inverse:aie,names:hie};function die(t){t.Proj.projections.add(xv),t.Proj.projections.add(Ev),t.Proj.projections.add(tte),t.Proj.projections.add(cte),t.Proj.projections.add(mte),t.Proj.projections.add(wte),t.Proj.projections.add(Tte),t.Proj.projections.add(Ote),t.Proj.projections.add(Dte),t.Proj.projections.add($te),t.Proj.projections.add(ene),t.Proj.projections.add(sne),t.Proj.projections.add(hne),t.Proj.projections.add(yne),t.Proj.projections.add(xne),t.Proj.projections.add(Ane),t.Proj.projections.add(Rne),t.Proj.projections.add(jne),t.Proj.projections.add(Une),t.Proj.projections.add(Kne),t.Proj.projections.add(Jne),t.Proj.projections.add(ire),t.Proj.projections.add(hre),t.Proj.projections.add(gre),t.Proj.projections.add(bre),t.Proj.projections.add(Mre),t.Proj.projections.add(Nre),t.Proj.projections.add(Fre),t.Proj.projections.add(qre),t.Proj.projections.add(Zre),t.Proj.projections.add(nie),t.Proj.projections.add(fie)}const _g=Object.assign(vee,{defaultDatum:"WGS84",Proj:Ma,WGS84:new Ma("WGS84"),Point:Lf,toPoint:M7,defs:pr,nadgrid:eee,transform:e_,mgrs:_ee,version:"__VERSION__"});die(_g);_g.defs("EPSG:32647","+proj=utm +zone=47 +datum=WGS84 +units=m +no_defs");_g.defs("EPSG:4326","+proj=longlat +datum=WGS84 +no_defs");function $7(t){const[e,n]=Z.useState([]),[r,i]=Z.useState(!0),[a,s]=Z.useState(null);return Z.useEffect(()=>{if(!t){n([]),i(!1);return}let o=!0;return(async()=>{i(!0),s(null);try{const f=yr(hn,"trees"),m=_i(f,Go("plot_id","==",t),Wo("tree_number")),p=await Qr(m);if(!o)return;const y=p.docs.map(b=>{const E=b.data();let S=null,x=null;if(E.utm_x!=null&&E.utm_y!=null)try{const[M,O]=_g("EPSG:32647","EPSG:4326",[Number(E.utm_x),Number(E.utm_y)]);S=O,x=M}catch(M){console.warn(`Failed to convert coordinates for tree ${b.id}:`,M)}return{id:b.id,...E,species:{species_code:E.species_code??"",name_th:E.species_name_th??"",name_sci:E.species_name_sci??"",plant_category:E.plant_category??"",hex_color:E.species_hex_color??"#22c55e"},plot:{id:E.plot_id??"",plot_code:E.plot_code??"",name_short:E.plot_name_short??"",owner_name:E.plot_owner_name??""},lat:S,lng:x}});n(y),s(null)}catch(f){if(!o)return;console.error("[useTrees] Error:",f),s(f.message||"")}finally{o&&i(!1)}})(),()=>{o=!1}},[t]),{trees:e,isLoading:r,error:a}}function z7(t){const[e,n]=Z.useState(null),[r,i]=Z.useState(!0),[a,s]=Z.useState(null);return Z.useEffect(()=>{if(!t){n(null),i(!1);return}let o=!0;return(async()=>{i(!0),s(null);try{const f=yr(hn,"trees"),m=_i(f,Go("tree_code","==",t)),p=await Qr(m);if(!o)return;if(p.empty){s(""),n(null),i(!1);return}const y=p.docs[0],b=y.data();let E=null,S=null;if(b.utm_x!=null&&b.utm_y!=null)try{const[x,M]=_g("EPSG:32647","EPSG:4326",[Number(b.utm_x),Number(b.utm_y)]);E=M,S=x}catch(x){console.warn(`Failed to convert coordinates for tree ${y.id}:`,x)}n({id:y.id,...b,species:{species_code:b.species_code??"",name_th:b.species_name_th??"",name_sci:b.species_name_sci??"",plant_category:b.plant_category??"",hex_color:b.species_hex_color??"#22c55e"},plot:{id:b.plot_id??"",plot_code:b.plot_code??"",name_short:b.plot_name_short??"",owner_name:b.plot_owner_name??""},lat:E,lng:S}),s(null)}catch(f){if(!o)return;console.error("[useTree] Error:",f),s(f.message||""),n(null)}finally{o&&i(!1)}})(),()=>{o=!1}},[t]),{tree:e,isLoading:r,error:a}}function U7(t){const[e,n]=Z.useState([]),[r,i]=Z.useState(!0),[a,s]=Z.useState(null);return Z.useEffect(()=>{if(!t){n([]),i(!1);return}let o=!0;return(async()=>{i(!0),s(null);try{const f=yr(hn,"growth_logs"),m=_i(f,Go("plot_id","==",t),Wo("survey_date","desc")),p=await Qr(m);if(!o)return;const y=p.docs.map(b=>{const E=b.data();return{id:b.id,...E,tree:{id:E.tree_id??"",tree_code:E.tree_code??"",tree_number:E.tree_number??0,utm_x:E.tree_utm_x??null,utm_y:E.tree_utm_y??null,species:{species_code:E.species_code??"",name_th:E.species_name_th??"",name_sci:E.species_name_sci??"",plant_category:E.plant_category??"",hex_color:E.species_hex_color??"#22c55e"},plot:{id:E.plot_id??"",plot_code:E.plot_code??"",name_short:E.plot_name_short??"",owner_name:E.plot_owner_name??""}},recorder:E.recorder_name?{fullname:E.recorder_name}:null,growth_dbh:E.dbh_data??null,growth_bamboo:E.bamboo_data??null,growth_banana:E.banana_data??null}});n(y),s(null)}catch(f){if(!o)return;console.error("[useGrowthLogs] Error:",f),s(f.message||"")}finally{o&&i(!1)}})(),()=>{o=!1}},[t]),{logs:e,isLoading:r,error:a}}function pie(t){const[e,n]=Z.useState([]),[r,i]=Z.useState(!0),[a,s]=Z.useState(null);return Z.useEffect(()=>{if(!t){n([]),i(!1);return}let o=!0;return(async()=>{i(!0),s(null);try{const f=yr(hn,"growth_logs"),m=_i(f,Go("tree_id","==",t),Wo("survey_date","asc")),p=await Qr(m);if(!o)return;const y=p.docs.map(b=>{const E=b.data();return{id:b.id,...E,tree:{id:E.tree_id??"",tree_code:E.tree_code??"",tree_number:E.tree_number??0,utm_x:E.tree_utm_x??null,utm_y:E.tree_utm_y??null,species:{species_code:E.species_code??"",name_th:E.species_name_th??"",name_sci:E.species_name_sci??"",plant_category:E.plant_category??"",hex_color:E.species_hex_color??"#22c55e"},plot:{id:E.plot_id??"",plot_code:E.plot_code??"",name_short:E.plot_name_short??"",owner_name:E.plot_owner_name??""}},recorder:E.recorder_name?{fullname:E.recorder_name}:null,growth_dbh:E.dbh_data??null,growth_bamboo:E.bamboo_data??null,growth_banana:E.banana_data??null}});n(y),s(null)}catch(f){if(!o)return;console.error("[useTreeGrowthLogs] Error:",f),s(f.message||"")}finally{o&&i(!1)}})(),()=>{o=!1}},[t]),{logs:e,isLoading:r,error:a}}const mie=()=>{const{plotCode:t}=i0(),e=Na(),[n,r]=Z.useState(null),[i,a]=Z.useState(!0),[s,o]=Z.useState("trees"),[c,f]=Z.useState(!1);Z.useEffect(()=>{if(!t)return;(async()=>{const x=yr(hn,"plots"),M=_i(x,Go("plot_code","==",t)),O=await Qr(M);if(!O.empty){const D=O.docs[0];r({id:D.id,...D.data()})}a(!1)})()},[t]);const{trees:m,isLoading:p}=$7(n?.id),{logs:y,isLoading:b}=U7(n?.id);if(i)return N.jsx(ni,{children:N.jsx("div",{className:"flex items-center justify-center py-20",children:N.jsx(ri,{size:28,className:"animate-spin text-[#2d5a27]"})})});if(!n)return N.jsx(ni,{children:N.jsx("div",{className:"p-4 text-center text-gray-500",children:""})});const E=[{id:"trees",label:` (${m.length})`},{id:"growth",label:` (${y.length})`},{id:"images",label:""}];return N.jsx(ni,{children:N.jsxs("div",{className:"p-4 lg:p-6",children:[N.jsxs("button",{onClick:()=>e("/plots"),className:"flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700 mb-4",children:[N.jsx(F0,{size:16}),N.jsx("span",{children:""})]}),N.jsxs("div",{className:"mb-5",children:[N.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[N.jsx("span",{className:"bg-[#2d5a27] text-white text-sm font-bold px-3 py-1 rounded",children:n.name_short}),N.jsx("h1",{className:"text-lg font-bold text-gray-900",children:n.owner_name})]}),N.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[" ",n.group_number,n.tambon&&`  ${n.tambon}`,n.area_sq_m&&`  ${n.area_sq_m.toLocaleString()} ..`]})]}),N.jsx("div",{className:"flex gap-2 mb-5 border-b border-gray-200 overflow-x-auto",children:E.map(({id:S,label:x})=>N.jsx("button",{onClick:()=>o(S),className:`shrink-0 px-4 py-2 text-sm font-medium border-b-2 transition-colors ${s===S?"border-[#2d5a27] text-[#2d5a27]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:x},S))}),s==="trees"&&N.jsxs("div",{children:[N.jsx("div",{className:"flex justify-end mb-3",children:N.jsx("button",{onClick:()=>f(S=>!S),className:"text-xs text-[#2d5a27] font-medium hover:underline",children:c?"":" "})}),c?N.jsx(rJ,{trees:m,plotCode:t}):N.jsx(kQ,{trees:m,isLoading:p})]}),s==="growth"&&N.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-100 bg-white shadow-sm",children:N.jsxs("table",{className:"min-w-full text-sm",children:[N.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:N.jsx("tr",{children:["","",""," (.)","",""].map(S=>N.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wide",children:S},S))})}),N.jsx("tbody",{className:"divide-y divide-gray-50",children:b?N.jsx("tr",{children:N.jsx("td",{colSpan:6,className:"px-4 py-8 text-center",children:N.jsx(ri,{size:20,className:"animate-spin text-[#2d5a27] mx-auto"})})}):y.length===0?N.jsx("tr",{children:N.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-400 text-sm",children:""})}):y.map(S=>N.jsxs("tr",{className:"hover:bg-gray-50",children:[N.jsx("td",{className:"px-4 py-3 text-gray-600",children:S.survey_date}),N.jsx("td",{className:"px-4 py-3 font-mono font-semibold",children:S.tree?.tree_code}),N.jsx("td",{className:"px-4 py-3 text-gray-600",children:S.tree?.species?.name_th}),N.jsx("td",{className:"px-4 py-3",children:S.height_m??""}),N.jsx("td",{className:"px-4 py-3",children:N.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full ${S.status==="alive"?"bg-green-100 text-green-700":S.status==="dead"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:S.status==="alive"?"":S.status==="dead"?"":S.status??""})}),N.jsx("td",{className:"px-4 py-3 text-gray-500 text-xs",children:S.recorder?.fullname??""})]},S.id))})]})}),s==="images"&&n.id&&N.jsx(lJ,{plotId:n.id})]})})};function ob(t){const{plantCategory:e}=t;return e==="forest"||e==="rubber"||e==="fruit"?t.dbh_cm!=null?{dbh_cm:t.dbh_cm}:null:e==="bamboo"?{culm_count:t.culm_count??null,dbh_1_cm:t.dbh_1_cm??null,dbh_2_cm:t.dbh_2_cm??null,dbh_3_cm:t.dbh_3_cm??null}:e==="banana"?{total_plants:t.total_plants??null,plants_1yr:t.plants_1yr??null,yield_bunches:t.yield_bunches??null,yield_hands:t.yield_hands??null,price_per_hand:t.price_per_hand??null}:null}function gie(){const{isOnline:t,syncNow:e}=kA();return{submitGrowthLog:Z.useCallback(async r=>{try{const i=r.plantCategory==="forest"||r.plantCategory==="rubber"||r.plantCategory==="fruit"?ob(r):null,a=r.plantCategory==="bamboo"?ob(r):null,s=r.plantCategory==="banana"?ob(r):null,o={tree_id:r.tree_id,survey_date:r.survey_date,recorder_id:r.recorder_id,height_m:r.height_m??null,status:r.status??"alive",flowering:r.flowering??!1,note:r.note??"",created_at:Dt.now(),tree_code:r.tree_code??"",tree_number:r.tree_number??0,plot_id:r.plot_id??"",plot_code:r.plot_code??"",plot_name_short:r.plot_name_short??"",species_code:r.species_code??"",species_name_th:r.species_name_th??"",species_name_sci:r.species_name_sci??"",plant_category:r.plantCategory,recorder_name:r.recorder_name??"",dbh_data:i,bamboo_data:a,banana_data:s},c=yr(hn,"growth_logs");return await c9(c,o),{success:!0,queued:!t}}catch(i){return console.error("[useOfflineSync] submitGrowthLog error:",i),{success:!1,message:i.message||""}}},[t]),syncNow:e,isOnline:t}}const yie=({surveyDate:t,heightM:e,status:n,flowering:r,note:i,onChange:a})=>N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),N.jsx("input",{type:"date",value:t,onChange:s=>a("surveyDate",s.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ()"}),N.jsx("input",{type:"number",step:"0.01",min:"0",value:e,onChange:s=>a("heightM",s.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"0.00"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),N.jsx("div",{className:"flex gap-3",children:[{value:"alive",label:" "},{value:"dead",label:" "},{value:"missing",label:" "}].map(({value:s,label:o})=>N.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[N.jsx("input",{type:"radio",name:"status",value:s,checked:n===s,onChange:()=>a("status",s),className:"accent-green-600 w-4 h-4"}),N.jsx("span",{className:"text-sm",children:o})]},s))})]}),N.jsx("div",{children:N.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[N.jsx("input",{type:"checkbox",checked:r,onChange:s=>a("flowering",s.target.checked),className:"accent-green-600 w-5 h-5"}),N.jsx("span",{className:"text-sm font-medium text-gray-700",children:" / "})]})}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),N.jsx("textarea",{value:i,onChange:s=>a("note",s.target.value),rows:2,className:"w-full border border-gray-300 rounded-lg px-3 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-green-500 resize-none",placeholder:" ()"})]})]}),vie=({dbhCm:t,onChange:e})=>N.jsxs("div",{className:"border-t border-gray-100 pt-4 mt-4",children:[N.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-3",children:"  ( /  / ) "}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"DBH   (.)"}),N.jsx("input",{type:"number",step:"0.1",min:"0",value:t,onChange:n=>e(n.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"0.0"})]})]}),_ie=({culmCount:t,dbh1Cm:e,dbh2Cm:n,dbh3Cm:r,onChange:i})=>N.jsxs("div",{className:"border-t border-gray-100 pt-4 mt-4 space-y-4",children:[N.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"  () "}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),N.jsx("input",{type:"number",min:"0",value:t,onChange:a=>i("culmCount",a.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"0"})]}),N.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{field:"dbh1Cm",value:e,label:"DBH  1 (.)"},{field:"dbh2Cm",value:n,label:"DBH  2 (.)"},{field:"dbh3Cm",value:r,label:"DBH  3 (.)"}].map(({field:a,value:s,label:o})=>N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:o}),N.jsx("input",{type:"number",step:"0.1",min:"0",value:s,onChange:c=>i(a,c.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"0.0"})]},a))})]}),wie=({totalPlants:t,plants1yr:e,yieldBunches:n,yieldHands:r,pricePerHand:i,onChange:a})=>N.jsxs("div",{className:"border-t border-gray-100 pt-4 mt-4 space-y-4",children:[N.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"  () "}),N.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{field:"totalPlants",value:t,label:""},{field:"plants1yr",value:e,label:" 1 "},{field:"yieldBunches",value:n,label:" ()"},{field:"yieldHands",value:r,label:" ()"}].map(({field:s,value:o,label:c})=>N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:c}),N.jsx("input",{type:"number",min:"0",value:o,onChange:f=>a(s,f.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"0"})]},s))}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ()"}),N.jsx("input",{type:"number",step:"0.01",min:"0",value:i,onChange:s=>a("pricePerHand",s.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"0.00"})]})]}),S4=()=>({surveyDate:new Date().toLocaleDateString("sv"),heightM:"",status:"alive",flowering:!1,note:"",dbhCm:"",culmCount:"",dbh1Cm:"",dbh2Cm:"",dbh3Cm:"",totalPlants:"",plants1yr:"",yieldBunches:"",yieldHands:"",pricePerHand:""}),bie=({tree:t})=>{const{submitGrowthLog:e,isOnline:n}=gie(),r=Na(),[i,a]=Z.useState(S4),[s,o]=Z.useState(!1),[c,f]=Z.useState(null),m=t.species.plant_category,p=(b,E)=>{a(S=>({...S,[b]:E}))},y=async b=>{b.preventDefault(),o(!0),f(null);const E=await e({tree_id:t.id,survey_date:i.surveyDate,recorder_id:null,height_m:i.heightM?parseFloat(i.heightM):null,status:i.status||null,flowering:i.flowering,note:i.note||null,plantCategory:m,dbh_cm:i.dbhCm?parseFloat(i.dbhCm):null,culm_count:i.culmCount?parseInt(i.culmCount):null,dbh_1_cm:i.dbh1Cm?parseFloat(i.dbh1Cm):null,dbh_2_cm:i.dbh2Cm?parseFloat(i.dbh2Cm):null,dbh_3_cm:i.dbh3Cm?parseFloat(i.dbh3Cm):null,total_plants:i.totalPlants?parseInt(i.totalPlants):null,plants_1yr:i.plants1yr?parseInt(i.plants1yr):null,yield_bunches:i.yieldBunches?parseInt(i.yieldBunches):null,yield_hands:i.yieldHands?parseInt(i.yieldHands):null,price_per_hand:i.pricePerHand?parseFloat(i.pricePerHand):null});o(!1),f(E),E.success&&a(S4())};return N.jsxs("div",{className:"max-w-lg mx-auto",children:[N.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-4",children:[N.jsxs("button",{onClick:()=>r(-1),className:"flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700 mb-3",children:[N.jsx(F0,{size:16}),N.jsx("span",{children:""})]}),N.jsxs("div",{className:"flex items-start gap-3",children:[N.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-white text-sm font-bold shrink-0",style:{backgroundColor:`#${t.species.hex_color}`},children:t.species.species_code}),N.jsxs("div",{children:[N.jsx("h2",{className:"font-bold text-gray-900",children:" "}),N.jsxs("p",{className:"text-sm text-gray-600",children:[": ",N.jsx("span",{className:"font-mono font-semibold",children:t.tree_code})," ","(",t.species.name_th,")"]}),N.jsxs("p",{className:"text-xs text-gray-400",children:[": ",t.plot.name_short," | : ",t.row_main,t.row_sub?`-${t.row_sub}`:""]})]})]}),!n&&N.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-yellow-700 bg-yellow-50 rounded-lg px-3 py-2",children:[N.jsx(c7,{size:13}),N.jsx("span",{children:"  "})]})]}),c&&N.jsxs("div",{className:`rounded-xl p-4 mb-4 flex items-start gap-3 ${c.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[c.success?N.jsx(B0,{size:18,className:"text-green-600 shrink-0 mt-0.5"}):null,N.jsx("div",{className:"text-sm",children:c?.success?c.queued?"   ":" ":` ${c?.message||""}`})]}),N.jsxs("form",{onSubmit:y,className:"bg-white rounded-xl shadow-sm border border-gray-100 p-5",children:[N.jsx(yie,{surveyDate:i.surveyDate,heightM:i.heightM,status:i.status,flowering:i.flowering,note:i.note,onChange:p}),(m==="forest"||m==="rubber"||m==="fruit")&&N.jsx(vie,{dbhCm:i.dbhCm,onChange:b=>p("dbhCm",b)}),m==="bamboo"&&N.jsx(_ie,{culmCount:i.culmCount,dbh1Cm:i.dbh1Cm,dbh2Cm:i.dbh2Cm,dbh3Cm:i.dbh3Cm,onChange:p}),m==="banana"&&N.jsx(wie,{totalPlants:i.totalPlants,plants1yr:i.plants1yr,yieldBunches:i.yieldBunches,yieldHands:i.yieldHands,pricePerHand:i.pricePerHand,onChange:p}),N.jsxs("div",{className:"flex gap-3 mt-6",children:[N.jsxs("button",{type:"submit",disabled:s,className:"flex-1 bg-[#2d5a27] text-white rounded-lg py-3 text-sm font-semibold hover:bg-[#234820] transition-colors disabled:opacity-60 flex items-center justify-center gap-2",children:[s?N.jsx(ri,{size:16,className:"animate-spin"}):N.jsx(l7,{size:16}),s?"...":""]}),N.jsx("button",{type:"button",onClick:()=>r(-1),className:"flex-1 border border-gray-300 text-gray-700 rounded-lg py-3 text-sm font-semibold hover:bg-gray-50 transition-colors",children:""})]})]})]})};function q7(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=q7(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Mt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=q7(t))&&(r&&(r+=" "),r+=e);return r}var ub,P4;function Ei(){if(P4)return ub;P4=1;var t=Array.isArray;return ub=t,ub}var lb,T4;function G7(){if(T4)return lb;T4=1;var t=typeof Ty=="object"&&Ty&&Ty.Object===Object&&Ty;return lb=t,lb}var cb,A4;function Ks(){if(A4)return cb;A4=1;var t=G7(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return cb=n,cb}var hb,I4;function wg(){if(I4)return hb;I4=1;var t=Ks(),e=t.Symbol;return hb=e,hb}var fb,M4;function xie(){if(M4)return fb;M4=1;var t=wg(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(s){var o=n.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var m=r.call(s);return f&&(o?s[i]=c:delete s[i]),m}return fb=a,fb}var db,C4;function Eie(){if(C4)return db;C4=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return db=n,db}var pb,O4;function ru(){if(O4)return pb;O4=1;var t=wg(),e=xie(),n=Eie(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?i:r:a&&a in Object(o)?e(o):n(o)}return pb=s,pb}var mb,R4;function iu(){if(R4)return mb;R4=1;function t(e){return e!=null&&typeof e=="object"}return mb=t,mb}var gb,k4;function pd(){if(k4)return gb;k4=1;var t=ru(),e=iu(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return gb=r,gb}var yb,N4;function ZA(){if(N4)return yb;N4=1;var t=Ei(),e=pd(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){if(t(a))return!1;var o=typeof a;return o=="number"||o=="symbol"||o=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||s!=null&&a in Object(s)}return yb=i,yb}var vb,L4;function Al(){if(L4)return vb;L4=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return vb=t,vb}var _b,D4;function XA(){if(D4)return _b;D4=1;var t=ru(),e=Al(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(o){if(!e(o))return!1;var c=t(o);return c==r||c==i||c==n||c==a}return _b=s,_b}var wb,j4;function Sie(){if(j4)return wb;j4=1;var t=Ks(),e=t["__core-js_shared__"];return wb=e,wb}var bb,V4;function Pie(){if(V4)return bb;V4=1;var t=Sie(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return bb=n,bb}var xb,F4;function W7(){if(F4)return xb;F4=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return xb=n,xb}var Eb,B4;function Tie(){if(B4)return Eb;B4=1;var t=XA(),e=Pie(),n=Al(),r=W7(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,c=s.toString,f=o.hasOwnProperty,m=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(y){if(!n(y)||e(y))return!1;var b=t(y)?m:a;return b.test(r(y))}return Eb=p,Eb}var Sb,$4;function Aie(){if($4)return Sb;$4=1;function t(e,n){return e?.[n]}return Sb=t,Sb}var Pb,z4;function th(){if(z4)return Pb;z4=1;var t=Tie(),e=Aie();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return Pb=n,Pb}var Tb,U4;function G0(){if(U4)return Tb;U4=1;var t=th(),e=t(Object,"create");return Tb=e,Tb}var Ab,q4;function Iie(){if(q4)return Ab;q4=1;var t=G0();function e(){this.__data__=t?t(null):{},this.size=0}return Ab=e,Ab}var Ib,G4;function Mie(){if(G4)return Ib;G4=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Ib=t,Ib}var Mb,W4;function Cie(){if(W4)return Mb;W4=1;var t=G0(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var s=this.__data__;if(t){var o=s[a];return o===e?void 0:o}return r.call(s,a)?s[a]:void 0}return Mb=i,Mb}var Cb,H4;function Oie(){if(H4)return Cb;H4=1;var t=G0(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return Cb=r,Cb}var Ob,K4;function Rie(){if(K4)return Ob;K4=1;var t=G0(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return Ob=n,Ob}var Rb,Z4;function kie(){if(Z4)return Rb;Z4=1;var t=Iie(),e=Mie(),n=Cie(),r=Oie(),i=Rie();function a(s){var o=-1,c=s==null?0:s.length;for(this.clear();++o<c;){var f=s[o];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Rb=a,Rb}var kb,X4;function Nie(){if(X4)return kb;X4=1;function t(){this.__data__=[],this.size=0}return kb=t,kb}var Nb,Y4;function YA(){if(Y4)return Nb;Y4=1;function t(e,n){return e===n||e!==e&&n!==n}return Nb=t,Nb}var Lb,Q4;function W0(){if(Q4)return Lb;Q4=1;var t=YA();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return Lb=e,Lb}var Db,J4;function Lie(){if(J4)return Db;J4=1;var t=W0(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var o=a.length-1;return s==o?a.pop():n.call(a,s,1),--this.size,!0}return Db=r,Db}var jb,ek;function Die(){if(ek)return jb;ek=1;var t=W0();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return jb=e,jb}var Vb,tk;function jie(){if(tk)return Vb;tk=1;var t=W0();function e(n){return t(this.__data__,n)>-1}return Vb=e,Vb}var Fb,nk;function Vie(){if(nk)return Fb;nk=1;var t=W0();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return Fb=e,Fb}var Bb,rk;function H0(){if(rk)return Bb;rk=1;var t=Nie(),e=Lie(),n=Die(),r=jie(),i=Vie();function a(s){var o=-1,c=s==null?0:s.length;for(this.clear();++o<c;){var f=s[o];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Bb=a,Bb}var $b,ik;function QA(){if(ik)return $b;ik=1;var t=th(),e=Ks(),n=t(e,"Map");return $b=n,$b}var zb,ak;function Fie(){if(ak)return zb;ak=1;var t=kie(),e=H0(),n=QA();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return zb=r,zb}var Ub,sk;function Bie(){if(sk)return Ub;sk=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Ub=t,Ub}var qb,ok;function K0(){if(ok)return qb;ok=1;var t=Bie();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return qb=e,qb}var Gb,uk;function $ie(){if(uk)return Gb;uk=1;var t=K0();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return Gb=e,Gb}var Wb,lk;function zie(){if(lk)return Wb;lk=1;var t=K0();function e(n){return t(this,n).get(n)}return Wb=e,Wb}var Hb,ck;function Uie(){if(ck)return Hb;ck=1;var t=K0();function e(n){return t(this,n).has(n)}return Hb=e,Hb}var Kb,hk;function qie(){if(hk)return Kb;hk=1;var t=K0();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return Kb=e,Kb}var Zb,fk;function JA(){if(fk)return Zb;fk=1;var t=Fie(),e=$ie(),n=zie(),r=Uie(),i=qie();function a(s){var o=-1,c=s==null?0:s.length;for(this.clear();++o<c;){var f=s[o];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Zb=a,Zb}var Xb,dk;function H7(){if(dk)return Xb;dk=1;var t=JA(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,o=i?i.apply(this,s):s[0],c=a.cache;if(c.has(o))return c.get(o);var f=r.apply(this,s);return a.cache=c.set(o,f)||c,f};return a.cache=new(n.Cache||t),a}return n.Cache=t,Xb=n,Xb}var Yb,pk;function Gie(){if(pk)return Yb;pk=1;var t=H7(),e=500;function n(r){var i=t(r,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return Yb=n,Yb}var Qb,mk;function Wie(){if(mk)return Qb;mk=1;var t=Gie(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,o,c,f){a.push(c?f.replace(n,"$1"):o||s)}),a});return Qb=r,Qb}var Jb,gk;function eI(){if(gk)return Jb;gk=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return Jb=t,Jb}var ex,yk;function Hie(){if(yk)return ex;yk=1;var t=wg(),e=eI(),n=Ei(),r=pd(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(o){if(typeof o=="string")return o;if(n(o))return e(o,s)+"";if(r(o))return a?a.call(o):"";var c=o+"";return c=="0"&&1/o==-1/0?"-0":c}return ex=s,ex}var tx,vk;function K7(){if(vk)return tx;vk=1;var t=Hie();function e(n){return n==null?"":t(n)}return tx=e,tx}var nx,_k;function Z7(){if(_k)return nx;_k=1;var t=Ei(),e=ZA(),n=Wie(),r=K7();function i(a,s){return t(a)?a:e(a,s)?[a]:n(r(a))}return nx=i,nx}var rx,wk;function Z0(){if(wk)return rx;wk=1;var t=pd();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return rx=e,rx}var ix,bk;function tI(){if(bk)return ix;bk=1;var t=Z7(),e=Z0();function n(r,i){i=t(i,r);for(var a=0,s=i.length;r!=null&&a<s;)r=r[e(i[a++])];return a&&a==s?r:void 0}return ix=n,ix}var ax,xk;function X7(){if(xk)return ax;xk=1;var t=tI();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return ax=e,ax}var Kie=X7();const Ca=Zt(Kie);var sx,Ek;function Zie(){if(Ek)return sx;Ek=1;function t(e){return e==null}return sx=t,sx}var Xie=Zie();const _t=Zt(Xie);var ox,Sk;function Yie(){if(Sk)return ox;Sk=1;var t=ru(),e=Ei(),n=iu(),r="[object String]";function i(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==r}return ox=i,ox}var Qie=Yie();const Hc=Zt(Qie);var Jie=XA();const gt=Zt(Jie);var eae=Al();const md=Zt(eae);var ux={exports:{}},Vt={};var Pk;function tae(){if(Pk)return Vt;Pk=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),o=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),E;E=Symbol.for("react.module.reference");function S(x){if(typeof x=="object"&&x!==null){var M=x.$$typeof;switch(M){case t:switch(x=x.type,x){case n:case i:case r:case f:case m:return x;default:switch(x=x&&x.$$typeof,x){case o:case s:case c:case y:case p:case a:return x;default:return M}}case e:return M}}}return Vt.ContextConsumer=s,Vt.ContextProvider=a,Vt.Element=t,Vt.ForwardRef=c,Vt.Fragment=n,Vt.Lazy=y,Vt.Memo=p,Vt.Portal=e,Vt.Profiler=i,Vt.StrictMode=r,Vt.Suspense=f,Vt.SuspenseList=m,Vt.isAsyncMode=function(){return!1},Vt.isConcurrentMode=function(){return!1},Vt.isContextConsumer=function(x){return S(x)===s},Vt.isContextProvider=function(x){return S(x)===a},Vt.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},Vt.isForwardRef=function(x){return S(x)===c},Vt.isFragment=function(x){return S(x)===n},Vt.isLazy=function(x){return S(x)===y},Vt.isMemo=function(x){return S(x)===p},Vt.isPortal=function(x){return S(x)===e},Vt.isProfiler=function(x){return S(x)===i},Vt.isStrictMode=function(x){return S(x)===r},Vt.isSuspense=function(x){return S(x)===f},Vt.isSuspenseList=function(x){return S(x)===m},Vt.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===i||x===r||x===f||x===m||x===b||typeof x=="object"&&x!==null&&(x.$$typeof===y||x.$$typeof===p||x.$$typeof===a||x.$$typeof===s||x.$$typeof===c||x.$$typeof===E||x.getModuleId!==void 0)},Vt.typeOf=S,Vt}var Tk;function nae(){return Tk||(Tk=1,ux.exports=tae()),ux.exports}var rae=nae(),lx,Ak;function Y7(){if(Ak)return lx;Ak=1;var t=ru(),e=iu(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return lx=r,lx}var cx,Ik;function iae(){if(Ik)return cx;Ik=1;var t=Y7();function e(n){return t(n)&&n!=+n}return cx=e,cx}var aae=iae();const bg=Zt(aae);var sae=Y7();const oae=Zt(sae);var is=function(e){return e===0?0:e>0?1:-1},bc=function(e){return Hc(e)&&e.indexOf("%")===e.length-1},De=function(e){return oae(e)&&!bg(e)},uae=function(e){return _t(e)},Xn=function(e){return De(e)||Hc(e)},lae=0,xg=function(e){var n=++lae;return"".concat(e||"").concat(n)},Kc=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!De(e)&&!Hc(e))return r;var a;if(bc(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return bg(a)&&(a=r),i&&a>n&&(a=n),a},el=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},cae=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},ts=function(e,n){return De(e)&&De(n)?function(r){return e+r*(n-e)}:function(){return n}};function a_(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ca(r,e))===n})}var hae=function(e,n){return De(e)&&De(n)?e-n:Hc(e)&&Hc(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function vf(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function JP(t){"@babel/helpers - typeof";return JP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JP(t)}var fae=["viewBox","children"],dae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Mk=["points","pathLength"],hx={svg:fae,polygon:Mk,polyline:Mk},nI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],s_=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(Z.isValidElement(e)&&(r=e.props),!md(r))return null;var i={};return Object.keys(r).forEach(function(a){nI.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},pae=function(e,n,r){return function(i){return e(n,r,i),null}},o_=function(e,n,r){if(!md(e)||JP(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];nI.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=pae(s,n,r))}),i},mae=["children"],gae=["children"];function Ck(t,e){if(t==null)return{};var n=yae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eT(t){"@babel/helpers - typeof";return eT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eT(t)}var Ok={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},jo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Rk=null,fx=null,rI=function t(e){if(e===Rk&&Array.isArray(fx))return fx;var n=[];return Z.Children.forEach(e,function(r){_t(r)||(rae.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),fx=n,Rk=e,n};function Oa(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return jo(i)}):r=[jo(e)],rI(t).forEach(function(i){var a=Ca(i,"type.displayName")||Ca(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function ji(t,e){var n=Oa(t,e);return n&&n[0]}var kk=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!De(r)||r<=0||!De(i)||i<=0)},vae=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],_ae=function(e){return e&&e.type&&Hc(e.type)&&vae.indexOf(e.type)>=0},wae=function(e){return e&&eT(e)==="object"&&"clipDot"in e},bae=function(e,n,r,i){var a,s=(a=hx?.[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!gt(e)&&(i&&s.includes(n)||dae.includes(n))||r&&nI.includes(n)},St=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(Z.isValidElement(e)&&(i=e.props),!md(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;bae((o=i)===null||o===void 0?void 0:o[s],s,n,r)&&(a[s]=i[s])}),a},tT=function t(e,n){if(e===n)return!0;var r=Z.Children.count(e);if(r!==Z.Children.count(n))return!1;if(r===0)return!0;if(r===1)return Nk(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!Nk(a,s))return!1}return!0},Nk=function(e,n){if(_t(e)&&_t(n))return!0;if(!_t(e)&&!_t(n)){var r=e.props||{},i=r.children,a=Ck(r,mae),s=n.props||{},o=s.children,c=Ck(s,gae);return i&&o?vf(a,c)&&tT(i,o):!i&&!o?vf(a,c):!1}return!1},Lk=function(e,n){var r=[],i={};return rI(e).forEach(function(a,s){if(_ae(a))r.push(a);else if(a){var o=jo(a.type),c=n[o]||{},f=c.handler,m=c.once;if(f&&(!m||!i[o])){var p=f(a,o,s);r.push(p),i[o]=!0}}}),r},xae=function(e){var n=e&&e.type;return n&&Ok[n]?Ok[n]:null},Eae=function(e,n){return rI(n).indexOf(e)},Sae=["children","width","height","viewBox","className","style","title","desc"];function nT(){return nT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nT.apply(this,arguments)}function Pae(t,e){if(t==null)return{};var n=Tae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rT(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,c=t.desc,f=Pae(t,Sae),m=i||{width:n,height:r,x:0,y:0},p=Mt("recharts-surface",a);return re.createElement("svg",nT({},St(f,!0,"svg"),{className:p,width:n,height:r,style:s,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height)}),re.createElement("title",null,o),re.createElement("desc",null,c),e)}var Aae=["children","className"];function iT(){return iT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iT.apply(this,arguments)}function Iae(t,e){if(t==null)return{};var n=Mae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Rn=re.forwardRef(function(t,e){var n=t.children,r=t.className,i=Iae(t,Aae),a=Mt("recharts-layer",r);return re.createElement("g",iT({className:a},St(i,!0),{ref:e}),n)}),Vo=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},dx,Dk;function Cae(){if(Dk)return dx;Dk=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+n];return s}return dx=t,dx}var px,jk;function Oae(){if(jk)return px;jk=1;var t=Cae();function e(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:t(n,r,i)}return px=e,px}var mx,Vk;function Q7(){if(Vk)return mx;Vk=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",s="\\u200d",o=RegExp("["+s+t+i+a+"]");function c(f){return o.test(f)}return mx=c,mx}var gx,Fk;function Rae(){if(Fk)return gx;Fk=1;function t(e){return e.split("")}return gx=t,gx}var yx,Bk;function kae(){if(Bk)return yx;Bk=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",s="["+t+"]",o="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+o+"|"+c+")",m="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",E=f+"?",S="["+a+"]?",x="(?:"+b+"(?:"+[m,p,y].join("|")+")"+S+E+")*",M=S+E+x,O="(?:"+[m+o+"?",o,p,y,s].join("|")+")",D=RegExp(c+"(?="+c+")|"+O+M,"g");function $(k){return k.match(D)||[]}return yx=$,yx}var vx,$k;function Nae(){if($k)return vx;$k=1;var t=Rae(),e=Q7(),n=kae();function r(i){return e(i)?n(i):t(i)}return vx=r,vx}var _x,zk;function Lae(){if(zk)return _x;zk=1;var t=Oae(),e=Q7(),n=Nae(),r=K7();function i(a){return function(s){s=r(s);var o=e(s)?n(s):void 0,c=o?o[0]:s.charAt(0),f=o?t(o,1).join(""):s.slice(1);return c[a]()+f}}return _x=i,_x}var wx,Uk;function Dae(){if(Uk)return wx;Uk=1;var t=Lae(),e=t("toUpperCase");return wx=e,wx}var jae=Dae();const X0=Zt(jae);function nn(t){return function(){return t}}const J7=Math.cos,u_=Math.sin,ls=Math.sqrt,l_=Math.PI,Y0=2*l_,aT=Math.PI,sT=2*aT,dc=1e-6,Vae=sT-dc;function eV(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Fae(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return eV;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Bae{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?eV:Fae(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,c=r-e,f=i-n,m=s-e,p=o-n,y=m*m+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>dc)if(!(Math.abs(p*c-f*m)>dc)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-s,E=i-o,S=c*c+f*f,x=b*b+E*E,M=Math.sqrt(S),O=Math.sqrt(y),D=a*Math.tan((aT-Math.acos((S+y-x)/(2*M*O)))/2),$=D/O,k=D/M;Math.abs($-1)>dc&&this._append`L${e+$*m},${n+$*p}`,this._append`A${a},${a},0,0,${+(p*b>m*E)},${this._x1=e+k*c},${this._y1=n+k*f}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),c=r*Math.sin(i),f=e+o,m=n+c,p=1^s,y=s?i-a:a-i;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>dc||Math.abs(this._y1-m)>dc)&&this._append`L${f},${m}`,r&&(y<0&&(y=y%sT+sT),y>Vae?this._append`A${r},${r},0,1,${p},${e-o},${n-c}A${r},${r},0,1,${p},${this._x1=f},${this._y1=m}`:y>dc&&this._append`A${r},${r},0,${+(y>=aT)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function iI(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Bae(e)}function aI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function tV(t){this._context=t}tV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Q0(t){return new tV(t)}function nV(t){return t[0]}function rV(t){return t[1]}function iV(t,e){var n=nn(!0),r=null,i=Q0,a=null,s=iI(o);t=typeof t=="function"?t:t===void 0?nV:nn(t),e=typeof e=="function"?e:e===void 0?rV:nn(e);function o(c){var f,m=(c=aI(c)).length,p,y=!1,b;for(r==null&&(a=i(b=s())),f=0;f<=m;++f)!(f<m&&n(p=c[f],f,c))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(p,f,c),+e(p,f,c));if(b)return a=null,b+""||null}return o.x=function(c){return arguments.length?(t=typeof c=="function"?c:nn(+c),o):t},o.y=function(c){return arguments.length?(e=typeof c=="function"?c:nn(+c),o):e},o.defined=function(c){return arguments.length?(n=typeof c=="function"?c:nn(!!c),o):n},o.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),o):i},o.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),o):r},o}function Uy(t,e,n){var r=null,i=nn(!0),a=null,s=Q0,o=null,c=iI(f);t=typeof t=="function"?t:t===void 0?nV:nn(+t),e=typeof e=="function"?e:nn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?rV:nn(+n);function f(p){var y,b,E,S=(p=aI(p)).length,x,M=!1,O,D=new Array(S),$=new Array(S);for(a==null&&(o=s(O=c())),y=0;y<=S;++y){if(!(y<S&&i(x=p[y],y,p))===M)if(M=!M)b=y,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),E=y-1;E>=b;--E)o.point(D[E],$[E]);o.lineEnd(),o.areaEnd()}M&&(D[y]=+t(x,y,p),$[y]=+e(x,y,p),o.point(r?+r(x,y,p):D[y],n?+n(x,y,p):$[y]))}if(O)return o=null,O+""||null}function m(){return iV().defined(i).curve(s).context(a)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:nn(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:nn(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:nn(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:nn(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:nn(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:nn(+p),f):n},f.lineX0=f.lineY0=function(){return m().x(t).y(e)},f.lineY1=function(){return m().x(t).y(n)},f.lineX1=function(){return m().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:nn(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,a!=null&&(o=s(a)),f):s},f.context=function(p){return arguments.length?(p==null?a=o=null:o=s(a=p),f):a},f}class aV{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function $ae(t){return new aV(t,!0)}function zae(t){return new aV(t,!1)}const sI={draw(t,e){const n=ls(e/l_);t.moveTo(n,0),t.arc(0,0,n,0,Y0)}},Uae={draw(t,e){const n=ls(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},sV=ls(1/3),qae=sV*2,Gae={draw(t,e){const n=ls(e/qae),r=n*sV;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Wae={draw(t,e){const n=ls(e),r=-n/2;t.rect(r,r,n,n)}},Hae=.8908130915292852,oV=u_(l_/10)/u_(7*l_/10),Kae=u_(Y0/10)*oV,Zae=-J7(Y0/10)*oV,Xae={draw(t,e){const n=ls(e*Hae),r=Kae*n,i=Zae*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=Y0*a/5,o=J7(s),c=u_(s);t.lineTo(c*n,-o*n),t.lineTo(o*r-c*i,c*r+o*i)}t.closePath()}},bx=ls(3),Yae={draw(t,e){const n=-ls(e/(bx*3));t.moveTo(0,n*2),t.lineTo(-bx*n,-n),t.lineTo(bx*n,-n),t.closePath()}},va=-.5,_a=ls(3)/2,oT=1/ls(12),Qae=(oT/2+1)*3,Jae={draw(t,e){const n=ls(e/Qae),r=n/2,i=n*oT,a=r,s=n*oT+n,o=-a,c=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,c),t.lineTo(va*r-_a*i,_a*r+va*i),t.lineTo(va*a-_a*s,_a*a+va*s),t.lineTo(va*o-_a*c,_a*o+va*c),t.lineTo(va*r+_a*i,va*i-_a*r),t.lineTo(va*a+_a*s,va*s-_a*a),t.lineTo(va*o+_a*c,va*c-_a*o),t.closePath()}};function ese(t,e){let n=null,r=iI(i);t=typeof t=="function"?t:nn(t||sI),e=typeof e=="function"?e:nn(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:nn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:nn(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function c_(){}function h_(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function uV(t){this._context=t}uV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:h_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:h_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tse(t){return new uV(t)}function lV(t){this._context=t}lV.prototype={areaStart:c_,areaEnd:c_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:h_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nse(t){return new lV(t)}function cV(t){this._context=t}cV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:h_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rse(t){return new cV(t)}function hV(t){this._context=t}hV.prototype={areaStart:c_,areaEnd:c_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function ise(t){return new hV(t)}function qk(t){return t<0?-1:1}function Gk(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(qk(a)+qk(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function Wk(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function xx(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function f_(t){this._context=t}f_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xx(this,this._t0,Wk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,xx(this,Wk(this,n=Gk(this,t,e)),n);break;default:xx(this,this._t0,n=Gk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function fV(t){this._context=new dV(t)}(fV.prototype=Object.create(f_.prototype)).point=function(t,e){f_.prototype.point.call(this,e,t)};function dV(t){this._context=t}dV.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function ase(t){return new f_(t)}function sse(t){return new fV(t)}function pV(t){this._context=t}pV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Hk(t),i=Hk(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Hk(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function ose(t){return new pV(t)}function J0(t,e){this._context=t,this._t=e}J0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function use(t){return new J0(t,.5)}function lse(t){return new J0(t,0)}function cse(t){return new J0(t,1)}function Df(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function uT(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function hse(t,e){return t[e]}function fse(t){const e=[];return e.key=t,e}function dse(){var t=nn([]),e=uT,n=Df,r=hse;function i(a){var s=Array.from(t.apply(this,arguments),fse),o,c=s.length,f=-1,m;for(const p of a)for(o=0,++f;o<c;++o)(s[o][f]=[0,+r(p,s[o].key,f,a)]).data=p;for(o=0,m=aI(e(s));o<c;++o)s[m[o]].index=o;return n(s,m),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:nn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:nn(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?uT:typeof a=="function"?a:nn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Df,i):n},i}function pse(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Df(t,e)}}function mse(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Df(t,e)}}function gse(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,c=0,f=0;o<s;++o){for(var m=t[e[o]],p=m[r][1]||0,y=m[r-1][1]||0,b=(p-y)/2,E=0;E<o;++E){var S=t[e[E]],x=S[r][1]||0,M=S[r-1][1]||0;b+=x-M}c+=p,f+=b*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,Df(t,e)}}function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}var yse=["type","size","sizeType"];function lT(){return lT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lT.apply(this,arguments)}function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){vse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vse(t,e,n){return e=_se(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _se(t){var e=wse(t,"string");return gm(e)=="symbol"?e:e+""}function wse(t,e){if(gm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bse(t,e){if(t==null)return{};var n=xse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var mV={symbolCircle:sI,symbolCross:Uae,symbolDiamond:Gae,symbolSquare:Wae,symbolStar:Xae,symbolTriangle:Yae,symbolWye:Jae},Ese=Math.PI/180,Sse=function(e){var n="symbol".concat(X0(e));return mV[n]||sI},Pse=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Ese;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Tse=function(e,n){mV["symbol".concat(X0(e))]=n},oI=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,c=bse(e,yse),f=Zk(Zk({},c),{},{type:r,size:a,sizeType:o}),m=function(){var x=Sse(r),M=ese().type(x).size(Pse(a,o,r));return M()},p=f.className,y=f.cx,b=f.cy,E=St(f,!0);return y===+y&&b===+b&&a===+a?re.createElement("path",lT({},E,{className:Mt("recharts-symbols",p),transform:"translate(".concat(y,", ").concat(b,")"),d:m()})):null};oI.registerSymbol=Tse;function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function cT(){return cT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cT.apply(this,arguments)}function Xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ase(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xk(Object(n),!0).forEach(function(r){ym(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ise(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yV(r.key),r)}}function Cse(t,e,n){return e&&Mse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ose(t,e,n){return e=d_(e),Rse(t,gV()?Reflect.construct(e,n||[],d_(t).constructor):e.apply(t,n))}function Rse(t,e){if(e&&(jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kse(t)}function kse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gV=function(){return!!t})()}function d_(t){return d_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},d_(t)}function Nse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hT(t,e)}function hT(t,e){return hT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hT(t,e)}function ym(t,e,n){return e=yV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yV(t){var e=Lse(t,"string");return jf(e)=="symbol"?e:e+""}function Lse(t,e){if(jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wa=32,uI=(function(t){function e(){return Ise(this,e),Ose(this,e,arguments)}return Nse(e,t),Cse(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=wa/2,s=wa/6,o=wa/3,c=r.inactive?i:r.color;if(r.type==="plainline")return re.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:wa,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return re.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(wa,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return re.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(wa/8,"h").concat(wa,"v").concat(wa*3/4,"h").concat(-wa,"z"),className:"recharts-legend-icon"});if(re.isValidElement(r.legendIcon)){var f=Ase({},r);return delete f.legendIcon,re.cloneElement(r.legendIcon,f)}return re.createElement(oI,{fill:c,cx:a,cy:a,size:wa,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,c=i.formatter,f=i.inactiveColor,m={x:0,y:0,width:wa,height:wa},p={display:o==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(b,E){var S=b.formatter||c,x=Mt(ym(ym({"recharts-legend-item":!0},"legend-item-".concat(E),!0),"inactive",b.inactive));if(b.type==="none")return null;var M=gt(b.value)?null:b.value;Vo(!gt(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var O=b.inactive?f:b.color;return re.createElement("li",cT({className:x,style:p,key:"legend-item-".concat(E)},o_(r.props,b,E)),re.createElement(rT,{width:s,height:s,viewBox:m,style:y},r.renderIcon(b)),re.createElement("span",{className:"recharts-legend-item-text",style:{color:O}},S?S(M,b,E):M))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return re.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])})(Z.PureComponent);ym(uI,"displayName","Legend");ym(uI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Ex,Yk;function Dse(){if(Yk)return Ex;Yk=1;var t=H0();function e(){this.__data__=new t,this.size=0}return Ex=e,Ex}var Sx,Qk;function jse(){if(Qk)return Sx;Qk=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return Sx=t,Sx}var Px,Jk;function Vse(){if(Jk)return Px;Jk=1;function t(e){return this.__data__.get(e)}return Px=t,Px}var Tx,eN;function Fse(){if(eN)return Tx;eN=1;function t(e){return this.__data__.has(e)}return Tx=t,Tx}var Ax,tN;function Bse(){if(tN)return Ax;tN=1;var t=H0(),e=QA(),n=JA(),r=200;function i(a,s){var o=this.__data__;if(o instanceof t){var c=o.__data__;if(!e||c.length<r-1)return c.push([a,s]),this.size=++o.size,this;o=this.__data__=new n(c)}return o.set(a,s),this.size=o.size,this}return Ax=i,Ax}var Ix,nN;function vV(){if(nN)return Ix;nN=1;var t=H0(),e=Dse(),n=jse(),r=Vse(),i=Fse(),a=Bse();function s(o){var c=this.__data__=new t(o);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=a,Ix=s,Ix}var Mx,rN;function $se(){if(rN)return Mx;rN=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Mx=e,Mx}var Cx,iN;function zse(){if(iN)return Cx;iN=1;function t(e){return this.__data__.has(e)}return Cx=t,Cx}var Ox,aN;function _V(){if(aN)return Ox;aN=1;var t=JA(),e=$se(),n=zse();function r(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,Ox=r,Ox}var Rx,sN;function wV(){if(sN)return Rx;sN=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return Rx=t,Rx}var kx,oN;function bV(){if(oN)return kx;oN=1;function t(e,n){return e.has(n)}return kx=t,kx}var Nx,uN;function xV(){if(uN)return Nx;uN=1;var t=_V(),e=wV(),n=bV(),r=1,i=2;function a(s,o,c,f,m,p){var y=c&r,b=s.length,E=o.length;if(b!=E&&!(y&&E>b))return!1;var S=p.get(s),x=p.get(o);if(S&&x)return S==o&&x==s;var M=-1,O=!0,D=c&i?new t:void 0;for(p.set(s,o),p.set(o,s);++M<b;){var $=s[M],k=o[M];if(f)var V=y?f(k,$,M,o,s,p):f($,k,M,s,o,p);if(V!==void 0){if(V)continue;O=!1;break}if(D){if(!e(o,function(C,j){if(!n(D,j)&&($===C||m($,C,c,f,p)))return D.push(j)})){O=!1;break}}else if(!($===k||m($,k,c,f,p))){O=!1;break}}return p.delete(s),p.delete(o),O}return Nx=a,Nx}var Lx,lN;function Use(){if(lN)return Lx;lN=1;var t=Ks(),e=t.Uint8Array;return Lx=e,Lx}var Dx,cN;function qse(){if(cN)return Dx;cN=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return Dx=t,Dx}var jx,hN;function lI(){if(hN)return jx;hN=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return jx=t,jx}var Vx,fN;function Gse(){if(fN)return Vx;fN=1;var t=wg(),e=Use(),n=YA(),r=xV(),i=qse(),a=lI(),s=1,o=2,c="[object Boolean]",f="[object Date]",m="[object Error]",p="[object Map]",y="[object Number]",b="[object RegExp]",E="[object Set]",S="[object String]",x="[object Symbol]",M="[object ArrayBuffer]",O="[object DataView]",D=t?t.prototype:void 0,$=D?D.valueOf:void 0;function k(V,C,j,B,H,z,G){switch(j){case O:if(V.byteLength!=C.byteLength||V.byteOffset!=C.byteOffset)return!1;V=V.buffer,C=C.buffer;case M:return!(V.byteLength!=C.byteLength||!z(new e(V),new e(C)));case c:case f:case y:return n(+V,+C);case m:return V.name==C.name&&V.message==C.message;case b:case S:return V==C+"";case p:var q=i;case E:var ae=B&s;if(q||(q=a),V.size!=C.size&&!ae)return!1;var he=G.get(V);if(he)return he==C;B|=o,G.set(V,C);var me=r(q(V),q(C),B,H,z,G);return G.delete(V),me;case x:if($)return $.call(V)==$.call(C)}return!1}return Vx=k,Vx}var Fx,dN;function EV(){if(dN)return Fx;dN=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return Fx=t,Fx}var Bx,pN;function Wse(){if(pN)return Bx;pN=1;var t=EV(),e=Ei();function n(r,i,a){var s=i(r);return e(r)?s:t(s,a(r))}return Bx=n,Bx}var $x,mN;function Hse(){if(mN)return $x;mN=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,s=[];++r<i;){var o=e[r];n(o,r,e)&&(s[a++]=o)}return s}return $x=t,$x}var zx,gN;function Kse(){if(gN)return zx;gN=1;function t(){return[]}return zx=t,zx}var Ux,yN;function Zse(){if(yN)return Ux;yN=1;var t=Hse(),e=Kse(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(o){return r.call(s,o)}))}:e;return Ux=a,Ux}var qx,vN;function Xse(){if(vN)return qx;vN=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return qx=t,qx}var Gx,_N;function Yse(){if(_N)return Gx;_N=1;var t=ru(),e=iu(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return Gx=r,Gx}var Wx,wN;function cI(){if(wN)return Wx;wN=1;var t=Yse(),e=iu(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return Wx=a,Wx}var Pp={exports:{}},Hx,bN;function Qse(){if(bN)return Hx;bN=1;function t(){return!1}return Hx=t,Hx}Pp.exports;var xN;function SV(){return xN||(xN=1,(function(t,e){var n=Ks(),r=Qse(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,c=o?o.isBuffer:void 0,f=c||r;t.exports=f})(Pp,Pp.exports)),Pp.exports}var Kx,EN;function hI(){if(EN)return Kx;EN=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return Kx=n,Kx}var Zx,SN;function fI(){if(SN)return Zx;SN=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return Zx=e,Zx}var Xx,PN;function Jse(){if(PN)return Xx;PN=1;var t=ru(),e=fI(),n=iu(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",o="[object Error]",c="[object Function]",f="[object Map]",m="[object Number]",p="[object Object]",y="[object RegExp]",b="[object Set]",E="[object String]",S="[object WeakMap]",x="[object ArrayBuffer]",M="[object DataView]",O="[object Float32Array]",D="[object Float64Array]",$="[object Int8Array]",k="[object Int16Array]",V="[object Int32Array]",C="[object Uint8Array]",j="[object Uint8ClampedArray]",B="[object Uint16Array]",H="[object Uint32Array]",z={};z[O]=z[D]=z[$]=z[k]=z[V]=z[C]=z[j]=z[B]=z[H]=!0,z[r]=z[i]=z[x]=z[a]=z[M]=z[s]=z[o]=z[c]=z[f]=z[m]=z[p]=z[y]=z[b]=z[E]=z[S]=!1;function G(q){return n(q)&&e(q.length)&&!!z[t(q)]}return Xx=G,Xx}var Yx,TN;function PV(){if(TN)return Yx;TN=1;function t(e){return function(n){return e(n)}}return Yx=t,Yx}var Tp={exports:{}};Tp.exports;var AN;function eoe(){return AN||(AN=1,(function(t,e){var n=G7(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=(function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();t.exports=o})(Tp,Tp.exports)),Tp.exports}var Qx,IN;function TV(){if(IN)return Qx;IN=1;var t=Jse(),e=PV(),n=eoe(),r=n&&n.isTypedArray,i=r?e(r):t;return Qx=i,Qx}var Jx,MN;function toe(){if(MN)return Jx;MN=1;var t=Xse(),e=cI(),n=Ei(),r=SV(),i=hI(),a=TV(),s=Object.prototype,o=s.hasOwnProperty;function c(f,m){var p=n(f),y=!p&&e(f),b=!p&&!y&&r(f),E=!p&&!y&&!b&&a(f),S=p||y||b||E,x=S?t(f.length,String):[],M=x.length;for(var O in f)(m||o.call(f,O))&&!(S&&(O=="length"||b&&(O=="offset"||O=="parent")||E&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||i(O,M)))&&x.push(O);return x}return Jx=c,Jx}var eE,CN;function noe(){if(CN)return eE;CN=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return eE=e,eE}var tE,ON;function AV(){if(ON)return tE;ON=1;function t(e,n){return function(r){return e(n(r))}}return tE=t,tE}var nE,RN;function roe(){if(RN)return nE;RN=1;var t=AV(),e=t(Object.keys,Object);return nE=e,nE}var rE,kN;function ioe(){if(kN)return rE;kN=1;var t=noe(),e=roe(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var o in Object(a))r.call(a,o)&&o!="constructor"&&s.push(o);return s}return rE=i,rE}var iE,NN;function Eg(){if(NN)return iE;NN=1;var t=XA(),e=fI();function n(r){return r!=null&&e(r.length)&&!t(r)}return iE=n,iE}var aE,LN;function e1(){if(LN)return aE;LN=1;var t=toe(),e=ioe(),n=Eg();function r(i){return n(i)?t(i):e(i)}return aE=r,aE}var sE,DN;function aoe(){if(DN)return sE;DN=1;var t=Wse(),e=Zse(),n=e1();function r(i){return t(i,n,e)}return sE=r,sE}var oE,jN;function soe(){if(jN)return oE;jN=1;var t=aoe(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,s,o,c,f,m){var p=o&e,y=t(a),b=y.length,E=t(s),S=E.length;if(b!=S&&!p)return!1;for(var x=b;x--;){var M=y[x];if(!(p?M in s:r.call(s,M)))return!1}var O=m.get(a),D=m.get(s);if(O&&D)return O==s&&D==a;var $=!0;m.set(a,s),m.set(s,a);for(var k=p;++x<b;){M=y[x];var V=a[M],C=s[M];if(c)var j=p?c(C,V,M,s,a,m):c(V,C,M,a,s,m);if(!(j===void 0?V===C||f(V,C,o,c,m):j)){$=!1;break}k||(k=M=="constructor")}if($&&!k){var B=a.constructor,H=s.constructor;B!=H&&"constructor"in a&&"constructor"in s&&!(typeof B=="function"&&B instanceof B&&typeof H=="function"&&H instanceof H)&&($=!1)}return m.delete(a),m.delete(s),$}return oE=i,oE}var uE,VN;function ooe(){if(VN)return uE;VN=1;var t=th(),e=Ks(),n=t(e,"DataView");return uE=n,uE}var lE,FN;function uoe(){if(FN)return lE;FN=1;var t=th(),e=Ks(),n=t(e,"Promise");return lE=n,lE}var cE,BN;function IV(){if(BN)return cE;BN=1;var t=th(),e=Ks(),n=t(e,"Set");return cE=n,cE}var hE,$N;function loe(){if($N)return hE;$N=1;var t=th(),e=Ks(),n=t(e,"WeakMap");return hE=n,hE}var fE,zN;function coe(){if(zN)return fE;zN=1;var t=ooe(),e=QA(),n=uoe(),r=IV(),i=loe(),a=ru(),s=W7(),o="[object Map]",c="[object Object]",f="[object Promise]",m="[object Set]",p="[object WeakMap]",y="[object DataView]",b=s(t),E=s(e),S=s(n),x=s(r),M=s(i),O=a;return(t&&O(new t(new ArrayBuffer(1)))!=y||e&&O(new e)!=o||n&&O(n.resolve())!=f||r&&O(new r)!=m||i&&O(new i)!=p)&&(O=function(D){var $=a(D),k=$==c?D.constructor:void 0,V=k?s(k):"";if(V)switch(V){case b:return y;case E:return o;case S:return f;case x:return m;case M:return p}return $}),fE=O,fE}var dE,UN;function hoe(){if(UN)return dE;UN=1;var t=vV(),e=xV(),n=Gse(),r=soe(),i=coe(),a=Ei(),s=SV(),o=TV(),c=1,f="[object Arguments]",m="[object Array]",p="[object Object]",y=Object.prototype,b=y.hasOwnProperty;function E(S,x,M,O,D,$){var k=a(S),V=a(x),C=k?m:i(S),j=V?m:i(x);C=C==f?p:C,j=j==f?p:j;var B=C==p,H=j==p,z=C==j;if(z&&s(S)){if(!s(x))return!1;k=!0,B=!1}if(z&&!B)return $||($=new t),k||o(S)?e(S,x,M,O,D,$):n(S,x,C,M,O,D,$);if(!(M&c)){var G=B&&b.call(S,"__wrapped__"),q=H&&b.call(x,"__wrapped__");if(G||q){var ae=G?S.value():S,he=q?x.value():x;return $||($=new t),D(ae,he,M,O,$)}}return z?($||($=new t),r(S,x,M,O,D,$)):!1}return dE=E,dE}var pE,qN;function dI(){if(qN)return pE;qN=1;var t=hoe(),e=iu();function n(r,i,a,s,o){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,s,n,o)}return pE=n,pE}var mE,GN;function foe(){if(GN)return mE;GN=1;var t=vV(),e=dI(),n=1,r=2;function i(a,s,o,c){var f=o.length,m=f,p=!c;if(a==null)return!m;for(a=Object(a);f--;){var y=o[f];if(p&&y[2]?y[1]!==a[y[0]]:!(y[0]in a))return!1}for(;++f<m;){y=o[f];var b=y[0],E=a[b],S=y[1];if(p&&y[2]){if(E===void 0&&!(b in a))return!1}else{var x=new t;if(c)var M=c(E,S,b,a,s,x);if(!(M===void 0?e(S,E,n|r,c,x):M))return!1}}return!0}return mE=i,mE}var gE,WN;function MV(){if(WN)return gE;WN=1;var t=Al();function e(n){return n===n&&!t(n)}return gE=e,gE}var yE,HN;function doe(){if(HN)return yE;HN=1;var t=MV(),e=e1();function n(r){for(var i=e(r),a=i.length;a--;){var s=i[a],o=r[s];i[a]=[s,o,t(o)]}return i}return yE=n,yE}var vE,KN;function CV(){if(KN)return vE;KN=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return vE=t,vE}var _E,ZN;function poe(){if(ZN)return _E;ZN=1;var t=foe(),e=doe(),n=CV();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return _E=r,_E}var wE,XN;function moe(){if(XN)return wE;XN=1;function t(e,n){return e!=null&&n in Object(e)}return wE=t,wE}var bE,YN;function goe(){if(YN)return bE;YN=1;var t=Z7(),e=cI(),n=Ei(),r=hI(),i=fI(),a=Z0();function s(o,c,f){c=t(c,o);for(var m=-1,p=c.length,y=!1;++m<p;){var b=a(c[m]);if(!(y=o!=null&&f(o,b)))break;o=o[b]}return y||++m!=p?y:(p=o==null?0:o.length,!!p&&i(p)&&r(b,p)&&(n(o)||e(o)))}return bE=s,bE}var xE,QN;function yoe(){if(QN)return xE;QN=1;var t=moe(),e=goe();function n(r,i){return r!=null&&e(r,i,t)}return xE=n,xE}var EE,JN;function voe(){if(JN)return EE;JN=1;var t=dI(),e=X7(),n=yoe(),r=ZA(),i=MV(),a=CV(),s=Z0(),o=1,c=2;function f(m,p){return r(m)&&i(p)?a(s(m),p):function(y){var b=e(y,m);return b===void 0&&b===p?n(y,m):t(p,b,o|c)}}return EE=f,EE}var SE,e3;function gd(){if(e3)return SE;e3=1;function t(e){return e}return SE=t,SE}var PE,t3;function _oe(){if(t3)return PE;t3=1;function t(e){return function(n){return n?.[e]}}return PE=t,PE}var TE,n3;function woe(){if(n3)return TE;n3=1;var t=tI();function e(n){return function(r){return t(r,n)}}return TE=e,TE}var AE,r3;function boe(){if(r3)return AE;r3=1;var t=_oe(),e=woe(),n=ZA(),r=Z0();function i(a){return n(a)?t(r(a)):e(a)}return AE=i,AE}var IE,i3;function Il(){if(i3)return IE;i3=1;var t=poe(),e=voe(),n=gd(),r=Ei(),i=boe();function a(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return IE=a,IE}var ME,a3;function OV(){if(a3)return ME;a3=1;function t(e,n,r,i){for(var a=e.length,s=r+(i?1:-1);i?s--:++s<a;)if(n(e[s],s,e))return s;return-1}return ME=t,ME}var CE,s3;function xoe(){if(s3)return CE;s3=1;function t(e){return e!==e}return CE=t,CE}var OE,o3;function Eoe(){if(o3)return OE;o3=1;function t(e,n,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===n)return i;return-1}return OE=t,OE}var RE,u3;function Soe(){if(u3)return RE;u3=1;var t=OV(),e=xoe(),n=Eoe();function r(i,a,s){return a===a?n(i,a,s):t(i,e,s)}return RE=r,RE}var kE,l3;function Poe(){if(l3)return kE;l3=1;var t=Soe();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return kE=e,kE}var NE,c3;function Toe(){if(c3)return NE;c3=1;function t(e,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(n,e[i]))return!0;return!1}return NE=t,NE}var LE,h3;function Aoe(){if(h3)return LE;h3=1;function t(){}return LE=t,LE}var DE,f3;function Ioe(){if(f3)return DE;f3=1;var t=IV(),e=Aoe(),n=lI(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(a){return new t(a)}:e;return DE=i,DE}var jE,d3;function Moe(){if(d3)return jE;d3=1;var t=_V(),e=Poe(),n=Toe(),r=bV(),i=Ioe(),a=lI(),s=200;function o(c,f,m){var p=-1,y=e,b=c.length,E=!0,S=[],x=S;if(m)E=!1,y=n;else if(b>=s){var M=f?null:i(c);if(M)return a(M);E=!1,y=r,x=new t}else x=f?[]:S;e:for(;++p<b;){var O=c[p],D=f?f(O):O;if(O=m||O!==0?O:0,E&&D===D){for(var $=x.length;$--;)if(x[$]===D)continue e;f&&x.push(D),S.push(O)}else y(x,D,m)||(x!==S&&x.push(D),S.push(O))}return S}return jE=o,jE}var VE,p3;function Coe(){if(p3)return VE;p3=1;var t=Il(),e=Moe();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return VE=n,VE}var Ooe=Coe();const m3=Zt(Ooe);function RV(t,e,n){return e===!0?m3(t,n):gt(e)?m3(t,e):t}function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}var Roe=["ref"];function g3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g3(Object(n),!0).forEach(function(r){t1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function koe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NV(r.key),r)}}function Noe(t,e,n){return e&&y3(t.prototype,e),n&&y3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Loe(t,e,n){return e=p_(e),Doe(t,kV()?Reflect.construct(e,n||[],p_(t).constructor):e.apply(t,n))}function Doe(t,e){if(e&&(Vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return joe(t)}function joe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kV=function(){return!!t})()}function p_(t){return p_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},p_(t)}function Voe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fT(t,e)}function fT(t,e){return fT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fT(t,e)}function t1(t,e,n){return e=NV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NV(t){var e=Foe(t,"string");return Vf(e)=="symbol"?e:e+""}function Foe(t,e){if(Vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Boe(t,e){if(t==null)return{};var n=$oe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $oe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zoe(t){return t.value}function Uoe(t,e){if(re.isValidElement(t))return re.cloneElement(t,e);if(typeof t=="function")return re.createElement(t,e);e.ref;var n=Boe(e,Roe);return re.createElement(uI,n)}var v3=1,Oc=(function(t){function e(){var n;koe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Loe(this,e,[].concat(i)),t1(n,"lastBoundingBox",{width:-1,height:-1}),n}return Voe(e,t),Noe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>v3||Math.abs(i.height-this.lastBoundingBox.height)>v3)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Mo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,c=i.margin,f=i.chartWidth,m=i.chartHeight,p,y;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var b=this.getBBoxSnapshot();p={left:((f||0)-b.width)/2}}else p=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var E=this.getBBoxSnapshot();y={top:((m||0)-E.height)/2}}else y=o==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Mo(Mo({},p),y)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,o=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,m=i.payload,p=Mo(Mo({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(c)),c);return re.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(b){r.wrapperNode=b}},Uoe(a,Mo(Mo({},this.props),{},{payload:RV(m,f,zoe)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Mo(Mo({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&De(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])})(Z.PureComponent);t1(Oc,"displayName","Legend");t1(Oc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var FE,_3;function qoe(){if(_3)return FE;_3=1;var t=wg(),e=cI(),n=Ei(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return FE=i,FE}var BE,w3;function LV(){if(w3)return BE;w3=1;var t=EV(),e=qoe();function n(r,i,a,s,o){var c=-1,f=r.length;for(a||(a=e),o||(o=[]);++c<f;){var m=r[c];i>0&&a(m)?i>1?n(m,i-1,a,s,o):t(o,m):s||(o[o.length]=m)}return o}return BE=n,BE}var $E,b3;function Goe(){if(b3)return $E;b3=1;function t(e){return function(n,r,i){for(var a=-1,s=Object(n),o=i(n),c=o.length;c--;){var f=o[e?c:++a];if(r(s[f],f,s)===!1)break}return n}}return $E=t,$E}var zE,x3;function Woe(){if(x3)return zE;x3=1;var t=Goe(),e=t();return zE=e,zE}var UE,E3;function DV(){if(E3)return UE;E3=1;var t=Woe(),e=e1();function n(r,i){return r&&t(r,i,e)}return UE=n,UE}var qE,S3;function Hoe(){if(S3)return qE;S3=1;var t=Eg();function e(n,r){return function(i,a){if(i==null)return i;if(!t(i))return n(i,a);for(var s=i.length,o=r?s:-1,c=Object(i);(r?o--:++o<s)&&a(c[o],o,c)!==!1;);return i}}return qE=e,qE}var GE,P3;function pI(){if(P3)return GE;P3=1;var t=DV(),e=Hoe(),n=e(t);return GE=n,GE}var WE,T3;function jV(){if(T3)return WE;T3=1;var t=pI(),e=Eg();function n(r,i){var a=-1,s=e(r)?Array(r.length):[];return t(r,function(o,c,f){s[++a]=i(o,c,f)}),s}return WE=n,WE}var HE,A3;function Koe(){if(A3)return HE;A3=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return HE=t,HE}var KE,I3;function Zoe(){if(I3)return KE;I3=1;var t=pd();function e(n,r){if(n!==r){var i=n!==void 0,a=n===null,s=n===n,o=t(n),c=r!==void 0,f=r===null,m=r===r,p=t(r);if(!f&&!p&&!o&&n>r||o&&c&&m&&!f&&!p||a&&c&&m||!i&&m||!s)return 1;if(!a&&!o&&!p&&n<r||p&&i&&s&&!a&&!o||f&&i&&s||!c&&s||!m)return-1}return 0}return KE=e,KE}var ZE,M3;function Xoe(){if(M3)return ZE;M3=1;var t=Zoe();function e(n,r,i){for(var a=-1,s=n.criteria,o=r.criteria,c=s.length,f=i.length;++a<c;){var m=t(s[a],o[a]);if(m){if(a>=f)return m;var p=i[a];return m*(p=="desc"?-1:1)}}return n.index-r.index}return ZE=e,ZE}var XE,C3;function Yoe(){if(C3)return XE;C3=1;var t=eI(),e=tI(),n=Il(),r=jV(),i=Koe(),a=PV(),s=Xoe(),o=gd(),c=Ei();function f(m,p,y){p.length?p=t(p,function(S){return c(S)?function(x){return e(x,S.length===1?S[0]:S)}:S}):p=[o];var b=-1;p=t(p,a(n));var E=r(m,function(S,x,M){var O=t(p,function(D){return D(S)});return{criteria:O,index:++b,value:S}});return i(E,function(S,x){return s(S,x,y)})}return XE=f,XE}var YE,O3;function Qoe(){if(O3)return YE;O3=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return YE=t,YE}var QE,R3;function Joe(){if(R3)return QE;R3=1;var t=Qoe(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,o=-1,c=e(s.length-i,0),f=Array(c);++o<c;)f[o]=s[i+o];o=-1;for(var m=Array(i+1);++o<i;)m[o]=s[o];return m[i]=a(f),t(r,this,m)}}return QE=n,QE}var JE,k3;function eue(){if(k3)return JE;k3=1;function t(e){return function(){return e}}return JE=t,JE}var eS,N3;function VV(){if(N3)return eS;N3=1;var t=th(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return eS=e,eS}var tS,L3;function tue(){if(L3)return tS;L3=1;var t=eue(),e=VV(),n=gd(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return tS=r,tS}var nS,D3;function nue(){if(D3)return nS;D3=1;var t=800,e=16,n=Date.now;function r(i){var a=0,s=0;return function(){var o=n(),c=e-(o-s);if(s=o,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return nS=r,nS}var rS,j3;function rue(){if(j3)return rS;j3=1;var t=tue(),e=nue(),n=e(t);return rS=n,rS}var iS,V3;function iue(){if(V3)return iS;V3=1;var t=gd(),e=Joe(),n=rue();function r(i,a){return n(e(i,a,t),i+"")}return iS=r,iS}var aS,F3;function n1(){if(F3)return aS;F3=1;var t=YA(),e=Eg(),n=hI(),r=Al();function i(a,s,o){if(!r(o))return!1;var c=typeof s;return(c=="number"?e(o)&&n(s,o.length):c=="string"&&s in o)?t(o[s],a):!1}return aS=i,aS}var sS,B3;function aue(){if(B3)return sS;B3=1;var t=LV(),e=Yoe(),n=iue(),r=n1(),i=n(function(a,s){if(a==null)return[];var o=s.length;return o>1&&r(a,s[0],s[1])?s=[]:o>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return sS=i,sS}var sue=aue();const mI=Zt(sue);function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function dT(){return dT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dT.apply(this,arguments)}function oue(t,e){return hue(t)||cue(t,e)||lue(t,e)||uue()}function uue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lue(t,e){if(t){if(typeof t=="string")return $3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $3(t,e)}}function $3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(m){f=!0,i=m}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function hue(t){if(Array.isArray(t))return t}function z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z3(Object(n),!0).forEach(function(r){fue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fue(t,e,n){return e=due(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function due(t){var e=pue(t,"string");return vm(e)=="symbol"?e:e+""}function pue(t,e){if(vm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mue(t){return Array.isArray(t)&&Xn(t[0])&&Xn(t[1])?t.join(" ~ "):t}var gue=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,c=e.labelStyle,f=c===void 0?{}:c,m=e.payload,p=e.formatter,y=e.itemSorter,b=e.wrapperClassName,E=e.labelClassName,S=e.label,x=e.labelFormatter,M=e.accessibilityLayer,O=M===void 0?!1:M,D=function(){if(m&&m.length){var G={padding:0,margin:0},q=(y?mI(m,y):m).map(function(ae,he){if(ae.type==="none")return null;var me=oS({display:"block",paddingTop:4,paddingBottom:4,color:ae.color||"#000"},o),ye=ae.formatter||p||mue,ee=ae.value,ge=ae.name,ie=ee,Y=ge;if(ye&&ie!=null&&Y!=null){var ne=ye(ee,ge,ae,he,m);if(Array.isArray(ne)){var xe=oue(ne,2);ie=xe[0],Y=xe[1]}else ie=ne}return re.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(he),style:me},Xn(Y)?re.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,Xn(Y)?re.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,re.createElement("span",{className:"recharts-tooltip-item-value"},ie),re.createElement("span",{className:"recharts-tooltip-item-unit"},ae.unit||""))});return re.createElement("ul",{className:"recharts-tooltip-item-list",style:G},q)}return null},$=oS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),k=oS({margin:0},f),V=!_t(S),C=V?S:"",j=Mt("recharts-default-tooltip",b),B=Mt("recharts-tooltip-label",E);V&&x&&m!==void 0&&m!==null&&(C=x(S,m));var H=O?{role:"status","aria-live":"assertive"}:{};return re.createElement("div",dT({className:j,style:$},H),re.createElement("p",{className:B,style:k},re.isValidElement(C)?C:"".concat(C)),D())};function _m(t){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}function qy(t,e,n){return e=yue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yue(t){var e=vue(t,"string");return _m(e)=="symbol"?e:e+""}function vue(t,e){if(_m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var op="recharts-tooltip-wrapper",_ue={visibility:"hidden"};function wue(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Mt(op,qy(qy(qy(qy({},"".concat(op,"-right"),De(n)&&e&&De(e.x)&&n>=e.x),"".concat(op,"-left"),De(n)&&e&&De(e.x)&&n<e.x),"".concat(op,"-bottom"),De(r)&&e&&De(e.y)&&r>=e.y),"".concat(op,"-top"),De(r)&&e&&De(e.y)&&r<e.y))}function U3(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(a&&De(a[r]))return a[r];var m=n[r]-o-i,p=n[r]+i;if(e[r])return s[r]?m:p;if(s[r]){var y=m,b=c[r];return y<b?Math.max(p,c[r]):Math.max(m,c[r])}var E=p+o,S=c[r]+f;return E>S?Math.max(m,c[r]):Math.max(p,c[r])}function bue(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function xue(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,c=t.viewBox,f,m,p;return s.height>0&&s.width>0&&n?(m=U3({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),p=U3({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=bue({translateX:m,translateY:p,useTranslate3d:o})):f=_ue,{cssProperties:f,cssClasses:wue({translateX:m,translateY:p,coordinate:n})}}function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function q3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q3(Object(n),!0).forEach(function(r){mT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BV(r.key),r)}}function Pue(t,e,n){return e&&Sue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tue(t,e,n){return e=m_(e),Aue(t,FV()?Reflect.construct(e,n||[],m_(t).constructor):e.apply(t,n))}function Aue(t,e){if(e&&(Ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iue(t)}function Iue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FV=function(){return!!t})()}function m_(t){return m_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},m_(t)}function Mue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pT(t,e)}function pT(t,e){return pT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pT(t,e)}function mT(t,e,n){return e=BV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BV(t){var e=Cue(t,"string");return Ff(e)=="symbol"?e:e+""}function Cue(t,e){if(Ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var W3=1,Oue=(function(t){function e(){var n;Eue(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Tue(this,e,[].concat(i)),mT(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),mT(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,c,f,m;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&o!==void 0?o:0,y:(f=(m=n.props.coordinate)===null||m===void 0?void 0:m.y)!==null&&f!==void 0?f:0}})}}),n}return Mue(e,t),Pue(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>W3||Math.abs(r.height-this.state.lastBoundingBox.height)>W3)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,c=i.animationEasing,f=i.children,m=i.coordinate,p=i.hasPayload,y=i.isAnimationActive,b=i.offset,E=i.position,S=i.reverseDirection,x=i.useTranslate3d,M=i.viewBox,O=i.wrapperStyle,D=xue({allowEscapeViewBox:s,coordinate:m,offsetTopLeft:b,position:E,reverseDirection:S,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:M}),$=D.cssClasses,k=D.cssProperties,V=G3(G3({transition:y&&a?"transform ".concat(o,"ms ").concat(c):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&p?"visible":"hidden",position:"absolute",top:0,left:0},O);return re.createElement("div",{tabIndex:-1,className:$,style:V,ref:function(j){r.wrapperNode=j}},f)}}])})(Z.PureComponent),Rue=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},yd={isSsr:Rue()};function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function H3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H3(Object(n),!0).forEach(function(r){gI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zV(r.key),r)}}function Lue(t,e,n){return e&&Nue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Due(t,e,n){return e=g_(e),jue(t,$V()?Reflect.construct(e,n||[],g_(t).constructor):e.apply(t,n))}function jue(t,e){if(e&&(Bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vue(t)}function Vue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $V(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($V=function(){return!!t})()}function g_(t){return g_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},g_(t)}function Fue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gT(t,e)}function gT(t,e){return gT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gT(t,e)}function gI(t,e,n){return e=zV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zV(t){var e=Bue(t,"string");return Bf(e)=="symbol"?e:e+""}function Bue(t,e){if(Bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $ue(t){return t.dataKey}function zue(t,e){return re.isValidElement(t)?re.cloneElement(t,e):typeof t=="function"?re.createElement(t,e):re.createElement(gue,e)}var Qa=(function(t){function e(){return kue(this,e),Due(this,e,arguments)}return Fue(e,t),Lue(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,c=i.animationEasing,f=i.content,m=i.coordinate,p=i.filterNull,y=i.isAnimationActive,b=i.offset,E=i.payload,S=i.payloadUniqBy,x=i.position,M=i.reverseDirection,O=i.useTranslate3d,D=i.viewBox,$=i.wrapperStyle,k=E??[];p&&k.length&&(k=RV(E.filter(function(C){return C.value!=null&&(C.hide!==!0||r.props.includeHidden)}),S,$ue));var V=k.length>0;return re.createElement(Oue,{allowEscapeViewBox:s,animationDuration:o,animationEasing:c,isAnimationActive:y,active:a,coordinate:m,hasPayload:V,offset:b,position:x,reverseDirection:M,useTranslate3d:O,viewBox:D,wrapperStyle:$},zue(f,K3(K3({},this.props),{},{payload:k})))}}])})(Z.PureComponent);gI(Qa,"displayName","Tooltip");gI(Qa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!yd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var uS,Z3;function Uue(){if(Z3)return uS;Z3=1;var t=Ks(),e=function(){return t.Date.now()};return uS=e,uS}var lS,X3;function que(){if(X3)return lS;X3=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return lS=e,lS}var cS,Y3;function Gue(){if(Y3)return cS;Y3=1;var t=que(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return cS=n,cS}var hS,Q3;function UV(){if(Q3)return hS;Q3=1;var t=Gue(),e=Al(),n=pd(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var m=typeof f.valueOf=="function"?f.valueOf():f;f=e(m)?m+"":m}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=a.test(f);return p||s.test(f)?o(f.slice(2),p?2:8):i.test(f)?r:+f}return hS=c,hS}var fS,J3;function Wue(){if(J3)return fS;J3=1;var t=Al(),e=Uue(),n=UV(),r="Expected a function",i=Math.max,a=Math.min;function s(o,c,f){var m,p,y,b,E,S,x=0,M=!1,O=!1,D=!0;if(typeof o!="function")throw new TypeError(r);c=n(c)||0,t(f)&&(M=!!f.leading,O="maxWait"in f,y=O?i(n(f.maxWait)||0,c):y,D="trailing"in f?!!f.trailing:D);function $(q){var ae=m,he=p;return m=p=void 0,x=q,b=o.apply(he,ae),b}function k(q){return x=q,E=setTimeout(j,c),M?$(q):b}function V(q){var ae=q-S,he=q-x,me=c-ae;return O?a(me,y-he):me}function C(q){var ae=q-S,he=q-x;return S===void 0||ae>=c||ae<0||O&&he>=y}function j(){var q=e();if(C(q))return B(q);E=setTimeout(j,V(q))}function B(q){return E=void 0,D&&m?$(q):(m=p=void 0,b)}function H(){E!==void 0&&clearTimeout(E),x=0,m=S=p=E=void 0}function z(){return E===void 0?b:B(e())}function G(){var q=e(),ae=C(q);if(m=arguments,p=this,S=q,ae){if(E===void 0)return k(S);if(O)return clearTimeout(E),E=setTimeout(j,c),$(S)}return E===void 0&&(E=setTimeout(j,c)),b}return G.cancel=H,G.flush=z,G}return fS=s,fS}var dS,eL;function Hue(){if(eL)return dS;eL=1;var t=Wue(),e=Al(),n="Expected a function";function r(i,a,s){var o=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(s)&&(o="leading"in s?!!s.leading:o,c="trailing"in s?!!s.trailing:c),t(i,a,{leading:o,maxWait:a,trailing:c})}return dS=r,dS}var Kue=Hue();const qV=Zt(Kue);function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}function tL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tL(Object(n),!0).forEach(function(r){Zue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zue(t,e,n){return e=Xue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xue(t){var e=Yue(t,"string");return wm(e)=="symbol"?e:e+""}function Yue(t,e){if(wm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Que(t,e){return nle(t)||tle(t,e)||ele(t,e)||Jue()}function Jue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ele(t,e){if(t){if(typeof t=="string")return nL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nL(t,e)}}function nL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(m){f=!0,i=m}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function nle(t){if(Array.isArray(t))return t}var GV=Z.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,o=t.height,c=o===void 0?"100%":o,f=t.minWidth,m=f===void 0?0:f,p=t.minHeight,y=t.maxHeight,b=t.children,E=t.debounce,S=E===void 0?0:E,x=t.id,M=t.className,O=t.onResize,D=t.style,$=D===void 0?{}:D,k=Z.useRef(null),V=Z.useRef();V.current=O,Z.useImperativeHandle(e,function(){return Object.defineProperty(k.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),k.current},configurable:!0})});var C=Z.useState({containerWidth:i.width,containerHeight:i.height}),j=Que(C,2),B=j[0],H=j[1],z=Z.useCallback(function(q,ae){H(function(he){var me=Math.round(q),ye=Math.round(ae);return he.containerWidth===me&&he.containerHeight===ye?he:{containerWidth:me,containerHeight:ye}})},[]);Z.useEffect(function(){var q=function(ge){var ie,Y=ge[0].contentRect,ne=Y.width,xe=Y.height;z(ne,xe),(ie=V.current)===null||ie===void 0||ie.call(V,ne,xe)};S>0&&(q=qV(q,S,{trailing:!0,leading:!1}));var ae=new ResizeObserver(q),he=k.current.getBoundingClientRect(),me=he.width,ye=he.height;return z(me,ye),ae.observe(k.current),function(){ae.disconnect()}},[z,S]);var G=Z.useMemo(function(){var q=B.containerWidth,ae=B.containerHeight;if(q<0||ae<0)return null;Vo(bc(s)||bc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Vo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var he=bc(s)?q:s,me=bc(c)?ae:c;n&&n>0&&(he?me=he/n:me&&(he=me*n),y&&me>y&&(me=y)),Vo(he>0||me>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,he,me,s,c,m,p,n);var ye=!Array.isArray(b)&&jo(b.type).endsWith("Chart");return re.Children.map(b,function(ee){return re.isValidElement(ee)?Z.cloneElement(ee,Gy({width:he,height:me},ye?{style:Gy({height:"100%",width:"100%",maxHeight:me,maxWidth:he},ee.props.style)}:{})):ee})},[n,b,c,y,p,m,B,s]);return re.createElement("div",{id:x?"".concat(x):void 0,className:Mt("recharts-responsive-container",M),style:Gy(Gy({},$),{},{width:s,height:c,minWidth:m,minHeight:p,maxHeight:y}),ref:k},G)}),yI=function(e){return null};yI.displayName="Cell";function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function rL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rL(Object(n),!0).forEach(function(r){rle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rle(t,e,n){return e=ile(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ile(t){var e=ale(t,"string");return bm(e)=="symbol"?e:e+""}function ale(t,e){if(bm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gh={widthCache:{},cacheCount:0},sle=2e3,ole={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},iL="recharts_measurement_span";function ule(t){var e=yT({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var qp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||yd.isSsr)return{width:0,height:0};var r=ule(n),i=JSON.stringify({text:e,copyStyle:r});if(Gh.widthCache[i])return Gh.widthCache[i];try{var a=document.getElementById(iL);a||(a=document.createElement("span"),a.setAttribute("id",iL),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=yT(yT({},ole),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),c={width:o.width,height:o.height};return Gh.widthCache[i]=c,++Gh.cacheCount>sle&&(Gh.cacheCount=0,Gh.widthCache={}),c}catch{return{width:0,height:0}}},lle=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}function y_(t,e){return dle(t)||fle(t,e)||hle(t,e)||cle()}function cle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hle(t,e){if(t){if(typeof t=="string")return aL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aL(t,e)}}function aL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(m){f=!0,i=m}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function dle(t){if(Array.isArray(t))return t}function ple(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gle(r.key),r)}}function mle(t,e,n){return e&&sL(t.prototype,e),n&&sL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gle(t){var e=yle(t,"string");return xm(e)=="symbol"?e:e+""}function yle(t,e){if(xm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vle=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_le=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,WV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},wle=Object.keys(WV),of="NaN";function ble(t,e){return t*WV[e]}var Wy=(function(){function t(e,n){ple(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!vle.test(n)&&(this.num=NaN,this.unit=""),wle.includes(n)&&(this.num=ble(e,n),this.unit="px")}return mle(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=_le.exec(n))!==null&&r!==void 0?r:[],a=y_(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])})();function HV(t){if(t.includes(of))return of;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=oL.exec(e))!==null&&n!==void 0?n:[],i=y_(r,4),a=i[1],s=i[2],o=i[3],c=Wy.parse(a??""),f=Wy.parse(o??""),m=s==="*"?c.multiply(f):c.divide(f);if(m.isNaN())return of;e=e.replace(oL,m.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,y=(p=uL.exec(e))!==null&&p!==void 0?p:[],b=y_(y,4),E=b[1],S=b[2],x=b[3],M=Wy.parse(E??""),O=Wy.parse(x??""),D=S==="+"?M.add(O):M.subtract(O);if(D.isNaN())return of;e=e.replace(uL,D.toString())}return e}var lL=/\(([^()]*)\)/;function xle(t){for(var e=t;e.includes("(");){var n=lL.exec(e),r=y_(n,2),i=r[1];e=e.replace(lL,HV(i))}return e}function Ele(t){var e=t.replace(/\s+/g,"");return e=xle(e),e=HV(e),e}function Sle(t){try{return Ele(t)}catch{return of}}function pS(t){var e=Sle(t.slice(5,-1));return e===of?"":e}var Ple=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Tle=["dx","dy","angle","className","breakAll"];function vT(){return vT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vT.apply(this,arguments)}function cL(t,e){if(t==null)return{};var n=Ale(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ale(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hL(t,e){return Ole(t)||Cle(t,e)||Mle(t,e)||Ile()}function Ile(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mle(t,e){if(t){if(typeof t=="string")return fL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fL(t,e)}}function fL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(m){f=!0,i=m}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function Ole(t){if(Array.isArray(t))return t}var KV=/[ \f\n\r\t\v\u2028\u2029]+/,ZV=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];_t(n)||(r?a=n.toString().split(""):a=n.toString().split(KV));var s=a.map(function(c){return{word:c,width:qp(c,i).width}}),o=r?0:qp("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},Rle=function(e,n,r,i,a){var s=e.maxLines,o=e.children,c=e.style,f=e.breakAll,m=De(s),p=o,y=function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return he.reduce(function(me,ye){var ee=ye.word,ge=ye.width,ie=me[me.length-1];if(ie&&(i==null||a||ie.width+ge+r<Number(i)))ie.words.push(ee),ie.width+=ge+r;else{var Y={words:[ee],width:ge};me.push(Y)}return me},[])},b=y(n),E=function(he){return he.reduce(function(me,ye){return me.width>ye.width?me:ye})};if(!m)return b;for(var S="",x=function(he){var me=p.slice(0,he),ye=ZV({breakAll:f,style:c,children:me+S}).wordsWithComputedWidth,ee=y(ye),ge=ee.length>s||E(ee).width>Number(i);return[ge,ee]},M=0,O=p.length-1,D=0,$;M<=O&&D<=p.length-1;){var k=Math.floor((M+O)/2),V=k-1,C=x(V),j=hL(C,2),B=j[0],H=j[1],z=x(k),G=hL(z,1),q=G[0];if(!B&&!q&&(M=k+1),B&&q&&(O=k-1),!B&&q){$=H;break}D++}return $||b},dL=function(e){var n=_t(e)?[]:e.toString().split(KV);return[{words:n}]},kle=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((n||r)&&!yd.isSsr){var c,f,m=ZV({breakAll:s,children:i,style:a});if(m){var p=m.wordsWithComputedWidth,y=m.spaceWidth;c=p,f=y}else return dL(i);return Rle({breakAll:s,children:i,maxLines:o,style:a},c,f,n,r)}return dL(i)},pL="#808080",v_=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,c=e.capHeight,f=c===void 0?"0.71em":c,m=e.scaleToFit,p=m===void 0?!1:m,y=e.textAnchor,b=y===void 0?"start":y,E=e.verticalAnchor,S=E===void 0?"end":E,x=e.fill,M=x===void 0?pL:x,O=cL(e,Ple),D=Z.useMemo(function(){return kle({breakAll:O.breakAll,children:O.children,maxLines:O.maxLines,scaleToFit:p,style:O.style,width:O.width})},[O.breakAll,O.children,O.maxLines,p,O.style,O.width]),$=O.dx,k=O.dy,V=O.angle,C=O.className,j=O.breakAll,B=cL(O,Tle);if(!Xn(r)||!Xn(a))return null;var H=r+(De($)?$:0),z=a+(De(k)?k:0),G;switch(S){case"start":G=pS("calc(".concat(f,")"));break;case"middle":G=pS("calc(".concat((D.length-1)/2," * -").concat(o," + (").concat(f," / 2))"));break;default:G=pS("calc(".concat(D.length-1," * -").concat(o,")"));break}var q=[];if(p){var ae=D[0].width,he=O.width;q.push("scale(".concat((De(he)?he/ae:1)/ae,")"))}return V&&q.push("rotate(".concat(V,", ").concat(H,", ").concat(z,")")),q.length&&(B.transform=q.join(" ")),re.createElement("text",vT({},St(B,!0),{x:H,y:z,className:Mt("recharts-text",C),textAnchor:b,fill:M.includes("url")?pL:M}),D.map(function(me,ye){var ee=me.words.join(j?"":" ");return re.createElement("tspan",{x:H,dy:ye===0?G:o,key:"".concat(ee,"-").concat(ye)},ee)}))};function hl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Nle(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vI(t){let e,n,r;t.length!==2?(e=hl,n=(o,c)=>hl(t(o),c),r=(o,c)=>t(o)-c):(e=t===hl||t===Nle?t:Lle,n=t,r=t);function i(o,c,f=0,m=o.length){if(f<m){if(e(c,c)!==0)return m;do{const p=f+m>>>1;n(o[p],c)<0?f=p+1:m=p}while(f<m)}return f}function a(o,c,f=0,m=o.length){if(f<m){if(e(c,c)!==0)return m;do{const p=f+m>>>1;n(o[p],c)<=0?f=p+1:m=p}while(f<m)}return f}function s(o,c,f=0,m=o.length){const p=i(o,c,f,m-1);return p>f&&r(o[p-1],c)>-r(o[p],c)?p-1:p}return{left:i,center:s,right:a}}function Lle(){return 0}function XV(t){return t===null?NaN:+t}function*Dle(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const jle=vI(hl),Sg=jle.right;vI(XV).center;class mL extends Map{constructor(e,n=Ble){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(gL(this,e))}has(e){return super.has(gL(this,e))}set(e,n){return super.set(Vle(this,e),n)}delete(e){return super.delete(Fle(this,e))}}function gL({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Vle({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Fle({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Ble(t){return t!==null&&typeof t=="object"?t.valueOf():t}function $le(t=hl){if(t===hl)return YV;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function YV(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const zle=Math.sqrt(50),Ule=Math.sqrt(10),qle=Math.sqrt(2);function __(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=zle?10:a>=Ule?5:a>=qle?2:1;let o,c,f;return i<0?(f=Math.pow(10,-i)/s,o=Math.round(t*f),c=Math.round(e*f),o/f<t&&++o,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,o=Math.round(t/f),c=Math.round(e/f),o*f<t&&++o,c*f>e&&--c),c<o&&.5<=n&&n<2?__(t,e,n*2):[o,c,f]}function _T(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?__(e,t,n):__(t,e,n);if(!(a>=i))return[];const o=a-i+1,c=new Array(o);if(r)if(s<0)for(let f=0;f<o;++f)c[f]=(a-f)/-s;else for(let f=0;f<o;++f)c[f]=(a-f)*s;else if(s<0)for(let f=0;f<o;++f)c[f]=(i+f)/-s;else for(let f=0;f<o;++f)c[f]=(i+f)*s;return c}function wT(t,e,n){return e=+e,t=+t,n=+n,__(t,e,n)[2]}function bT(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?wT(e,t,n):wT(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function yL(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function vL(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function QV(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?YV:$le(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,m=Math.log(c),p=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*p*(c-p)/c)*(f-c/2<0?-1:1),b=Math.max(n,Math.floor(e-f*p/c+y)),E=Math.min(r,Math.floor(e+(c-f)*p/c+y));QV(t,e,b,E,i)}const a=t[e];let s=n,o=r;for(up(t,n,e),i(t[r],a)>0&&up(t,n,r);s<o;){for(up(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?up(t,n,o):(++o,up(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function up(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Gle(t,e,n){if(t=Float64Array.from(Dle(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return vL(t);if(e>=1)return yL(t);var r,i=(r-1)*e,a=Math.floor(i),s=yL(QV(t,a).subarray(0,a+1)),o=vL(t.subarray(a+1));return s+(o-s)*(i-a)}}function Wle(t,e,n=XV){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function Hle(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function La(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function au(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const xT=Symbol("implicit");function _I(){var t=new mL,e=[],n=[],r=xT;function i(a){let s=t.get(a);if(s===void 0){if(r!==xT)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new mL;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return _I(e,n).unknown(r)},La.apply(i,arguments),i}function Em(){var t=_I().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,c=0,f=0,m=.5;delete t.unknown;function p(){var y=e().length,b=i<r,E=b?i:r,S=b?r:i;a=(S-E)/Math.max(1,y-c+f*2),o&&(a=Math.floor(a)),E+=(S-E-a*(y-c))*m,s=a*(1-c),o&&(E=Math.round(E),s=Math.round(s));var x=Hle(y).map(function(M){return E+a*M});return n(b?x.reverse():x)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,o=!0,p()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(y){return arguments.length?(o=!!y,p()):o},t.padding=function(y){return arguments.length?(c=Math.min(1,f=+y),p()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),p()):c},t.paddingOuter=function(y){return arguments.length?(f=+y,p()):f},t.align=function(y){return arguments.length?(m=Math.max(0,Math.min(1,y)),p()):m},t.copy=function(){return Em(e(),[r,i]).round(o).paddingInner(c).paddingOuter(f).align(m)},La.apply(p(),arguments)}function JV(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return JV(e())},t}function Gp(){return JV(Em.apply(null,arguments).paddingInner(1))}function wI(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function eF(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Pg(){}var Sm=.7,w_=1/Sm,_f="\\s*([+-]?\\d+)\\s*",Pm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kle=/^#([0-9a-f]{3,8})$/,Zle=new RegExp(`^rgb\\(${_f},${_f},${_f}\\)$`),Xle=new RegExp(`^rgb\\(${zs},${zs},${zs}\\)$`),Yle=new RegExp(`^rgba\\(${_f},${_f},${_f},${Pm}\\)$`),Qle=new RegExp(`^rgba\\(${zs},${zs},${zs},${Pm}\\)$`),Jle=new RegExp(`^hsl\\(${Pm},${zs},${zs}\\)$`),ece=new RegExp(`^hsla\\(${Pm},${zs},${zs},${Pm}\\)$`),_L={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wI(Pg,Tm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:wL,formatHex:wL,formatHex8:tce,formatHsl:nce,formatRgb:bL,toString:bL});function wL(){return this.rgb().formatHex()}function tce(){return this.rgb().formatHex8()}function nce(){return tF(this).formatHsl()}function bL(){return this.rgb().formatRgb()}function Tm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Kle.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?xL(e):n===3?new bi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Hy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Hy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Zle.exec(t))?new bi(e[1],e[2],e[3],1):(e=Xle.exec(t))?new bi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Yle.exec(t))?Hy(e[1],e[2],e[3],e[4]):(e=Qle.exec(t))?Hy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Jle.exec(t))?PL(e[1],e[2]/100,e[3]/100,1):(e=ece.exec(t))?PL(e[1],e[2]/100,e[3]/100,e[4]):_L.hasOwnProperty(t)?xL(_L[t]):t==="transparent"?new bi(NaN,NaN,NaN,0):null}function xL(t){return new bi(t>>16&255,t>>8&255,t&255,1)}function Hy(t,e,n,r){return r<=0&&(t=e=n=NaN),new bi(t,e,n,r)}function rce(t){return t instanceof Pg||(t=Tm(t)),t?(t=t.rgb(),new bi(t.r,t.g,t.b,t.opacity)):new bi}function ET(t,e,n,r){return arguments.length===1?rce(t):new bi(t,e,n,r??1)}function bi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}wI(bi,ET,eF(Pg,{brighter(t){return t=t==null?w_:Math.pow(w_,t),new bi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Sm:Math.pow(Sm,t),new bi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new bi(Rc(this.r),Rc(this.g),Rc(this.b),b_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:EL,formatHex:EL,formatHex8:ice,formatRgb:SL,toString:SL}));function EL(){return`#${xc(this.r)}${xc(this.g)}${xc(this.b)}`}function ice(){return`#${xc(this.r)}${xc(this.g)}${xc(this.b)}${xc((isNaN(this.opacity)?1:this.opacity)*255)}`}function SL(){const t=b_(this.opacity);return`${t===1?"rgb(":"rgba("}${Rc(this.r)}, ${Rc(this.g)}, ${Rc(this.b)}${t===1?")":`, ${t})`}`}function b_(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Rc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function xc(t){return t=Rc(t),(t<16?"0":"")+t.toString(16)}function PL(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ns(t,e,n,r)}function tF(t){if(t instanceof ns)return new ns(t.h,t.s,t.l,t.opacity);if(t instanceof Pg||(t=Tm(t)),!t)return new ns;if(t instanceof ns)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,c=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=c<.5?a+i:2-a-i,s*=60):o=c>0&&c<1?0:s,new ns(s,o,c,t.opacity)}function ace(t,e,n,r){return arguments.length===1?tF(t):new ns(t,e,n,r??1)}function ns(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}wI(ns,ace,eF(Pg,{brighter(t){return t=t==null?w_:Math.pow(w_,t),new ns(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Sm:Math.pow(Sm,t),new ns(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new bi(mS(t>=240?t-240:t+120,i,r),mS(t,i,r),mS(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ns(TL(this.h),Ky(this.s),Ky(this.l),b_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=b_(this.opacity);return`${t===1?"hsl(":"hsla("}${TL(this.h)}, ${Ky(this.s)*100}%, ${Ky(this.l)*100}%${t===1?")":`, ${t})`}`}}));function TL(t){return t=(t||0)%360,t<0?t+360:t}function Ky(t){return Math.max(0,Math.min(1,t||0))}function mS(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const bI=t=>()=>t;function sce(t,e){return function(n){return t+n*e}}function oce(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function uce(t){return(t=+t)==1?nF:function(e,n){return n-e?oce(e,n,t):bI(isNaN(e)?n:e)}}function nF(t,e){var n=e-t;return n?sce(t,n):bI(isNaN(t)?e:t)}const AL=(function t(e){var n=uce(e);function r(i,a){var s=n((i=ET(i)).r,(a=ET(a)).r),o=n(i.g,a.g),c=n(i.b,a.b),f=nF(i.opacity,a.opacity);return function(m){return i.r=s(m),i.g=o(m),i.b=c(m),i.opacity=f(m),i+""}}return r.gamma=t,r})(1);function lce(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function cce(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function hce(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=vd(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function fce(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function x_(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function dce(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=vd(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var ST=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gS=new RegExp(ST.source,"g");function pce(t){return function(){return t}}function mce(t){return function(e){return t(e)+""}}function gce(t,e){var n=ST.lastIndex=gS.lastIndex=0,r,i,a,s=-1,o=[],c=[];for(t=t+"",e=e+"";(r=ST.exec(t))&&(i=gS.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,c.push({i:s,x:x_(r,i)})),n=gS.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?c[0]?mce(c[0].x):pce(e):(e=c.length,function(f){for(var m=0,p;m<e;++m)o[(p=c[m]).i]=p.x(f);return o.join("")})}function vd(t,e){var n=typeof e,r;return e==null||n==="boolean"?bI(e):(n==="number"?x_:n==="string"?(r=Tm(e))?(e=r,AL):gce:e instanceof Tm?AL:e instanceof Date?fce:cce(e)?lce:Array.isArray(e)?hce:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?dce:x_)(t,e)}function xI(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function yce(t,e){e===void 0&&(e=t,t=vd);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function vce(t){return function(){return t}}function E_(t){return+t}var IL=[0,1];function ei(t){return t}function PT(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:vce(isNaN(e)?NaN:.5)}function _ce(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function wce(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=PT(i,r),a=n(s,a)):(r=PT(r,i),a=n(a,s)),function(o){return a(r(o))}}function bce(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=PT(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var c=Sg(t,o,1,r)-1;return a[c](i[c](o))}}function Tg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function r1(){var t=IL,e=IL,n=vd,r,i,a,s=ei,o,c,f;function m(){var y=Math.min(t.length,e.length);return s!==ei&&(s=_ce(t[0],t[y-1])),o=y>2?bce:wce,c=f=null,p}function p(y){return y==null||isNaN(y=+y)?a:(c||(c=o(t.map(r),e,n)))(r(s(y)))}return p.invert=function(y){return s(i((f||(f=o(e,t.map(r),x_)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,E_),m()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),m()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),n=xI,m()},p.clamp=function(y){return arguments.length?(s=y?!0:ei,m()):s!==ei},p.interpolate=function(y){return arguments.length?(n=y,m()):n},p.unknown=function(y){return arguments.length?(a=y,p):a},function(y,b){return r=y,i=b,m()}}function EI(){return r1()(ei,ei)}function xce(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function S_(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function $f(t){return t=S_(Math.abs(t)),t?t[1]:NaN}function Ece(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],c=0;i>0&&o>0&&(c+o+1>r&&(o=Math.max(1,r-c)),a.push(n.substring(i-=o,i+o)),!((c+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Sce(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Pce=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Am(t){if(!(e=Pce.exec(t)))throw new Error("invalid format: "+t);var e;return new SI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Am.prototype=SI.prototype;function SI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}SI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Tce(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var P_;function Ace(t,e){var n=S_(t,e);if(!n)return P_=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(P_=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+S_(t,Math.max(0,e+a-1))[0]}function ML(t,e){var n=S_(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const CL={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:xce,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ML(t*100,e),r:ML,s:Ace,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function OL(t){return t}var RL=Array.prototype.map,kL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ice(t){var e=t.grouping===void 0||t.thousands===void 0?OL:Ece(RL.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?OL:Sce(RL.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p,y){p=Am(p);var b=p.fill,E=p.align,S=p.sign,x=p.symbol,M=p.zero,O=p.width,D=p.comma,$=p.precision,k=p.trim,V=p.type;V==="n"?(D=!0,V="g"):CL[V]||($===void 0&&($=12),k=!0,V="g"),(M||b==="0"&&E==="=")&&(M=!0,b="0",E="=");var C=(y&&y.prefix!==void 0?y.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(V)?"0"+V.toLowerCase():""),j=(x==="$"?r:/[%p]/.test(V)?s:"")+(y&&y.suffix!==void 0?y.suffix:""),B=CL[V],H=/[defgprs%]/.test(V);$=$===void 0?6:/[gprs]/.test(V)?Math.max(1,Math.min(21,$)):Math.max(0,Math.min(20,$));function z(G){var q=C,ae=j,he,me,ye;if(V==="c")ae=B(G)+ae,G="";else{G=+G;var ee=G<0||1/G<0;if(G=isNaN(G)?c:B(Math.abs(G),$),k&&(G=Tce(G)),ee&&+G==0&&S!=="+"&&(ee=!1),q=(ee?S==="("?S:o:S==="-"||S==="("?"":S)+q,ae=(V==="s"&&!isNaN(G)&&P_!==void 0?kL[8+P_/3]:"")+ae+(ee&&S==="("?")":""),H){for(he=-1,me=G.length;++he<me;)if(ye=G.charCodeAt(he),48>ye||ye>57){ae=(ye===46?i+G.slice(he+1):G.slice(he))+ae,G=G.slice(0,he);break}}}D&&!M&&(G=e(G,1/0));var ge=q.length+G.length+ae.length,ie=ge<O?new Array(O-ge+1).join(b):"";switch(D&&M&&(G=e(ie+G,ie.length?O-ae.length:1/0),ie=""),E){case"<":G=q+G+ae+ie;break;case"=":G=q+ie+G+ae;break;case"^":G=ie.slice(0,ge=ie.length>>1)+q+G+ae+ie.slice(ge);break;default:G=ie+q+G+ae;break}return a(G)}return z.toString=function(){return p+""},z}function m(p,y){var b=Math.max(-8,Math.min(8,Math.floor($f(y)/3)))*3,E=Math.pow(10,-b),S=f((p=Am(p),p.type="f",p),{suffix:kL[8+b/3]});return function(x){return S(E*x)}}return{format:f,formatPrefix:m}}var Zy,PI,rF;Mce({thousands:",",grouping:[3],currency:["$",""]});function Mce(t){return Zy=Ice(t),PI=Zy.format,rF=Zy.formatPrefix,Zy}function Cce(t){return Math.max(0,-$f(Math.abs(t)))}function Oce(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($f(e)/3)))*3-$f(Math.abs(t)))}function Rce(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,$f(e)-$f(t))+1}function iF(t,e,n,r){var i=bT(t,e,n),a;switch(r=Am(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Oce(i,s))&&(r.precision=a),rF(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Rce(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Cce(i))&&(r.precision=a-(r.type==="%")*2);break}}return PI(r)}function Ml(t){var e=t.domain;return t.ticks=function(n){var r=e();return _T(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return iF(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],c,f,m=10;for(o<s&&(f=s,s=o,o=f,f=i,i=a,a=f);m-- >0;){if(f=wT(s,o,n),f===c)return r[i]=s,r[a]=o,e(r);if(f>0)s=Math.floor(s/f)*f,o=Math.ceil(o/f)*f;else if(f<0)s=Math.ceil(s*f)/f,o=Math.floor(o*f)/f;else break;c=f}return t},t}function T_(){var t=EI();return t.copy=function(){return Tg(t,T_())},La.apply(t,arguments),Ml(t)}function aF(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,E_),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return aF(t).unknown(e)},t=arguments.length?Array.from(t,E_):[0,1],Ml(n)}function sF(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function NL(t){return Math.log(t)}function LL(t){return Math.exp(t)}function kce(t){return-Math.log(-t)}function Nce(t){return-Math.exp(-t)}function Lce(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Dce(t){return t===10?Lce:t===Math.E?Math.exp:e=>Math.pow(t,e)}function jce(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function DL(t){return(e,n)=>-t(-e,n)}function TI(t){const e=t(NL,LL),n=e.domain;let r=10,i,a;function s(){return i=jce(r),a=Dce(r),n()[0]<0?(i=DL(i),a=DL(a),t(kce,Nce)):t(NL,LL),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const c=n();let f=c[0],m=c[c.length-1];const p=m<f;p&&([f,m]=[m,f]);let y=i(f),b=i(m),E,S;const x=o==null?10:+o;let M=[];if(!(r%1)&&b-y<x){if(y=Math.floor(y),b=Math.ceil(b),f>0){for(;y<=b;++y)for(E=1;E<r;++E)if(S=y<0?E/a(-y):E*a(y),!(S<f)){if(S>m)break;M.push(S)}}else for(;y<=b;++y)for(E=r-1;E>=1;--E)if(S=y>0?E/a(-y):E*a(y),!(S<f)){if(S>m)break;M.push(S)}M.length*2<x&&(M=_T(f,m,x))}else M=_T(y,b,Math.min(b-y,x)).map(a);return p?M.reverse():M},e.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Am(c)).precision==null&&(c.trim=!0),c=PI(c)),o===1/0)return c;const f=Math.max(1,r*o/e.ticks().length);return m=>{let p=m/a(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=f?c(m):""}},e.nice=()=>n(sF(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function oF(){const t=TI(r1()).domain([1,10]);return t.copy=()=>Tg(t,oF()).base(t.base()),La.apply(t,arguments),t}function jL(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function VL(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function AI(t){var e=1,n=t(jL(e),VL(e));return n.constant=function(r){return arguments.length?t(jL(e=+r),VL(e)):e},Ml(n)}function uF(){var t=AI(r1());return t.copy=function(){return Tg(t,uF()).constant(t.constant())},La.apply(t,arguments)}function FL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Vce(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Fce(t){return t<0?-t*t:t*t}function II(t){var e=t(ei,ei),n=1;function r(){return n===1?t(ei,ei):n===.5?t(Vce,Fce):t(FL(n),FL(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ml(e)}function MI(){var t=II(r1());return t.copy=function(){return Tg(t,MI()).exponent(t.exponent())},La.apply(t,arguments),t}function Bce(){return MI.apply(null,arguments).exponent(.5)}function BL(t){return Math.sign(t)*t*t}function $ce(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function lF(){var t=EI(),e=[0,1],n=!1,r;function i(a){var s=$ce(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(BL(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,E_)).map(BL)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return lF(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},La.apply(i,arguments),Ml(i)}function cF(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=Wle(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Sg(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(hl),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return cF().domain(t).range(e).unknown(r)},La.apply(a,arguments)}function hF(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[Sg(r,c,0,n)]:a}function o(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,o()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,o()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return hF().domain([t,e]).range(i).unknown(a)},La.apply(Ml(s),arguments)}function fF(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Sg(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return fF().domain(t).range(e).unknown(n)},La.apply(i,arguments)}const yS=new Date,vS=new Date;function Jn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const c=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return c;let f;do c.push(f=new Date(+a)),e(a,o),t(a);while(f<a&&a<s);return c},i.filter=a=>Jn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(yS.setTime(+a),vS.setTime(+s),t(yS),t(vS),Math.floor(n(yS,vS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const A_=Jn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);A_.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Jn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):A_);A_.range;const ko=1e3,Ta=ko*60,No=Ta*60,Zo=No*24,CI=Zo*7,$L=Zo*30,_S=Zo*365,Ec=Jn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ko)},(t,e)=>(e-t)/ko,t=>t.getUTCSeconds());Ec.range;const OI=Jn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ko)},(t,e)=>{t.setTime(+t+e*Ta)},(t,e)=>(e-t)/Ta,t=>t.getMinutes());OI.range;const RI=Jn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ta)},(t,e)=>(e-t)/Ta,t=>t.getUTCMinutes());RI.range;const kI=Jn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ko-t.getMinutes()*Ta)},(t,e)=>{t.setTime(+t+e*No)},(t,e)=>(e-t)/No,t=>t.getHours());kI.range;const NI=Jn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*No)},(t,e)=>(e-t)/No,t=>t.getUTCHours());NI.range;const Ag=Jn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ta)/Zo,t=>t.getDate()-1);Ag.range;const i1=Jn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zo,t=>t.getUTCDate()-1);i1.range;const dF=Jn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zo,t=>Math.floor(t/Zo));dF.range;function nh(t){return Jn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ta)/CI)}const a1=nh(0),I_=nh(1),zce=nh(2),Uce=nh(3),zf=nh(4),qce=nh(5),Gce=nh(6);a1.range;I_.range;zce.range;Uce.range;zf.range;qce.range;Gce.range;function rh(t){return Jn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/CI)}const s1=rh(0),M_=rh(1),Wce=rh(2),Hce=rh(3),Uf=rh(4),Kce=rh(5),Zce=rh(6);s1.range;M_.range;Wce.range;Hce.range;Uf.range;Kce.range;Zce.range;const LI=Jn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());LI.range;const DI=Jn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());DI.range;const Xo=Jn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Xo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Jn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Xo.range;const Yo=Jn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Yo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Jn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Yo.range;function pF(t,e,n,r,i,a){const s=[[Ec,1,ko],[Ec,5,5*ko],[Ec,15,15*ko],[Ec,30,30*ko],[a,1,Ta],[a,5,5*Ta],[a,15,15*Ta],[a,30,30*Ta],[i,1,No],[i,3,3*No],[i,6,6*No],[i,12,12*No],[r,1,Zo],[r,2,2*Zo],[n,1,CI],[e,1,$L],[e,3,3*$L],[t,1,_S]];function o(f,m,p){const y=m<f;y&&([f,m]=[m,f]);const b=p&&typeof p.range=="function"?p:c(f,m,p),E=b?b.range(f,+m+1):[];return y?E.reverse():E}function c(f,m,p){const y=Math.abs(m-f)/p,b=vI(([,,x])=>x).right(s,y);if(b===s.length)return t.every(bT(f/_S,m/_S,p));if(b===0)return A_.every(Math.max(bT(f,m,p),1));const[E,S]=s[y/s[b-1][2]<s[b][2]/y?b-1:b];return E.every(S)}return[o,c]}const[Xce,Yce]=pF(Yo,DI,s1,dF,NI,RI),[Qce,Jce]=pF(Xo,LI,a1,Ag,kI,OI);function wS(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function bS(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function lp(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function ehe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,c=t.shortMonths,f=cp(i),m=hp(i),p=cp(a),y=hp(a),b=cp(s),E=hp(s),S=cp(o),x=hp(o),M=cp(c),O=hp(c),D={a:ye,A:ee,b:ge,B:ie,c:null,d:HL,e:HL,f:Ehe,g:khe,G:Lhe,H:whe,I:bhe,j:xhe,L:mF,m:She,M:Phe,p:Y,q:ne,Q:XL,s:YL,S:The,u:Ahe,U:Ihe,V:Mhe,w:Che,W:Ohe,x:null,X:null,y:Rhe,Y:Nhe,Z:Dhe,"%":ZL},$={a:xe,A:Me,b:Oe,B:Re,c:null,d:KL,e:KL,f:Bhe,g:Xhe,G:Qhe,H:jhe,I:Vhe,j:Fhe,L:yF,m:$he,M:zhe,p:st,q:Ye,Q:XL,s:YL,S:Uhe,u:qhe,U:Ghe,V:Whe,w:Hhe,W:Khe,x:null,X:null,y:Zhe,Y:Yhe,Z:Jhe,"%":ZL},k={a:H,A:z,b:G,B:q,c:ae,d:GL,e:GL,f:ghe,g:qL,G:UL,H:WL,I:WL,j:fhe,L:mhe,m:hhe,M:dhe,p:B,q:che,Q:vhe,s:_he,S:phe,u:ahe,U:she,V:ohe,w:ihe,W:uhe,x:he,X:me,y:qL,Y:UL,Z:lhe,"%":yhe};D.x=V(n,D),D.X=V(r,D),D.c=V(e,D),$.x=V(n,$),$.X=V(r,$),$.c=V(e,$);function V(Pe,Ke){return function(rt){var be=[],xt=-1,ft=0,Xt=Pe.length,zt,Jt,Un;for(rt instanceof Date||(rt=new Date(+rt));++xt<Xt;)Pe.charCodeAt(xt)===37&&(be.push(Pe.slice(ft,xt)),(Jt=zL[zt=Pe.charAt(++xt)])!=null?zt=Pe.charAt(++xt):Jt=zt==="e"?" ":"0",(Un=Ke[zt])&&(zt=Un(rt,Jt)),be.push(zt),ft=xt+1);return be.push(Pe.slice(ft,xt)),be.join("")}}function C(Pe,Ke){return function(rt){var be=lp(1900,void 0,1),xt=j(be,Pe,rt+="",0),ft,Xt;if(xt!=rt.length)return null;if("Q"in be)return new Date(be.Q);if("s"in be)return new Date(be.s*1e3+("L"in be?be.L:0));if(Ke&&!("Z"in be)&&(be.Z=0),"p"in be&&(be.H=be.H%12+be.p*12),be.m===void 0&&(be.m="q"in be?be.q:0),"V"in be){if(be.V<1||be.V>53)return null;"w"in be||(be.w=1),"Z"in be?(ft=bS(lp(be.y,0,1)),Xt=ft.getUTCDay(),ft=Xt>4||Xt===0?M_.ceil(ft):M_(ft),ft=i1.offset(ft,(be.V-1)*7),be.y=ft.getUTCFullYear(),be.m=ft.getUTCMonth(),be.d=ft.getUTCDate()+(be.w+6)%7):(ft=wS(lp(be.y,0,1)),Xt=ft.getDay(),ft=Xt>4||Xt===0?I_.ceil(ft):I_(ft),ft=Ag.offset(ft,(be.V-1)*7),be.y=ft.getFullYear(),be.m=ft.getMonth(),be.d=ft.getDate()+(be.w+6)%7)}else("W"in be||"U"in be)&&("w"in be||(be.w="u"in be?be.u%7:"W"in be?1:0),Xt="Z"in be?bS(lp(be.y,0,1)).getUTCDay():wS(lp(be.y,0,1)).getDay(),be.m=0,be.d="W"in be?(be.w+6)%7+be.W*7-(Xt+5)%7:be.w+be.U*7-(Xt+6)%7);return"Z"in be?(be.H+=be.Z/100|0,be.M+=be.Z%100,bS(be)):wS(be)}}function j(Pe,Ke,rt,be){for(var xt=0,ft=Ke.length,Xt=rt.length,zt,Jt;xt<ft;){if(be>=Xt)return-1;if(zt=Ke.charCodeAt(xt++),zt===37){if(zt=Ke.charAt(xt++),Jt=k[zt in zL?Ke.charAt(xt++):zt],!Jt||(be=Jt(Pe,rt,be))<0)return-1}else if(zt!=rt.charCodeAt(be++))return-1}return be}function B(Pe,Ke,rt){var be=f.exec(Ke.slice(rt));return be?(Pe.p=m.get(be[0].toLowerCase()),rt+be[0].length):-1}function H(Pe,Ke,rt){var be=b.exec(Ke.slice(rt));return be?(Pe.w=E.get(be[0].toLowerCase()),rt+be[0].length):-1}function z(Pe,Ke,rt){var be=p.exec(Ke.slice(rt));return be?(Pe.w=y.get(be[0].toLowerCase()),rt+be[0].length):-1}function G(Pe,Ke,rt){var be=M.exec(Ke.slice(rt));return be?(Pe.m=O.get(be[0].toLowerCase()),rt+be[0].length):-1}function q(Pe,Ke,rt){var be=S.exec(Ke.slice(rt));return be?(Pe.m=x.get(be[0].toLowerCase()),rt+be[0].length):-1}function ae(Pe,Ke,rt){return j(Pe,e,Ke,rt)}function he(Pe,Ke,rt){return j(Pe,n,Ke,rt)}function me(Pe,Ke,rt){return j(Pe,r,Ke,rt)}function ye(Pe){return s[Pe.getDay()]}function ee(Pe){return a[Pe.getDay()]}function ge(Pe){return c[Pe.getMonth()]}function ie(Pe){return o[Pe.getMonth()]}function Y(Pe){return i[+(Pe.getHours()>=12)]}function ne(Pe){return 1+~~(Pe.getMonth()/3)}function xe(Pe){return s[Pe.getUTCDay()]}function Me(Pe){return a[Pe.getUTCDay()]}function Oe(Pe){return c[Pe.getUTCMonth()]}function Re(Pe){return o[Pe.getUTCMonth()]}function st(Pe){return i[+(Pe.getUTCHours()>=12)]}function Ye(Pe){return 1+~~(Pe.getUTCMonth()/3)}return{format:function(Pe){var Ke=V(Pe+="",D);return Ke.toString=function(){return Pe},Ke},parse:function(Pe){var Ke=C(Pe+="",!1);return Ke.toString=function(){return Pe},Ke},utcFormat:function(Pe){var Ke=V(Pe+="",$);return Ke.toString=function(){return Pe},Ke},utcParse:function(Pe){var Ke=C(Pe+="",!0);return Ke.toString=function(){return Pe},Ke}}}var zL={"-":"",_:" ",0:"0"},or=/^\s*\d+/,the=/^%/,nhe=/[\\^$*+?|[\]().{}]/g;function Rt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function rhe(t){return t.replace(nhe,"\\$&")}function cp(t){return new RegExp("^(?:"+t.map(rhe).join("|")+")","i")}function hp(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function ihe(t,e,n){var r=or.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ahe(t,e,n){var r=or.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function she(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ohe(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function uhe(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function UL(t,e,n){var r=or.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function qL(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function lhe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function che(t,e,n){var r=or.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function hhe(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function GL(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function fhe(t,e,n){var r=or.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function WL(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function dhe(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function phe(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function mhe(t,e,n){var r=or.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ghe(t,e,n){var r=or.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yhe(t,e,n){var r=the.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function vhe(t,e,n){var r=or.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function _he(t,e,n){var r=or.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function HL(t,e){return Rt(t.getDate(),e,2)}function whe(t,e){return Rt(t.getHours(),e,2)}function bhe(t,e){return Rt(t.getHours()%12||12,e,2)}function xhe(t,e){return Rt(1+Ag.count(Xo(t),t),e,3)}function mF(t,e){return Rt(t.getMilliseconds(),e,3)}function Ehe(t,e){return mF(t,e)+"000"}function She(t,e){return Rt(t.getMonth()+1,e,2)}function Phe(t,e){return Rt(t.getMinutes(),e,2)}function The(t,e){return Rt(t.getSeconds(),e,2)}function Ahe(t){var e=t.getDay();return e===0?7:e}function Ihe(t,e){return Rt(a1.count(Xo(t)-1,t),e,2)}function gF(t){var e=t.getDay();return e>=4||e===0?zf(t):zf.ceil(t)}function Mhe(t,e){return t=gF(t),Rt(zf.count(Xo(t),t)+(Xo(t).getDay()===4),e,2)}function Che(t){return t.getDay()}function Ohe(t,e){return Rt(I_.count(Xo(t)-1,t),e,2)}function Rhe(t,e){return Rt(t.getFullYear()%100,e,2)}function khe(t,e){return t=gF(t),Rt(t.getFullYear()%100,e,2)}function Nhe(t,e){return Rt(t.getFullYear()%1e4,e,4)}function Lhe(t,e){var n=t.getDay();return t=n>=4||n===0?zf(t):zf.ceil(t),Rt(t.getFullYear()%1e4,e,4)}function Dhe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Rt(e/60|0,"0",2)+Rt(e%60,"0",2)}function KL(t,e){return Rt(t.getUTCDate(),e,2)}function jhe(t,e){return Rt(t.getUTCHours(),e,2)}function Vhe(t,e){return Rt(t.getUTCHours()%12||12,e,2)}function Fhe(t,e){return Rt(1+i1.count(Yo(t),t),e,3)}function yF(t,e){return Rt(t.getUTCMilliseconds(),e,3)}function Bhe(t,e){return yF(t,e)+"000"}function $he(t,e){return Rt(t.getUTCMonth()+1,e,2)}function zhe(t,e){return Rt(t.getUTCMinutes(),e,2)}function Uhe(t,e){return Rt(t.getUTCSeconds(),e,2)}function qhe(t){var e=t.getUTCDay();return e===0?7:e}function Ghe(t,e){return Rt(s1.count(Yo(t)-1,t),e,2)}function vF(t){var e=t.getUTCDay();return e>=4||e===0?Uf(t):Uf.ceil(t)}function Whe(t,e){return t=vF(t),Rt(Uf.count(Yo(t),t)+(Yo(t).getUTCDay()===4),e,2)}function Hhe(t){return t.getUTCDay()}function Khe(t,e){return Rt(M_.count(Yo(t)-1,t),e,2)}function Zhe(t,e){return Rt(t.getUTCFullYear()%100,e,2)}function Xhe(t,e){return t=vF(t),Rt(t.getUTCFullYear()%100,e,2)}function Yhe(t,e){return Rt(t.getUTCFullYear()%1e4,e,4)}function Qhe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Uf(t):Uf.ceil(t),Rt(t.getUTCFullYear()%1e4,e,4)}function Jhe(){return"+0000"}function ZL(){return"%"}function XL(t){return+t}function YL(t){return Math.floor(+t/1e3)}var Wh,_F,wF;efe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function efe(t){return Wh=ehe(t),_F=Wh.format,Wh.parse,wF=Wh.utcFormat,Wh.utcParse,Wh}function tfe(t){return new Date(t)}function nfe(t){return t instanceof Date?+t:+new Date(+t)}function jI(t,e,n,r,i,a,s,o,c,f){var m=EI(),p=m.invert,y=m.domain,b=f(".%L"),E=f(":%S"),S=f("%I:%M"),x=f("%I %p"),M=f("%a %d"),O=f("%b %d"),D=f("%B"),$=f("%Y");function k(V){return(c(V)<V?b:o(V)<V?E:s(V)<V?S:a(V)<V?x:r(V)<V?i(V)<V?M:O:n(V)<V?D:$)(V)}return m.invert=function(V){return new Date(p(V))},m.domain=function(V){return arguments.length?y(Array.from(V,nfe)):y().map(tfe)},m.ticks=function(V){var C=y();return t(C[0],C[C.length-1],V??10)},m.tickFormat=function(V,C){return C==null?k:f(C)},m.nice=function(V){var C=y();return(!V||typeof V.range!="function")&&(V=e(C[0],C[C.length-1],V??10)),V?y(sF(C,V)):m},m.copy=function(){return Tg(m,jI(t,e,n,r,i,a,s,o,c,f))},m}function rfe(){return La.apply(jI(Qce,Jce,Xo,LI,a1,Ag,kI,OI,Ec,_F).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ife(){return La.apply(jI(Xce,Yce,Yo,DI,s1,i1,NI,RI,Ec,wF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function o1(){var t=0,e=1,n,r,i,a,s=ei,o=!1,c;function f(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(a(p)-n)*i,o?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(o=!!p,f):o},f.interpolator=function(p){return arguments.length?(s=p,f):s};function m(p){return function(y){var b,E;return arguments.length?([b,E]=y,s=p(b,E),f):[s(0),s(1)]}}return f.range=m(vd),f.rangeRound=m(xI),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function Cl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function bF(){var t=Ml(o1()(ei));return t.copy=function(){return Cl(t,bF())},au.apply(t,arguments)}function xF(){var t=TI(o1()).domain([1,10]);return t.copy=function(){return Cl(t,xF()).base(t.base())},au.apply(t,arguments)}function EF(){var t=AI(o1());return t.copy=function(){return Cl(t,EF()).constant(t.constant())},au.apply(t,arguments)}function VI(){var t=II(o1());return t.copy=function(){return Cl(t,VI()).exponent(t.exponent())},au.apply(t,arguments)}function afe(){return VI.apply(null,arguments).exponent(.5)}function SF(){var t=[],e=ei;function n(r){if(r!=null&&!isNaN(r=+r))return e((Sg(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(hl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Gle(t,a/r))},n.copy=function(){return SF(e).domain(t)},au.apply(n,arguments)}function u1(){var t=0,e=.5,n=1,r=1,i,a,s,o,c,f=ei,m,p=!1,y;function b(S){return isNaN(S=+S)?y:(S=.5+((S=+m(S))-a)*(r*S<r*a?o:c),f(p?Math.max(0,Math.min(1,S)):S))}b.domain=function(S){return arguments.length?([t,e,n]=S,i=m(t=+t),a=m(e=+e),s=m(n=+n),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,b):[t,e,n]},b.clamp=function(S){return arguments.length?(p=!!S,b):p},b.interpolator=function(S){return arguments.length?(f=S,b):f};function E(S){return function(x){var M,O,D;return arguments.length?([M,O,D]=x,f=yce(S,[M,O,D]),b):[f(0),f(.5),f(1)]}}return b.range=E(vd),b.rangeRound=E(xI),b.unknown=function(S){return arguments.length?(y=S,b):y},function(S){return m=S,i=S(t),a=S(e),s=S(n),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,b}}function PF(){var t=Ml(u1()(ei));return t.copy=function(){return Cl(t,PF())},au.apply(t,arguments)}function TF(){var t=TI(u1()).domain([.1,1,10]);return t.copy=function(){return Cl(t,TF()).base(t.base())},au.apply(t,arguments)}function AF(){var t=AI(u1());return t.copy=function(){return Cl(t,AF()).constant(t.constant())},au.apply(t,arguments)}function FI(){var t=II(u1());return t.copy=function(){return Cl(t,FI()).exponent(t.exponent())},au.apply(t,arguments)}function sfe(){return FI.apply(null,arguments).exponent(.5)}const QL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Em,scaleDiverging:PF,scaleDivergingLog:TF,scaleDivergingPow:FI,scaleDivergingSqrt:sfe,scaleDivergingSymlog:AF,scaleIdentity:aF,scaleImplicit:xT,scaleLinear:T_,scaleLog:oF,scaleOrdinal:_I,scalePoint:Gp,scalePow:MI,scaleQuantile:cF,scaleQuantize:hF,scaleRadial:lF,scaleSequential:bF,scaleSequentialLog:xF,scaleSequentialPow:VI,scaleSequentialQuantile:SF,scaleSequentialSqrt:afe,scaleSequentialSymlog:EF,scaleSqrt:Bce,scaleSymlog:uF,scaleThreshold:fF,scaleTime:rfe,scaleUtc:ife,tickFormat:iF},Symbol.toStringTag,{value:"Module"}));var xS,JL;function IF(){if(JL)return xS;JL=1;var t=pd();function e(n,r,i){for(var a=-1,s=n.length;++a<s;){var o=n[a],c=r(o);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,m=o}return m}return xS=e,xS}var ES,eD;function ofe(){if(eD)return ES;eD=1;function t(e,n){return e>n}return ES=t,ES}var SS,tD;function ufe(){if(tD)return SS;tD=1;var t=IF(),e=ofe(),n=gd();function r(i){return i&&i.length?t(i,n,e):void 0}return SS=r,SS}var lfe=ufe();const l1=Zt(lfe);var PS,nD;function cfe(){if(nD)return PS;nD=1;function t(e,n){return e<n}return PS=t,PS}var TS,rD;function hfe(){if(rD)return TS;rD=1;var t=IF(),e=cfe(),n=gd();function r(i){return i&&i.length?t(i,n,e):void 0}return TS=r,TS}var ffe=hfe();const c1=Zt(ffe);var AS,iD;function dfe(){if(iD)return AS;iD=1;var t=eI(),e=Il(),n=jV(),r=Ei();function i(a,s){var o=r(a)?t:n;return o(a,e(s,3))}return AS=i,AS}var IS,aD;function pfe(){if(aD)return IS;aD=1;var t=LV(),e=dfe();function n(r,i){return t(e(r,i),1)}return IS=n,IS}var mfe=pfe();const gfe=Zt(mfe);var MS,sD;function yfe(){if(sD)return MS;sD=1;var t=dI();function e(n,r){return t(n,r)}return MS=e,MS}var vfe=yfe();const h1=Zt(vfe);var _d=1e9,_fe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$I,dn=!0,ka="[DecimalError] ",kc=ka+"Invalid argument: ",BI=ka+"Exponent out of range: ",wd=Math.floor,pc=Math.pow,wfe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fi,sr=1e7,sn=7,MF=9007199254740991,C_=wd(MF/sn),qe={};qe.absoluteValue=qe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};qe.comparedTo=qe.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};qe.decimalPlaces=qe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*sn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};qe.dividedBy=qe.div=function(t){return Fo(this,new this.constructor(t))};qe.dividedToIntegerBy=qe.idiv=function(t){var e=this,n=e.constructor;return Qt(Fo(e,new n(t),0,1),n.precision)};qe.equals=qe.eq=function(t){return!this.cmp(t)};qe.exponent=function(){return $n(this)};qe.greaterThan=qe.gt=function(t){return this.cmp(t)>0};qe.greaterThanOrEqualTo=qe.gte=function(t){return this.cmp(t)>=0};qe.isInteger=qe.isint=function(){return this.e>this.d.length-2};qe.isNegative=qe.isneg=function(){return this.s<0};qe.isPositive=qe.ispos=function(){return this.s>0};qe.isZero=function(){return this.s===0};qe.lessThan=qe.lt=function(t){return this.cmp(t)<0};qe.lessThanOrEqualTo=qe.lte=function(t){return this.cmp(t)<1};qe.logarithm=qe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Fi))throw Error(ka+"NaN");if(n.s<1)throw Error(ka+(n.s?"NaN":"-Infinity"));return n.eq(Fi)?new r(0):(dn=!1,e=Fo(Im(n,a),Im(t,a),a),dn=!0,Qt(e,i))};qe.minus=qe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?RF(e,t):CF(e,(t.s=-t.s,t))};qe.modulo=qe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ka+"NaN");return n.s?(dn=!1,e=Fo(n,t,0,1).times(t),dn=!0,n.minus(e)):Qt(new r(n),i)};qe.naturalExponential=qe.exp=function(){return OF(this)};qe.naturalLogarithm=qe.ln=function(){return Im(this)};qe.negated=qe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};qe.plus=qe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?CF(e,t):RF(e,(t.s=-t.s,t))};qe.precision=qe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(kc+t);if(e=$n(i)+1,r=i.d.length-1,n=r*sn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};qe.squareRoot=qe.sqrt=function(){var t,e,n,r,i,a,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(ka+"NaN")}for(t=$n(o),dn=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=js(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=wd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(Fo(o,a,s+2)).times(.5),js(a.d).slice(0,s)===(e=js(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Qt(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return dn=!0,Qt(r,n)};qe.times=qe.mul=function(t){var e,n,r,i,a,s,o,c,f,m=this,p=m.constructor,y=m.d,b=(t=new p(t)).d;if(!m.s||!t.s)return new p(0);for(t.s*=m.s,n=m.e+t.e,c=y.length,f=b.length,c<f&&(a=y,y=b,b=a,s=c,c=f,f=s),a=[],s=c+f,r=s;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)o=a[i]+b[r]*y[i-r-1]+e,a[i--]=o%sr|0,e=o/sr|0;a[i]=(a[i]+e)%sr|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,dn?Qt(t,p.precision):t};qe.toDecimalPlaces=qe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ws(t,0,_d),e===void 0?e=r.rounding:Ws(e,0,8),Qt(n,t+$n(n)+1,e))};qe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Zc(r,!0):(Ws(t,0,_d),e===void 0?e=i.rounding:Ws(e,0,8),r=Qt(new i(r),t+1,e),n=Zc(r,!0,t+1)),n};qe.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Zc(i):(Ws(t,0,_d),e===void 0?e=a.rounding:Ws(e,0,8),r=Qt(new a(i),t+$n(i)+1,e),n=Zc(r.abs(),!1,t+$n(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};qe.toInteger=qe.toint=function(){var t=this,e=t.constructor;return Qt(new e(t),$n(t)+1,e.rounding)};qe.toNumber=function(){return+this};qe.toPower=qe.pow=function(t){var e,n,r,i,a,s,o=this,c=o.constructor,f=12,m=+(t=new c(t));if(!t.s)return new c(Fi);if(o=new c(o),!o.s){if(t.s<1)throw Error(ka+"Infinity");return o}if(o.eq(Fi))return o;if(r=c.precision,t.eq(Fi))return Qt(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=m<0?-m:m)<=MF){for(i=new c(Fi),e=Math.ceil(r/sn+4),dn=!1;n%2&&(i=i.times(o),uD(i.d,e)),n=wd(n/2),n!==0;)o=o.times(o),uD(o.d,e);return dn=!0,t.s<0?new c(Fi).div(i):Qt(i,r)}}else if(a<0)throw Error(ka+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,dn=!1,i=t.times(Im(o,r+f)),dn=!0,i=OF(i),i.s=a,i};qe.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=$n(i),r=Zc(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ws(t,1,_d),e===void 0?e=a.rounding:Ws(e,0,8),i=Qt(new a(i),t,e),n=$n(i),r=Zc(i,t<=n||n<=a.toExpNeg,t)),r};qe.toSignificantDigits=qe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ws(t,1,_d),e===void 0?e=r.rounding:Ws(e,0,8)),Qt(new r(n),t,e)};qe.toString=qe.valueOf=qe.val=qe.toJSON=qe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=$n(t),n=t.constructor;return Zc(t,e<=n.toExpNeg||e>=n.toExpPos)};function CF(t,e){var n,r,i,a,s,o,c,f,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),dn?Qt(e,p):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,o=f.length):(r=f,i=s,o=c.length),s=Math.ceil(p/sn),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=c.length,a=f.length,o-a<0&&(a=o,r=f,f=c,c=r),n=0;a;)n=(c[--a]=c[a]+f[a]+n)/sr|0,c[a]%=sr;for(n&&(c.unshift(n),++i),o=c.length;c[--o]==0;)c.pop();return e.d=c,e.e=i,dn?Qt(e,p):e}function Ws(t,e,n){if(t!==~~t||t<e||t>n)throw Error(kc+t)}function js(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=sn-r.length,n&&(a+=Hu(n)),a+=r;s=t[e],r=s+"",n=sn-r.length,n&&(a+=Hu(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Fo=(function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%sr|0,s=a/sr|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,c;if(a!=s)c=a>s?1:-1;else for(o=c=0;o<a;o++)if(r[o]!=i[o]){c=r[o]>i[o]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*sr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,c,f,m,p,y,b,E,S,x,M,O,D,$,k,V,C,j,B=r.constructor,H=r.s==i.s?1:-1,z=r.d,G=i.d;if(!r.s)return new B(r);if(!i.s)throw Error(ka+"Division by zero");for(c=r.e-i.e,C=G.length,k=z.length,b=new B(H),E=b.d=[],f=0;G[f]==(z[f]||0);)++f;if(G[f]>(z[f]||0)&&--c,a==null?O=a=B.precision:s?O=a+($n(r)-$n(i))+1:O=a,O<0)return new B(0);if(O=O/sn+2|0,f=0,C==1)for(m=0,G=G[0],O++;(f<k||m)&&O--;f++)D=m*sr+(z[f]||0),E[f]=D/G|0,m=D%G|0;else{for(m=sr/(G[0]+1)|0,m>1&&(G=t(G,m),z=t(z,m),C=G.length,k=z.length),$=C,S=z.slice(0,C),x=S.length;x<C;)S[x++]=0;j=G.slice(),j.unshift(0),V=G[0],G[1]>=sr/2&&++V;do m=0,o=e(G,S,C,x),o<0?(M=S[0],C!=x&&(M=M*sr+(S[1]||0)),m=M/V|0,m>1?(m>=sr&&(m=sr-1),p=t(G,m),y=p.length,x=S.length,o=e(p,S,y,x),o==1&&(m--,n(p,C<y?j:G,y))):(m==0&&(o=m=1),p=G.slice()),y=p.length,y<x&&p.unshift(0),n(S,p,x),o==-1&&(x=S.length,o=e(G,S,C,x),o<1&&(m++,n(S,C<x?j:G,x))),x=S.length):o===0&&(m++,S=[0]),E[f++]=m,o&&S[0]?S[x++]=z[$]||0:(S=[z[$]],x=1);while(($++<k||S[0]!==void 0)&&O--)}return E[0]||E.shift(),b.e=c,Qt(b,s?a+$n(b)+1:a)}})();function OF(t,e){var n,r,i,a,s,o,c=0,f=0,m=t.constructor,p=m.precision;if($n(t)>16)throw Error(BI+$n(t));if(!t.s)return new m(Fi);for(dn=!1,o=p,s=new m(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(r=Math.log(pc(2,f))/Math.LN10*2+5|0,o+=r,n=i=a=new m(Fi),m.precision=o;;){if(i=Qt(i.times(t),o),n=n.times(++c),s=a.plus(Fo(i,n,o)),js(s.d).slice(0,o)===js(a.d).slice(0,o)){for(;f--;)a=Qt(a.times(a),o);return m.precision=p,e==null?(dn=!0,Qt(a,p)):a}a=s}}function $n(t){for(var e=t.e*sn,n=t.d[0];n>=10;n/=10)e++;return e}function CS(t,e,n){if(e>t.LN10.sd())throw dn=!0,n&&(t.precision=n),Error(ka+"LN10 precision limit exceeded");return Qt(new t(t.LN10),e)}function Hu(t){for(var e="";t--;)e+="0";return e}function Im(t,e){var n,r,i,a,s,o,c,f,m,p=1,y=10,b=t,E=b.d,S=b.constructor,x=S.precision;if(b.s<1)throw Error(ka+(b.s?"NaN":"-Infinity"));if(b.eq(Fi))return new S(0);if(e==null?(dn=!1,f=x):f=e,b.eq(10))return e==null&&(dn=!0),CS(S,f);if(f+=y,S.precision=f,n=js(E),r=n.charAt(0),a=$n(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=js(b.d),r=n.charAt(0),p++;a=$n(b),r>1?(b=new S("0."+n),a++):b=new S(r+"."+n.slice(1))}else return c=CS(S,f+2,x).times(a+""),b=Im(new S(r+"."+n.slice(1)),f-y).plus(c),S.precision=x,e==null?(dn=!0,Qt(b,x)):b;for(o=s=b=Fo(b.minus(Fi),b.plus(Fi),f),m=Qt(b.times(b),f),i=3;;){if(s=Qt(s.times(m),f),c=o.plus(Fo(s,new S(i),f)),js(c.d).slice(0,f)===js(o.d).slice(0,f))return o=o.times(2),a!==0&&(o=o.plus(CS(S,f+2,x).times(a+""))),o=Fo(o,new S(p),f),S.precision=x,e==null?(dn=!0,Qt(o,x)):o;o=c,i+=2}}function oD(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=wd(n/sn),t.d=[],r=(n+1)%sn,n<0&&(r+=sn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=sn;r<i;)t.d.push(+e.slice(r,r+=sn));e=e.slice(r),r=sn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),dn&&(t.e>C_||t.e<-C_))throw Error(BI+n)}else t.s=0,t.e=0,t.d=[0];return t}function Qt(t,e,n){var r,i,a,s,o,c,f,m,p=t.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=sn,i=e,f=p[m=0];else{if(m=Math.ceil((r+1)/sn),a=p.length,m>=a)return t;for(f=a=p[m],s=1;a>=10;a/=10)s++;r%=sn,i=r-sn+s}if(n!==void 0&&(a=pc(10,s-i-1),o=f/a%10|0,c=e<0||p[m+1]!==void 0||f%a,c=n<4?(o||c)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||c||n==6&&(r>0?i>0?f/pc(10,s-i):0:p[m-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(a=$n(t),p.length=1,e=e-a-1,p[0]=pc(10,(sn-e%sn)%sn),t.e=wd(-e/sn)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=m,a=1,m--):(p.length=m+1,a=pc(10,sn-r),p[m]=i>0?(f/pc(10,s-i)%pc(10,i)|0)*a:0),c)for(;;)if(m==0){(p[0]+=a)==sr&&(p[0]=1,++t.e);break}else{if(p[m]+=a,p[m]!=sr)break;p[m--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(dn&&(t.e>C_||t.e<-C_))throw Error(BI+$n(t));return t}function RF(t,e){var n,r,i,a,s,o,c,f,m,p,y=t.constructor,b=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),dn?Qt(e,b):e;if(c=t.d,p=e.d,r=e.e,f=t.e,c=c.slice(),s=f-r,s){for(m=s<0,m?(n=c,s=-s,o=p.length):(n=p,r=f,o=c.length),i=Math.max(Math.ceil(b/sn),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,o=p.length,m=i<o,m&&(o=i),i=0;i<o;i++)if(c[i]!=p[i]){m=c[i]<p[i];break}s=0}for(m&&(n=c,c=p,p=n,e.s=-e.s),o=c.length,i=p.length-o;i>0;--i)c[o++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=sr-1;--c[a],c[i]+=sr}c[i]-=p[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,dn?Qt(e,b):e):new y(0)}function Zc(t,e,n){var r,i=$n(t),a=js(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Hu(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Hu(-i-1)+a,n&&(r=n-s)>0&&(a+=Hu(r))):i>=s?(a+=Hu(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Hu(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Hu(r))),t.s<0?"-"+a:a}function uD(t,e){if(t.length>e)return t.length=e,!0}function kF(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(kc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return oD(s,a.toString())}else if(typeof a!="string")throw Error(kc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,wfe.test(a))oD(s,a);else throw Error(kc+a)}if(i.prototype=qe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=kF,i.config=i.set=bfe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function bfe(t){if(!t||typeof t!="object")throw Error(ka+"Object expected");var e,n,r,i=["precision",1,_d,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(wd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(kc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(kc+n+": "+r);return this}var $I=kF(_fe);Fi=new $I(1);const Kt=$I;function xfe(t){return Tfe(t)||Pfe(t)||Sfe(t)||Efe()}function Efe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sfe(t,e){if(t){if(typeof t=="string")return TT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TT(t,e)}}function Pfe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Tfe(t){if(Array.isArray(t))return TT(t)}function TT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Afe=function(e){return e},NF={},LF=function(e){return e===NF},lD=function(e){return function n(){return arguments.length===0||arguments.length===1&&LF(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Ife=function t(e,n){return e===1?n:lD(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==NF}).length;return s>=e?n.apply(void 0,i):t(e-s,lD(function(){for(var o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];var m=i.map(function(p){return LF(p)?c.shift():p});return n.apply(void 0,xfe(m).concat(c))}))})},f1=function(e){return Ife(e.length,e)},AT=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Mfe=f1(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Cfe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Afe;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,c){return c(o)},a.apply(void 0,arguments))}},IT=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},DF=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(o,c){return o===n[c]})||(n=a,r=e.apply(void 0,a)),r}};function Ofe(t){var e;return t===0?e=1:e=Math.floor(new Kt(t).abs().log(10).toNumber())+1,e}function Rfe(t,e,n){for(var r=new Kt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var kfe=f1(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Nfe=f1(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Lfe=f1(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const d1={rangeStep:Rfe,getDigitCount:Ofe,interpolateNumber:kfe,uninterpolateNumber:Nfe,uninterpolateTruncation:Lfe};function MT(t){return Vfe(t)||jfe(t)||jF(t)||Dfe()}function Dfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jfe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Vfe(t){if(Array.isArray(t))return CT(t)}function Mm(t,e){return $fe(t)||Bfe(t,e)||jF(t,e)||Ffe()}function Ffe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jF(t,e){if(t){if(typeof t=="string")return CT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CT(t,e)}}function CT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bfe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function $fe(t){if(Array.isArray(t))return t}function VF(t){var e=Mm(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function FF(t,e,n){if(t.lte(0))return new Kt(0);var r=d1.getDigitCount(t.toNumber()),i=new Kt(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new Kt(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=o.mul(i);return e?c:new Kt(Math.ceil(c))}function zfe(t,e,n){var r=1,i=new Kt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Kt(10).pow(d1.getDigitCount(t)-1),i=new Kt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Kt(Math.floor(t)))}else t===0?i=new Kt(Math.floor((e-1)/2)):n||(i=new Kt(Math.floor(t)));var s=Math.floor((e-1)/2),o=Cfe(Mfe(function(c){return i.add(new Kt(c-s).mul(r)).toNumber()}),AT);return o(0,e)}function BF(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Kt(0),tickMin:new Kt(0),tickMax:new Kt(0)};var a=FF(new Kt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Kt(0):(s=new Kt(t).add(e).div(2),s=s.sub(new Kt(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),c=Math.ceil(new Kt(e).sub(s).div(a).toNumber()),f=o+c+1;return f>n?BF(t,e,n,r,i+1):(f<n&&(c=e>0?c+(n-f):c,o=e>0?o:o+(n-f)),{step:a,tickMin:s.sub(new Kt(o).mul(a)),tickMax:s.add(new Kt(c).mul(a))})}function Ufe(t){var e=Mm(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=VF([n,r]),c=Mm(o,2),f=c[0],m=c[1];if(f===-1/0||m===1/0){var p=m===1/0?[f].concat(MT(AT(0,i-1).map(function(){return 1/0}))):[].concat(MT(AT(0,i-1).map(function(){return-1/0})),[m]);return n>r?IT(p):p}if(f===m)return zfe(f,i,a);var y=BF(f,m,s,a),b=y.step,E=y.tickMin,S=y.tickMax,x=d1.rangeStep(E,S.add(new Kt(.1).mul(b)),b);return n>r?IT(x):x}function qfe(t,e){var n=Mm(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=VF([r,i]),o=Mm(s,2),c=o[0],f=o[1];if(c===-1/0||f===1/0)return[r,i];if(c===f)return[c];var m=Math.max(e,2),p=FF(new Kt(f).sub(c).div(m-1),a,0),y=[].concat(MT(d1.rangeStep(new Kt(c),new Kt(f).sub(new Kt(.99).mul(p)),p)),[f]);return r>i?IT(y):y}var Gfe=DF(Ufe),Wfe=DF(qfe),Hfe="Invariant failed";function Xc(t,e){throw new Error(Hfe)}var Kfe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function O_(){return O_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O_.apply(this,arguments)}function Zfe(t,e){return Jfe(t)||Qfe(t,e)||Yfe(t,e)||Xfe()}function Xfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yfe(t,e){if(t){if(typeof t=="string")return cD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cD(t,e)}}function cD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(m){f=!0,i=m}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function Jfe(t){if(Array.isArray(t))return t}function ede(t,e){if(t==null)return{};var n=tde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UF(r.key),r)}}function ide(t,e,n){return e&&rde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ade(t,e,n){return e=R_(e),sde(t,$F()?Reflect.construct(e,n||[],R_(t).constructor):e.apply(t,n))}function sde(t,e){if(e&&(qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ode(t)}function ode(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $F(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($F=function(){return!!t})()}function R_(t){return R_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},R_(t)}function ude(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OT(t,e)}function OT(t,e){return OT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OT(t,e)}function zF(t,e,n){return e=UF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UF(t){var e=lde(t,"string");return qf(e)=="symbol"?e:e+""}function lde(t,e){if(qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ig=(function(t){function e(){return nde(this,e),ade(this,e,arguments)}return ude(e,t),ide(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,o=r.dataKey,c=r.data,f=r.dataPointFormatter,m=r.xAxis,p=r.yAxis,y=ede(r,Kfe),b=St(y,!1);this.props.direction==="x"&&m.type!=="number"&&Xc();var E=c.map(function(S){var x=f(S,o),M=x.x,O=x.y,D=x.value,$=x.errorVal;if(!$)return null;var k=[],V,C;if(Array.isArray($)){var j=Zfe($,2);V=j[0],C=j[1]}else V=C=$;if(a==="vertical"){var B=m.scale,H=O+i,z=H+s,G=H-s,q=B(D-V),ae=B(D+C);k.push({x1:ae,y1:z,x2:ae,y2:G}),k.push({x1:q,y1:H,x2:ae,y2:H}),k.push({x1:q,y1:z,x2:q,y2:G})}else if(a==="horizontal"){var he=p.scale,me=M+i,ye=me-s,ee=me+s,ge=he(D-V),ie=he(D+C);k.push({x1:ye,y1:ie,x2:ee,y2:ie}),k.push({x1:me,y1:ge,x2:me,y2:ie}),k.push({x1:ye,y1:ge,x2:ee,y2:ge})}return re.createElement(Rn,O_({className:"recharts-errorBar",key:"bar-".concat(k.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},b),k.map(function(Y){return re.createElement("line",O_({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return re.createElement(Rn,{className:"recharts-errorBars"},E)}}])})(re.Component);zF(Ig,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});zF(Ig,"displayName","ErrorBar");function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}function hD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(n),!0).forEach(function(r){cde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cde(t,e,n){return e=hde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hde(t){var e=fde(t,"string");return Cm(e)=="symbol"?e:e+""}function fde(t,e){if(Cm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qF=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=ji(n,Oc);if(!s)return null;var o=Oc.defaultProps,c=o!==void 0?uc(uc({},o),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:a==="children"?f=(r||[]).reduce(function(m,p){var y=p.item,b=p.props,E=b.sectors||b.data||[];return m.concat(E.map(function(S){return{type:s.props.iconType||y.props.legendType,value:S.name,color:S.fill,payload:S}}))},[]):f=(r||[]).map(function(m){var p=m.item,y=p.type.defaultProps,b=y!==void 0?uc(uc({},y),p.props):{},E=b.dataKey,S=b.name,x=b.legendType,M=b.hide;return{inactive:M,dataKey:E,type:c.iconType||x||"square",color:zI(p),value:S||E,payload:b}}),uc(uc(uc({},c),Oc.getWithHeight(s,i)),{},{payload:f,item:s})};function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}function fD(t){return gde(t)||mde(t)||pde(t)||dde()}function dde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pde(t,e){if(t){if(typeof t=="string")return RT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RT(t,e)}}function mde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gde(t){if(Array.isArray(t))return RT(t)}function RT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dD(Object(n),!0).forEach(function(r){wf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wf(t,e,n){return e=yde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yde(t){var e=vde(t,"string");return Om(e)=="symbol"?e:e+""}function vde(t,e){if(Om(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Om(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ui(t,e,n){return _t(t)||_t(e)?n:Xn(e)?Ca(t,e,n):gt(e)?e(t):n}function Wp(t,e,n,r){var i=gfe(t,function(o){return Ui(o,e)});if(n==="number"){var a=i.filter(function(o){return De(o)||parseFloat(o)});return a.length?[c1(a),l1(a)]:[1/0,-1/0]}var s=r?i.filter(function(o){return!_t(o)}):i;return s.map(function(o){return Xn(o)||o instanceof Date?o:""})}var _de=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r?.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,f=0;f<o;f++){var m=f>0?i[f-1].coordinate:i[o-1].coordinate,p=i[f].coordinate,y=f>=o-1?i[0].coordinate:i[f+1].coordinate,b=void 0;if(is(p-m)!==is(y-p)){var E=[];if(is(y-p)===is(c[1]-c[0])){b=y;var S=p+c[1]-c[0];E[0]=Math.min(S,(S+m)/2),E[1]=Math.max(S,(S+m)/2)}else{b=m;var x=y+c[1]-c[0];E[0]=Math.min(p,(x+p)/2),E[1]=Math.max(p,(x+p)/2)}var M=[Math.min(p,(b+p)/2),Math.max(p,(b+p)/2)];if(e>M[0]&&e<=M[1]||e>=E[0]&&e<=E[1]){s=i[f].index;break}}else{var O=Math.min(m,y),D=Math.max(m,y);if(e>(O+p)/2&&e<=(D+p)/2){s=i[f].index;break}}}else for(var $=0;$<o;$++)if($===0&&e<=(r[$].coordinate+r[$+1].coordinate)/2||$>0&&$<o-1&&e>(r[$].coordinate+r[$-1].coordinate)/2&&e<=(r[$].coordinate+r[$+1].coordinate)/2||$===o-1&&e>(r[$].coordinate+r[$-1].coordinate)/2){s=r[$].index;break}return s},zI=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Sn(Sn({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:o;break;default:c=o;break}return c},wde=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),c=0,f=o.length;c<f;c++)for(var m=a[o[c]].stackGroups,p=Object.keys(m),y=0,b=p.length;y<b;y++){var E=m[p[y]],S=E.items,x=E.cateAxisId,M=S.filter(function(C){return jo(C.type).indexOf("Bar")>=0});if(M&&M.length){var O=M[0].type.defaultProps,D=O!==void 0?Sn(Sn({},O),M[0].props):M[0].props,$=D.barSize,k=D[x];s[k]||(s[k]=[]);var V=_t($)?n:$;s[k].push({item:M[0],stackList:M.slice(1),barSize:_t(V)?void 0:Kc(V,r,0)})}}return s},bde=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,c=s.length;if(c<1)return null;var f=Kc(n,i,0,!0),m,p=[];if(s[0].barSize===+s[0].barSize){var y=!1,b=i/c,E=s.reduce(function($,k){return $+k.barSize||0},0);E+=(c-1)*f,E>=i&&(E-=(c-1)*f,f=0),E>=i&&b>0&&(y=!0,b*=.9,E=c*b);var S=(i-E)/2>>0,x={offset:S-f,size:0};m=s.reduce(function($,k){var V={item:k.item,position:{offset:x.offset+x.size+f,size:y?b:k.barSize}},C=[].concat(fD($),[V]);return x=C[C.length-1].position,k.stackList&&k.stackList.length&&k.stackList.forEach(function(j){C.push({item:j,position:x})}),C},p)}else{var M=Kc(r,i,0,!0);i-2*M-(c-1)*f<=0&&(f=0);var O=(i-2*M-(c-1)*f)/c;O>1&&(O>>=0);var D=o===+o?Math.min(O,o):O;m=s.reduce(function($,k,V){var C=[].concat(fD($),[{item:k.item,position:{offset:M+(O+f)*V+(O-D)/2,size:D}}]);return k.stackList&&k.stackList.length&&k.stackList.forEach(function(j){C.push({item:j,position:C[C.length-1].position})}),C},p)}return m},xde=function(e,n,r,i){var a=r.children,s=r.width,o=r.margin,c=s-(o.left||0)-(o.right||0),f=qF({children:a,legendWidth:c});if(f){var m=i||{},p=m.width,y=m.height,b=f.align,E=f.verticalAlign,S=f.layout;if((S==="vertical"||S==="horizontal"&&E==="middle")&&b!=="center"&&De(e[b]))return Sn(Sn({},e),{},wf({},b,e[b]+(p||0)));if((S==="horizontal"||S==="vertical"&&b==="center")&&E!=="middle"&&De(e[E]))return Sn(Sn({},e),{},wf({},E,e[E]+(y||0)))}return e},Ede=function(e,n,r){return _t(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},GF=function(e,n,r,i,a){var s=n.props.children,o=Oa(s,Ig).filter(function(f){return Ede(i,a,f.props.direction)});if(o&&o.length){var c=o.map(function(f){return f.props.dataKey});return e.reduce(function(f,m){var p=Ui(m,r);if(_t(p))return f;var y=Array.isArray(p)?[c1(p),l1(p)]:[p,p],b=c.reduce(function(E,S){var x=Ui(m,S,0),M=y[0]-Math.abs(Array.isArray(x)?x[0]:x),O=y[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(M,E[0]),Math.max(O,E[1])]},[1/0,-1/0]);return[Math.min(b[0],f[0]),Math.max(b[1],f[1])]},[1/0,-1/0])}return null},Sde=function(e,n,r,i,a){var s=n.map(function(o){return GF(e,o,r,a,i)}).filter(function(o){return!_t(o)});return s&&s.length?s.reduce(function(o,c){return[Math.min(o[0],c[0]),Math.max(o[1],c[1])]},[1/0,-1/0]):null},WF=function(e,n,r,i,a){var s=n.map(function(c){var f=c.props.dataKey;return r==="number"&&f&&GF(e,c,f,i)||Wp(e,f,r,a)});if(r==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var o={};return s.reduce(function(c,f){for(var m=0,p=f.length;m<p;m++)o[f[m]]||(o[f[m]]=!0,c.push(f[m]));return c},[])},HF=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},KF=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var a,s,o=e.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(s=!0),c.coordinate});return a||o.push(n),s||o.push(r),o},Lo=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&o?.length>=2?is(o[0]-o[1])*2*f:f,n&&(e.ticks||e.niceTicks)){var m=(e.ticks||e.niceTicks).map(function(p){var y=a?a.indexOf(p):p;return{coordinate:i(y)+f,value:p,offset:f}});return m.filter(function(p){return!bg(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,y){return{coordinate:i(p)+f,value:p,index:y,offset:f}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+f,value:p,offset:f}}):i.domain().map(function(p,y){return{coordinate:i(p)+f,value:a?a[p]:p,index:y,offset:f}})},OS=new WeakMap,Xy=function(e,n){if(typeof n!="function")return e;OS.has(e)||OS.set(e,new WeakMap);var r=OS.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Pde=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Em(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:T_(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Gp(),realScaleType:"point"}:a==="category"?{scale:Em(),realScaleType:"band"}:{scale:T_(),realScaleType:"linear"};if(Hc(i)){var c="scale".concat(X0(i));return{scale:(QL[c]||Gp)(),realScaleType:QL[c]?c:"point"}}return gt(i)?{scale:i}:{scale:Gp(),realScaleType:"point"}},pD=1e-4,Tde=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-pD,s=Math.max(i[0],i[1])+pD,o=e(n[0]),c=e(n[r-1]);(o<a||o>s||c<a||c>s)&&e.domain([n[0],n[r-1]])}},Ade=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Ide=function(e,n){if(!n||n.length!==2||!De(n[0])||!De(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!De(e[0])||e[0]<r)&&(a[0]=r),(!De(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},Mde=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,o=0;o<n;++o){var c=bg(e[o][r][1])?e[o][r][0]:e[o][r][1];c>=0?(e[o][r][0]=a,e[o][r][1]=a+c,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+c,s=e[o][r][1])}},Cde=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var o=bg(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},Ode={sign:Mde,expand:pse,none:Df,silhouette:mse,wiggle:gse,positive:Cde},Rde=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=Ode[r],s=dse().keys(i).value(function(o,c){return+Ui(o,c,0)}).order(uT).offset(a);return s(e)},kde=function(e,n,r,i,a,s){if(!e)return null;var o=s?n.reverse():n,c={},f=o.reduce(function(p,y){var b,E=(b=y.type)!==null&&b!==void 0&&b.defaultProps?Sn(Sn({},y.type.defaultProps),y.props):y.props,S=E.stackId,x=E.hide;if(x)return p;var M=E[r],O=p[M]||{hasStack:!1,stackGroups:{}};if(Xn(S)){var D=O.stackGroups[S]||{numericAxisId:r,cateAxisId:i,items:[]};D.items.push(y),O.hasStack=!0,O.stackGroups[S]=D}else O.stackGroups[xg("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[y]};return Sn(Sn({},p),{},wf({},M,O))},c),m={};return Object.keys(f).reduce(function(p,y){var b=f[y];if(b.hasStack){var E={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(S,x){var M=b.stackGroups[x];return Sn(Sn({},S),{},wf({},x,{numericAxisId:r,cateAxisId:i,items:M.items,stackedData:Rde(e,M.items,a)}))},E)}return Sn(Sn({},p),{},wf({},y,b))},m)},Nde=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,o=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var m=Gfe(f,a,o);return e.domain([c1(m),l1(m)]),{niceTicks:m}}if(a&&i==="number"){var p=e.domain(),y=Wfe(p,a,o);return{niceTicks:y}}return null};function mD(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!_t(i[e.dataKey])){var o=a_(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=Ui(i,_t(s)?e.dataKey:s);return _t(c)?null:e.scale(c)}var gD=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var c=Ui(s,n.dataKey,n.domain[o]);return _t(c)?null:n.scale(c)-a/2+i},Lde=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},Dde=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Sn(Sn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Xn(a)){var s=n[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},jde=function(e){return e.reduce(function(n,r){return[c1(r.concat([n[0]]).filter(De)),l1(r.concat([n[1]]).filter(De))]},[1/0,-1/0])},ZF=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,c=o.reduce(function(f,m){var p=jde(m.slice(n,r+1));return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},yD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kT=function(e,n,r){if(gt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(De(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(yD.test(e[0])){var a=+yD.exec(e[0])[1];i[0]=n[0]-a}else gt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(De(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(vD.test(e[1])){var s=+vD.exec(e[1])[1];i[1]=n[1]+s}else gt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},k_=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=mI(n,function(p){return p.coordinate}),s=1/0,o=1,c=a.length;o<c;o++){var f=a[o],m=a[o-1];s=Math.min((f.coordinate||0)-(m.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},_D=function(e,n,r){return!e||!e.length||h1(e,Ca(r,"type.defaultProps.domain"))?n:e},XF=function(e,n){var r=e.type.defaultProps?Sn(Sn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,o=r.formatter,c=r.tooltipType,f=r.chartType,m=r.hide;return Sn(Sn({},St(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:zI(e),value:Ui(n,i),type:c,payload:n,chartType:f,hide:m})};function Rm(t){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rm(t)}function wD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wD(Object(n),!0).forEach(function(r){Vde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vde(t,e,n){return e=Fde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fde(t){var e=Bde(t,"string");return Rm(e)=="symbol"?e:e+""}function Bde(t,e){if(Rm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var N_=Math.PI/180,$de=function(e){return e*180/Math.PI},vr=function(e,n,r,i){return{x:e+Math.cos(-N_*i)*r,y:n+Math.sin(-N_*i)*r}},zde=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},Ude=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,o=zde({x:r,y:i},{x:a,y:s});if(o<=0)return{radius:o};var c=(r-a)/o,f=Math.acos(c);return i>s&&(f=2*Math.PI-f),{radius:o,angle:$de(f),angleInRadian:f}},qde=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},Gde=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},xD=function(e,n){var r=e.x,i=e.y,a=Ude({x:r,y:i},n),s=a.radius,o=a.angle,c=n.innerRadius,f=n.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var m=qde(n),p=m.startAngle,y=m.endAngle,b=o,E;if(p<=y){for(;b>y;)b-=360;for(;b<p;)b+=360;E=b>=p&&b<=y}else{for(;b>p;)b-=360;for(;b<y;)b+=360;E=b>=y&&b<=p}return E?bD(bD({},n),{},{radius:s,angle:Gde(b,n)}):null};function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}var Wde=["offset"];function Hde(t){return Yde(t)||Xde(t)||Zde(t)||Kde()}function Kde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zde(t,e){if(t){if(typeof t=="string")return NT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NT(t,e)}}function Xde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yde(t){if(Array.isArray(t))return NT(t)}function NT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qde(t,e){if(t==null)return{};var n=Jde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ED(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ED(Object(n),!0).forEach(function(r){epe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function epe(t,e,n){return e=tpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tpe(t){var e=npe(t,"string");return km(e)=="symbol"?e:e+""}function npe(t,e){if(km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nm(){return Nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nm.apply(this,arguments)}var rpe=function(e){var n=e.value,r=e.formatter,i=_t(e.children)?n:e.children;return gt(r)?r(i):i},ipe=function(e,n){var r=is(n-e),i=Math.min(Math.abs(n-e),360);return r*i},ape=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,c=a,f=c.cx,m=c.cy,p=c.innerRadius,y=c.outerRadius,b=c.startAngle,E=c.endAngle,S=c.clockWise,x=(p+y)/2,M=ipe(b,E),O=M>=0?1:-1,D,$;i==="insideStart"?(D=b+O*s,$=S):i==="insideEnd"?(D=E-O*s,$=!S):i==="end"&&(D=E+O*s,$=S),$=M<=0?$:!$;var k=vr(f,m,x,D),V=vr(f,m,x,D+($?1:-1)*359),C="M".concat(k.x,",").concat(k.y,`
    A`).concat(x,",").concat(x,",0,1,").concat($?0:1,`,
    `).concat(V.x,",").concat(V.y),j=_t(e.id)?xg("recharts-radial-line-"):e.id;return re.createElement("text",Nm({},r,{dominantBaseline:"central",className:Mt("recharts-radial-bar-label",o)}),re.createElement("defs",null,re.createElement("path",{id:j,d:C})),re.createElement("textPath",{xlinkHref:"#".concat(j)},n))},spe=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,o=a.cy,c=a.innerRadius,f=a.outerRadius,m=a.startAngle,p=a.endAngle,y=(m+p)/2;if(i==="outside"){var b=vr(s,o,f+r,y),E=b.x,S=b.y;return{x:E,y:S,textAnchor:E>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var x=(c+f)/2,M=vr(s,o,x,y),O=M.x,D=M.y;return{x:O,y:D,textAnchor:"middle",verticalAnchor:"middle"}},ope=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,o=s.x,c=s.y,f=s.width,m=s.height,p=m>=0?1:-1,y=p*i,b=p>0?"end":"start",E=p>0?"start":"end",S=f>=0?1:-1,x=S*i,M=S>0?"end":"start",O=S>0?"start":"end";if(a==="top"){var D={x:o+f/2,y:c-p*i,textAnchor:"middle",verticalAnchor:b};return Zn(Zn({},D),r?{height:Math.max(c-r.y,0),width:f}:{})}if(a==="bottom"){var $={x:o+f/2,y:c+m+y,textAnchor:"middle",verticalAnchor:E};return Zn(Zn({},$),r?{height:Math.max(r.y+r.height-(c+m),0),width:f}:{})}if(a==="left"){var k={x:o-x,y:c+m/2,textAnchor:M,verticalAnchor:"middle"};return Zn(Zn({},k),r?{width:Math.max(k.x-r.x,0),height:m}:{})}if(a==="right"){var V={x:o+f+x,y:c+m/2,textAnchor:O,verticalAnchor:"middle"};return Zn(Zn({},V),r?{width:Math.max(r.x+r.width-V.x,0),height:m}:{})}var C=r?{width:f,height:m}:{};return a==="insideLeft"?Zn({x:o+x,y:c+m/2,textAnchor:O,verticalAnchor:"middle"},C):a==="insideRight"?Zn({x:o+f-x,y:c+m/2,textAnchor:M,verticalAnchor:"middle"},C):a==="insideTop"?Zn({x:o+f/2,y:c+y,textAnchor:"middle",verticalAnchor:E},C):a==="insideBottom"?Zn({x:o+f/2,y:c+m-y,textAnchor:"middle",verticalAnchor:b},C):a==="insideTopLeft"?Zn({x:o+x,y:c+y,textAnchor:O,verticalAnchor:E},C):a==="insideTopRight"?Zn({x:o+f-x,y:c+y,textAnchor:M,verticalAnchor:E},C):a==="insideBottomLeft"?Zn({x:o+x,y:c+m-y,textAnchor:O,verticalAnchor:b},C):a==="insideBottomRight"?Zn({x:o+f-x,y:c+m-y,textAnchor:M,verticalAnchor:b},C):md(a)&&(De(a.x)||bc(a.x))&&(De(a.y)||bc(a.y))?Zn({x:o+Kc(a.x,f),y:c+Kc(a.y,m),textAnchor:"end",verticalAnchor:"end"},C):Zn({x:o+f/2,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},C)},upe=function(e){return"cx"in e&&De(e.cx)};function Nr(t){var e=t.offset,n=e===void 0?5:e,r=Qde(t,Wde),i=Zn({offset:n},r),a=i.viewBox,s=i.position,o=i.value,c=i.children,f=i.content,m=i.className,p=m===void 0?"":m,y=i.textBreakAll;if(!a||_t(o)&&_t(c)&&!Z.isValidElement(f)&&!gt(f))return null;if(Z.isValidElement(f))return Z.cloneElement(f,i);var b;if(gt(f)){if(b=Z.createElement(f,i),Z.isValidElement(b))return b}else b=rpe(i);var E=upe(a),S=St(i,!0);if(E&&(s==="insideStart"||s==="insideEnd"||s==="end"))return ape(i,b,S);var x=E?spe(i):ope(i);return re.createElement(v_,Nm({className:Mt("recharts-label",p)},S,x,{breakAll:y}),b)}Nr.displayName="Label";var YF=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,c=e.radius,f=e.innerRadius,m=e.outerRadius,p=e.x,y=e.y,b=e.top,E=e.left,S=e.width,x=e.height,M=e.clockWise,O=e.labelViewBox;if(O)return O;if(De(S)&&De(x)){if(De(p)&&De(y))return{x:p,y,width:S,height:x};if(De(b)&&De(E))return{x:b,y:E,width:S,height:x}}return De(p)&&De(y)?{x:p,y,width:0,height:0}:De(n)&&De(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:m||c||o||0,clockWise:M}:e.viewBox?e.viewBox:{}},lpe=function(e,n){return e?e===!0?re.createElement(Nr,{key:"label-implicit",viewBox:n}):Xn(e)?re.createElement(Nr,{key:"label-implicit",viewBox:n,value:e}):Z.isValidElement(e)?e.type===Nr?Z.cloneElement(e,{key:"label-implicit",viewBox:n}):re.createElement(Nr,{key:"label-implicit",content:e,viewBox:n}):gt(e)?re.createElement(Nr,{key:"label-implicit",content:e,viewBox:n}):md(e)?re.createElement(Nr,Nm({viewBox:n},e,{key:"label-implicit"})):null:null},cpe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=YF(e),s=Oa(i,Nr).map(function(c,f){return Z.cloneElement(c,{viewBox:n||a,key:"label-".concat(f)})});if(!r)return s;var o=lpe(e.label,n||a);return[o].concat(Hde(s))};Nr.parseViewBox=YF;Nr.renderCallByParent=cpe;var RS,SD;function hpe(){if(SD)return RS;SD=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return RS=t,RS}var fpe=hpe();const dpe=Zt(fpe);function Lm(t){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(t)}var ppe=["valueAccessor"],mpe=["data","dataKey","clockWise","id","textBreakAll"];function gpe(t){return wpe(t)||_pe(t)||vpe(t)||ype()}function ype(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vpe(t,e){if(t){if(typeof t=="string")return LT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LT(t,e)}}function _pe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wpe(t){if(Array.isArray(t))return LT(t)}function LT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L_.apply(this,arguments)}function PD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PD(Object(n),!0).forEach(function(r){bpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bpe(t,e,n){return e=xpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xpe(t){var e=Epe(t,"string");return Lm(e)=="symbol"?e:e+""}function Epe(t,e){if(Lm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AD(t,e){if(t==null)return{};var n=Spe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Spe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ppe=function(e){return Array.isArray(e.value)?dpe(e.value):e.value};function fl(t){var e=t.valueAccessor,n=e===void 0?Ppe:e,r=AD(t,ppe),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,c=r.textBreakAll,f=AD(r,mpe);return!i||!i.length?null:re.createElement(Rn,{className:"recharts-label-list"},i.map(function(m,p){var y=_t(a)?n(m,p):Ui(m&&m.payload,a),b=_t(o)?{}:{id:"".concat(o,"-").concat(p)};return re.createElement(Nr,L_({},St(m,!0),f,b,{parentViewBox:m.parentViewBox,value:y,textBreakAll:c,viewBox:Nr.parseViewBox(_t(s)?m:TD(TD({},m),{},{clockWise:s})),key:"label-".concat(p),index:p}))}))}fl.displayName="LabelList";function Tpe(t,e){return t?t===!0?re.createElement(fl,{key:"labelList-implicit",data:e}):re.isValidElement(t)||gt(t)?re.createElement(fl,{key:"labelList-implicit",data:e,content:t}):md(t)?re.createElement(fl,L_({data:e},t,{key:"labelList-implicit"})):null:null}function Ape(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Oa(r,fl).map(function(s,o){return Z.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var a=Tpe(t.label,e);return[a].concat(gpe(i))}fl.renderCallByParent=Ape;function Dm(t){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(t)}function DT(){return DT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DT.apply(this,arguments)}function ID(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(n),!0).forEach(function(r){Ipe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ipe(t,e,n){return e=Mpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mpe(t){var e=Cpe(t,"string");return Dm(e)=="symbol"?e:e+""}function Cpe(t,e){if(Dm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ope=function(e,n){var r=is(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Yy=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,m=c*(o?1:-1)+i,p=Math.asin(c/m)/N_,y=f?a:a+s*p,b=vr(n,r,m,y),E=vr(n,r,i,y),S=f?a-s*p:a,x=vr(n,r,m*Math.cos(p*N_),S);return{center:b,circleTangency:E,lineTangency:x,theta:p}},QF=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,c=Ope(s,o),f=s+c,m=vr(n,r,a,s),p=vr(n,r,a,f),y="M ".concat(m.x,",").concat(m.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var b=vr(n,r,i,s),E=vr(n,r,i,f);y+="L ".concat(E.x,",").concat(E.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else y+="L ".concat(n,",").concat(r," Z");return y},Rpe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,m=e.endAngle,p=is(m-f),y=Yy({cx:n,cy:r,radius:a,angle:f,sign:p,cornerRadius:s,cornerIsExternal:c}),b=y.circleTangency,E=y.lineTangency,S=y.theta,x=Yy({cx:n,cy:r,radius:a,angle:m,sign:-p,cornerRadius:s,cornerIsExternal:c}),M=x.circleTangency,O=x.lineTangency,D=x.theta,$=c?Math.abs(f-m):Math.abs(f-m)-S-D;if($<0)return o?"M ".concat(E.x,",").concat(E.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):QF({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:m});var k="M ".concat(E.x,",").concat(E.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,").concat(+($>180),",").concat(+(p<0),",").concat(M.x,",").concat(M.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(O.x,",").concat(O.y,`
  `);if(i>0){var V=Yy({cx:n,cy:r,radius:i,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),C=V.circleTangency,j=V.lineTangency,B=V.theta,H=Yy({cx:n,cy:r,radius:i,angle:m,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),z=H.circleTangency,G=H.lineTangency,q=H.theta,ae=c?Math.abs(f-m):Math.abs(f-m)-B-q;if(ae<0&&s===0)return"".concat(k,"L").concat(n,",").concat(r,"Z");k+="L".concat(G.x,",").concat(G.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(z.x,",").concat(z.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(ae>180),",").concat(+(p>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(j.x,",").concat(j.y,"Z")}else k+="L".concat(n,",").concat(r,"Z");return k},kpe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JF=function(e){var n=MD(MD({},kpe),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,c=n.forceCornerRadius,f=n.cornerIsExternal,m=n.startAngle,p=n.endAngle,y=n.className;if(s<a||m===p)return null;var b=Mt("recharts-sector",y),E=s-a,S=Kc(o,E,0,!0),x;return S>0&&Math.abs(m-p)<360?x=Rpe({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(S,E/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:m,endAngle:p}):x=QF({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:m,endAngle:p}),re.createElement("path",DT({},St(n,!0),{className:b,d:x,role:"img"}))};function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}function jT(){return jT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jT.apply(this,arguments)}function CD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CD(Object(n),!0).forEach(function(r){Npe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Npe(t,e,n){return e=Lpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lpe(t){var e=Dpe(t,"string");return jm(e)=="symbol"?e:e+""}function Dpe(t,e){if(jm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RD={curveBasisClosed:nse,curveBasisOpen:rse,curveBasis:tse,curveBumpX:$ae,curveBumpY:zae,curveLinearClosed:ise,curveLinear:Q0,curveMonotoneX:ase,curveMonotoneY:sse,curveNatural:ose,curveStep:use,curveStepAfter:cse,curveStepBefore:lse},Qy=function(e){return e.x===+e.x&&e.y===+e.y},fp=function(e){return e.x},dp=function(e){return e.y},jpe=function(e,n){if(gt(e))return e;var r="curve".concat(X0(e));return(r==="curveMonotone"||r==="curveBump")&&n?RD["".concat(r).concat(n==="vertical"?"Y":"X")]:RD[r]||Q0},Vpe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,c=e.connectNulls,f=c===void 0?!1:c,m=jpe(r,o),p=f?a.filter(function(S){return Qy(S)}):a,y;if(Array.isArray(s)){var b=f?s.filter(function(S){return Qy(S)}):s,E=p.map(function(S,x){return OD(OD({},S),{},{base:b[x]})});return o==="vertical"?y=Uy().y(dp).x1(fp).x0(function(S){return S.base.x}):y=Uy().x(fp).y1(dp).y0(function(S){return S.base.y}),y.defined(Qy).curve(m),y(E)}return o==="vertical"&&De(s)?y=Uy().y(dp).x1(fp).x0(s):De(s)?y=Uy().x(fp).y1(dp).y0(s):y=iV().x(fp).y(dp),y.defined(Qy).curve(m),y(p)},VT=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?Vpe(e):i;return Z.createElement("path",jT({},St(e,!1),s_(e),{className:Mt("recharts-curve",n),d:s,ref:a}))},kS={exports:{}},NS,kD;function Fpe(){if(kD)return NS;kD=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return NS=t,NS}var LS,ND;function Bpe(){if(ND)return LS;ND=1;var t=Fpe();function e(){}function n(){}return n.resetWarningCache=e,LS=function(){function r(s,o,c,f,m,p){if(p!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},LS}var LD;function $pe(){return LD||(LD=1,kS.exports=Bpe()()),kS.exports}var zpe=$pe();const Ft=Zt(zpe),{getOwnPropertyNames:Upe,getOwnPropertySymbols:qpe}=Object,{hasOwnProperty:Gpe}=Object.prototype;function DS(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Jy(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);const c=t(n,r,i);return a.delete(n),a.delete(r),c}}function Wpe(t){return t?.[Symbol.toStringTag]}function DD(t){return Upe(t).concat(qpe(t))}const Hpe=Object.hasOwn||((t,e)=>Gpe.call(t,e));function ih(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Kpe="__v",Zpe="__o",Xpe="_owner",{getOwnPropertyDescriptor:jD,keys:VD}=Object;function Ype(t,e){return t.byteLength===e.byteLength&&D_(new Uint8Array(t),new Uint8Array(e))}function Qpe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Jpe(t,e){return t.byteLength===e.byteLength&&D_(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function eme(t,e){return ih(t.getTime(),e.getTime())}function tme(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function nme(t,e){return t===e}function FD(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let s,o,c=0;for(;(s=a.next())&&!s.done;){const f=e.entries();let m=!1,p=0;for(;(o=f.next())&&!o.done;){if(i[p]){p++;continue}const y=s.value,b=o.value;if(n.equals(y[0],b[0],c,p,t,e,n)&&n.equals(y[1],b[1],y[0],b[0],t,e,n)){m=i[p]=!0;break}p++}if(!m)return!1;c++}return!0}const rme=ih;function ime(t,e,n){const r=VD(t);let i=r.length;if(VD(e).length!==i)return!1;for(;i-- >0;)if(!eB(t,e,n,r[i]))return!1;return!0}function pp(t,e,n){const r=DD(t);let i=r.length;if(DD(e).length!==i)return!1;let a,s,o;for(;i-- >0;)if(a=r[i],!eB(t,e,n,a)||(s=jD(t,a),o=jD(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function ame(t,e){return ih(t.valueOf(),e.valueOf())}function sme(t,e){return t.source===e.source&&t.flags===e.flags}function BD(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let s,o;for(;(s=a.next())&&!s.done;){const c=e.values();let f=!1,m=0;for(;(o=c.next())&&!o.done;){if(!i[m]&&n.equals(s.value,o.value,s.value,o.value,t,e,n)){f=i[m]=!0;break}m++}if(!f)return!1}return!0}function D_(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function ome(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function eB(t,e,n,r){return(r===Xpe||r===Zpe||r===Kpe)&&(t.$$typeof||e.$$typeof)?!0:Hpe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const ume="[object ArrayBuffer]",lme="[object Arguments]",cme="[object Boolean]",hme="[object DataView]",fme="[object Date]",dme="[object Error]",pme="[object Map]",mme="[object Number]",gme="[object Object]",yme="[object RegExp]",vme="[object Set]",_me="[object String]",wme={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},bme="[object URL]",xme=Object.prototype.toString;function Eme({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:o,areObjectsEqual:c,arePrimitiveWrappersEqual:f,areRegExpsEqual:m,areSetsEqual:p,areTypedArraysEqual:y,areUrlsEqual:b,unknownTagComparators:E}){return function(x,M,O){if(x===M)return!0;if(x==null||M==null)return!1;const D=typeof x;if(D!==typeof M)return!1;if(D!=="object")return D==="number"?o(x,M,O):D==="function"?a(x,M,O):!1;const $=x.constructor;if($!==M.constructor)return!1;if($===Object)return c(x,M,O);if(Array.isArray(x))return e(x,M,O);if($===Date)return r(x,M,O);if($===RegExp)return m(x,M,O);if($===Map)return s(x,M,O);if($===Set)return p(x,M,O);const k=xme.call(x);if(k===fme)return r(x,M,O);if(k===yme)return m(x,M,O);if(k===pme)return s(x,M,O);if(k===vme)return p(x,M,O);if(k===gme)return typeof x.then!="function"&&typeof M.then!="function"&&c(x,M,O);if(k===bme)return b(x,M,O);if(k===dme)return i(x,M,O);if(k===lme)return c(x,M,O);if(wme[k])return y(x,M,O);if(k===ume)return t(x,M,O);if(k===hme)return n(x,M,O);if(k===cme||k===mme||k===_me)return f(x,M,O);if(E){let V=E[k];if(!V){const C=Wpe(x);C&&(V=E[C])}if(V)return V(x,M,O)}return!1}}function Sme({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Ype,areArraysEqual:n?pp:Qpe,areDataViewsEqual:Jpe,areDatesEqual:eme,areErrorsEqual:tme,areFunctionsEqual:nme,areMapsEqual:n?DS(FD,pp):FD,areNumbersEqual:rme,areObjectsEqual:n?pp:ime,arePrimitiveWrappersEqual:ame,areRegExpsEqual:sme,areSetsEqual:n?DS(BD,pp):BD,areTypedArraysEqual:n?DS(D_,pp):D_,areUrlsEqual:ome,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Jy(r.areArraysEqual),a=Jy(r.areMapsEqual),s=Jy(r.areObjectsEqual),o=Jy(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:o})}return r}function Pme(t){return function(e,n,r,i,a,s,o){return t(e,n,o)}}function Tme({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(o,c){const{cache:f=t?new WeakMap:void 0,meta:m}=n();return e(o,c,{cache:f,equals:r,meta:m,strict:i})};if(t)return function(o,c){return e(o,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(o,c){return e(o,c,a)}}const Ame=Ol();Ol({strict:!0});Ol({circular:!0});Ol({circular:!0,strict:!0});Ol({createInternalComparator:()=>ih});Ol({strict:!0,createInternalComparator:()=>ih});Ol({circular:!0,createInternalComparator:()=>ih});Ol({circular:!0,createInternalComparator:()=>ih,strict:!0});function Ol(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=Sme(t),s=Eme(a),o=n?n(s):Pme(s);return Tme({circular:e,comparator:s,createState:r,equals:o,strict:i})}function Ime(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function $D(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):Ime(i)};requestAnimationFrame(r)}function FT(t){"@babel/helpers - typeof";return FT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FT(t)}function Mme(t){return kme(t)||Rme(t)||Ome(t)||Cme()}function Cme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ome(t,e){if(t){if(typeof t=="string")return zD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zD(t,e)}}function zD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kme(t){if(Array.isArray(t))return t}function Nme(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,o=Mme(s),c=o[0],f=o.slice(1);if(typeof c=="number"){$D(i.bind(null,f),c);return}i(c),$D(i.bind(null,f));return}FT(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Vm(t){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(t)}function UD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UD(Object(n),!0).forEach(function(r){tB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tB(t,e,n){return e=Lme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lme(t){var e=Dme(t,"string");return Vm(e)==="symbol"?e:String(e)}function Dme(t,e){if(Vm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jme=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Vme=function(e){return e},Fme=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Hp=function(e,n){return Object.keys(n).reduce(function(r,i){return qD(qD({},r),{},tB({},i,e(i,n[i])))},{})},GD=function(e,n,r){return e.map(function(i){return"".concat(Fme(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Bme(t,e){return Ume(t)||zme(t,e)||nB(t,e)||$me()}function $me(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(m){f=!0,i=m}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function Ume(t){if(Array.isArray(t))return t}function qme(t){return Hme(t)||Wme(t)||nB(t)||Gme()}function Gme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nB(t,e){if(t){if(typeof t=="string")return BT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BT(t,e)}}function Wme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hme(t){if(Array.isArray(t))return BT(t)}function BT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var j_=1e-4,rB=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},iB=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},WD=function(e,n){return function(r){var i=rB(e,n);return iB(i,r)}},Kme=function(e,n){return function(r){var i=rB(e,n),a=[].concat(qme(i.map(function(s,o){return s*o}).slice(1)),[0]);return iB(a,r)}},HD=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),m=Bme(f,4);i=m[0],a=m[1],s=m[2],o=m[3]}}}var p=WD(i,s),y=WD(a,o),b=Kme(i,s),E=function(M){return M>1?1:M<0?0:M},S=function(M){for(var O=M>1?1:M,D=O,$=0;$<8;++$){var k=p(D)-O,V=b(D);if(Math.abs(k-O)<j_||V<j_)return y(D);D=E(D-k/V)}return y(D)};return S.isStepper=!1,S},Zme=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,c=function(m,p,y){var b=-(m-p)*r,E=y*a,S=y+(b-E)*o/1e3,x=y*o/1e3+m;return Math.abs(x-p)<j_&&Math.abs(S)<j_?[p,0]:[x,S]};return c.isStepper=!0,c.dt=o,c},Xme=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return HD(i);case"spring":return Zme();default:if(i.split("(")[0]==="cubic-bezier")return HD(i)}return typeof i=="function"?i:null};function Fm(t){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fm(t)}function KD(t){return Jme(t)||Qme(t)||aB(t)||Yme()}function Yme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jme(t){if(Array.isArray(t))return zT(t)}function ZD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZD(Object(n),!0).forEach(function(r){$T(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $T(t,e,n){return e=ege(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ege(t){var e=tge(t,"string");return Fm(e)==="symbol"?e:String(e)}function tge(t,e){if(Fm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nge(t,e){return age(t)||ige(t,e)||aB(t,e)||rge()}function rge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aB(t,e){if(t){if(typeof t=="string")return zT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zT(t,e)}}function zT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ige(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(m){f=!0,i=m}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function age(t){if(Array.isArray(t))return t}var V_=function(e,n,r){return e+(n-e)*r},UT=function(e){var n=e.from,r=e.to;return n!==r},sge=function t(e,n,r){var i=Hp(function(a,s){if(UT(s)){var o=e(s.from,s.to,s.velocity),c=nge(o,2),f=c[0],m=c[1];return dr(dr({},s),{},{from:f,velocity:m})}return s},n);return r<1?Hp(function(a,s){return UT(s)?dr(dr({},s),{},{velocity:V_(s.velocity,i[a].velocity,r),from:V_(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const oge=(function(t,e,n,r,i){var a=jme(t,e),s=a.reduce(function(x,M){return dr(dr({},x),{},$T({},M,[t[M],e[M]]))},{}),o=a.reduce(function(x,M){return dr(dr({},x),{},$T({},M,{from:t[M],velocity:0,to:e[M]}))},{}),c=-1,f,m,p=function(){return null},y=function(){return Hp(function(M,O){return O.from},o)},b=function(){return!Object.values(o).filter(UT).length},E=function(M){f||(f=M);var O=M-f,D=O/n.dt;o=sge(n,o,D),i(dr(dr(dr({},t),e),y())),f=M,b()||(c=requestAnimationFrame(p))},S=function(M){m||(m=M);var O=(M-m)/r,D=Hp(function(k,V){return V_.apply(void 0,KD(V).concat([n(O)]))},s);if(i(dr(dr(dr({},t),e),D)),O<1)c=requestAnimationFrame(p);else{var $=Hp(function(k,V){return V_.apply(void 0,KD(V).concat([n(1)]))},s);i(dr(dr(dr({},t),e),$))}};return p=n.isStepper?E:S,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}});function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}var uge=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function lge(t,e){if(t==null)return{};var n=cge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cge(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function jS(t){return pge(t)||dge(t)||fge(t)||hge()}function hge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fge(t,e){if(t){if(typeof t=="string")return qT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qT(t,e)}}function dge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pge(t){if(Array.isArray(t))return qT(t)}function qT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XD(Object(n),!0).forEach(function(r){Ap(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ap(t,e,n){return e=sB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sB(r.key),r)}}function yge(t,e,n){return e&&gge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sB(t){var e=vge(t,"string");return Gf(e)==="symbol"?e:String(e)}function vge(t,e){if(Gf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GT(t,e)}function GT(t,e){return GT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GT(t,e)}function wge(t){var e=bge();return function(){var r=F_(t),i;if(e){var a=F_(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return WT(this,i)}}function WT(t,e){if(e&&(Gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HT(t)}function HT(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function F_(t){return F_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},F_(t)}var Qo=(function(t){_ge(n,t);var e=wge(n);function n(r,i){var a;mge(this,n),a=e.call(this,r,i);var s=a.props,o=s.isActive,c=s.attributeName,f=s.from,m=s.to,p=s.steps,y=s.children,b=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(HT(a)),a.changeStyle=a.changeStyle.bind(HT(a)),!o||b<=0)return a.state={style:{}},typeof y=="function"&&(a.state={style:m}),WT(a);if(p&&p.length)a.state={style:p[0].style};else if(f){if(typeof y=="function")return a.state={style:f},WT(a);a.state={style:c?Ap({},c,f):f}}else a.state={style:{}};return a}return yge(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,c=a.attributeName,f=a.shouldReAnimate,m=a.to,p=a.from,y=this.state.style;if(o){if(!s){var b={style:c?Ap({},c,m):m};this.state&&y&&(c&&y[c]!==m||!c&&y!==m)&&this.setState(b);return}if(!(Ame(i.to,m)&&i.canBegin&&i.isActive)){var E=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=E||f?p:i.to;if(this.state&&y){var x={style:c?Ap({},c,S):S};(c&&y[c]!==S||!c&&y!==S)&&this.setState(x)}this.runAnimation(Za(Za({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,c=i.duration,f=i.easing,m=i.begin,p=i.onAnimationEnd,y=i.onAnimationStart,b=oge(s,o,Xme(f),c,this.changeStyle),E=function(){a.stopJSAnimation=b()};this.manager.start([y,m,E,c,p])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,c=i.onAnimationStart,f=s[0],m=f.style,p=f.duration,y=p===void 0?0:p,b=function(S,x,M){if(M===0)return S;var O=x.duration,D=x.easing,$=D===void 0?"ease":D,k=x.style,V=x.properties,C=x.onAnimationEnd,j=M>0?s[M-1]:x,B=V||Object.keys(k);if(typeof $=="function"||$==="spring")return[].concat(jS(S),[a.runJSAnimation.bind(a,{from:j.style,to:k,duration:O,easing:$}),O]);var H=GD(B,O,$),z=Za(Za(Za({},j.style),k),{},{transition:H});return[].concat(jS(S),[z,O,C]).filter(Vme)};return this.manager.start([c].concat(jS(s.reduce(b,[m,Math.max(y,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Nme());var a=i.begin,s=i.duration,o=i.attributeName,c=i.to,f=i.easing,m=i.onAnimationStart,p=i.onAnimationEnd,y=i.steps,b=i.children,E=this.manager;if(this.unSubscribe=E.subscribe(this.handleStyleChange),typeof f=="function"||typeof b=="function"||f==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var S=o?Ap({},o,c):c,x=GD(Object.keys(S),s,f);E.start([m,a,Za(Za({},S),{},{transition:x}),s,p])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=lge(i,uge),f=Z.Children.count(a),m=this.state.style;if(typeof a=="function")return a(m);if(!o||f===0||s<=0)return a;var p=function(b){var E=b.props,S=E.style,x=S===void 0?{}:S,M=E.className,O=Z.cloneElement(b,Za(Za({},c),{},{style:Za(Za({},x),m),className:M}));return O};return f===1?p(Z.Children.only(a)):re.createElement("div",null,Z.Children.map(a,function(y){return p(y)}))}}]),n})(Z.PureComponent);Qo.displayName="Animate";Qo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Qo.propTypes={from:Ft.oneOfType([Ft.object,Ft.string]),to:Ft.oneOfType([Ft.object,Ft.string]),attributeName:Ft.string,duration:Ft.number,begin:Ft.number,easing:Ft.oneOfType([Ft.string,Ft.func]),steps:Ft.arrayOf(Ft.shape({duration:Ft.number.isRequired,style:Ft.object.isRequired,easing:Ft.oneOfType([Ft.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ft.func]),properties:Ft.arrayOf("string"),onAnimationEnd:Ft.func})),children:Ft.oneOfType([Ft.node,Ft.func]),isActive:Ft.bool,canBegin:Ft.bool,onAnimationEnd:Ft.func,shouldReAnimate:Ft.bool,onAnimationStart:Ft.func,onAnimationReStart:Ft.func};function Bm(t){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bm(t)}function B_(){return B_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B_.apply(this,arguments)}function xge(t,e){return Tge(t)||Pge(t,e)||Sge(t,e)||Ege()}function Ege(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sge(t,e){if(t){if(typeof t=="string")return YD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YD(t,e)}}function YD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(m){f=!0,i=m}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function Tge(t){if(Array.isArray(t))return t}function QD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QD(Object(n),!0).forEach(function(r){Age(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Age(t,e,n){return e=Ige(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ige(t){var e=Mge(t,"string");return Bm(e)=="symbol"?e:e+""}function Mge(t,e){if(Bm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e6=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,c=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,m;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],y=0,b=4;y<b;y++)p[y]=a[y]>s?s:a[y];m="M".concat(e,",").concat(n+o*p[0]),p[0]>0&&(m+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+c*p[0],",").concat(n)),m+="L ".concat(e+r-c*p[1],",").concat(n),p[1]>0&&(m+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(n+o*p[1])),m+="L ".concat(e+r,",").concat(n+i-o*p[2]),p[2]>0&&(m+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+r-c*p[2],",").concat(n+i)),m+="L ".concat(e+c*p[3],",").concat(n+i),p[3]>0&&(m+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(n+i-o*p[3])),m+="Z"}else if(s>0&&a===+a&&a>0){var E=Math.min(s,a);m="M ".concat(e,",").concat(n+o*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(e+c*E,",").concat(n,`
            L `).concat(e+r-c*E,",").concat(n,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(e+r,",").concat(n+o*E,`
            L `).concat(e+r,",").concat(n+i-o*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(e+r-c*E,",").concat(n+i,`
            L `).concat(e+c*E,",").concat(n+i,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(e,",").concat(n+i-o*E," Z")}else m="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return m},Cge=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,o=n.width,c=n.height;if(Math.abs(o)>0&&Math.abs(c)>0){var f=Math.min(a,a+o),m=Math.max(a,a+o),p=Math.min(s,s+c),y=Math.max(s,s+c);return r>=f&&r<=m&&i>=p&&i<=y}return!1},Oge={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},UI=function(e){var n=JD(JD({},Oge),e),r=Z.useRef(),i=Z.useState(-1),a=xge(i,2),s=a[0],o=a[1];Z.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var $=r.current.getTotalLength();$&&o($)}catch{}},[]);var c=n.x,f=n.y,m=n.width,p=n.height,y=n.radius,b=n.className,E=n.animationEasing,S=n.animationDuration,x=n.animationBegin,M=n.isAnimationActive,O=n.isUpdateAnimationActive;if(c!==+c||f!==+f||m!==+m||p!==+p||m===0||p===0)return null;var D=Mt("recharts-rectangle",b);return O?re.createElement(Qo,{canBegin:s>0,from:{width:m,height:p,x:c,y:f},to:{width:m,height:p,x:c,y:f},duration:S,animationEasing:E,isActive:O},function($){var k=$.width,V=$.height,C=$.x,j=$.y;return re.createElement(Qo,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:S,isActive:M,easing:E},re.createElement("path",B_({},St(n,!0),{className:D,d:e6(C,j,k,V,y),ref:r})))}):re.createElement("path",B_({},St(n,!0),{className:D,d:e6(c,f,m,p,y)}))};function KT(){return KT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KT.apply(this,arguments)}var qI=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=Mt("recharts-dot",a);return n===+n&&r===+r&&i===+i?Z.createElement("circle",KT({},St(e,!1),s_(e),{className:s,cx:n,cy:r,r:i})):null};function $m(t){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(t)}var Rge=["x","y","top","left","width","height","className"];function ZT(){return ZT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZT.apply(this,arguments)}function t6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t6(Object(n),!0).forEach(function(r){Nge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nge(t,e,n){return e=Lge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lge(t){var e=Dge(t,"string");return $m(e)=="symbol"?e:e+""}function Dge(t,e){if($m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jge(t,e){if(t==null)return{};var n=Vge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Fge=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},Bge=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,c=e.left,f=c===void 0?0:c,m=e.width,p=m===void 0?0:m,y=e.height,b=y===void 0?0:y,E=e.className,S=jge(e,Rge),x=kge({x:r,y:a,top:o,left:f,width:p,height:b},S);return!De(r)||!De(a)||!De(p)||!De(b)||!De(o)||!De(f)?null:re.createElement("path",ZT({},St(x,!0),{className:Mt("recharts-cross",E),d:Fge(r,a,p,b,o,f)}))},VS,n6;function $ge(){if(n6)return VS;n6=1;var t=AV(),e=t(Object.getPrototypeOf,Object);return VS=e,VS}var FS,r6;function zge(){if(r6)return FS;r6=1;var t=ru(),e=$ge(),n=iu(),r="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,o=a.hasOwnProperty,c=s.call(Object);function f(m){if(!n(m)||t(m)!=r)return!1;var p=e(m);if(p===null)return!0;var y=o.call(p,"constructor")&&p.constructor;return typeof y=="function"&&y instanceof y&&s.call(y)==c}return FS=f,FS}var Uge=zge();const qge=Zt(Uge);var BS,i6;function Gge(){if(i6)return BS;i6=1;var t=ru(),e=iu(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return BS=r,BS}var Wge=Gge();const Hge=Zt(Wge);function zm(t){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zm(t)}function $_(){return $_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$_.apply(this,arguments)}function Kge(t,e){return Qge(t)||Yge(t,e)||Xge(t,e)||Zge()}function Zge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xge(t,e){if(t){if(typeof t=="string")return a6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a6(t,e)}}function a6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(m){f=!0,i=m}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function Qge(t){if(Array.isArray(t))return t}function s6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s6(Object(n),!0).forEach(function(r){Jge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jge(t,e,n){return e=eye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eye(t){var e=tye(t,"string");return zm(e)=="symbol"?e:e+""}function tye(t,e){if(zm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u6=function(e,n,r,i,a){var s=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-s/2,",").concat(n+a),o+="L ".concat(e+r-s/2-i,",").concat(n+a),o+="L ".concat(e,",").concat(n," Z"),o},nye={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rye=function(e){var n=o6(o6({},nye),e),r=Z.useRef(),i=Z.useState(-1),a=Kge(i,2),s=a[0],o=a[1];Z.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var D=r.current.getTotalLength();D&&o(D)}catch{}},[]);var c=n.x,f=n.y,m=n.upperWidth,p=n.lowerWidth,y=n.height,b=n.className,E=n.animationEasing,S=n.animationDuration,x=n.animationBegin,M=n.isUpdateAnimationActive;if(c!==+c||f!==+f||m!==+m||p!==+p||y!==+y||m===0&&p===0||y===0)return null;var O=Mt("recharts-trapezoid",b);return M?re.createElement(Qo,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:y,x:c,y:f},to:{upperWidth:m,lowerWidth:p,height:y,x:c,y:f},duration:S,animationEasing:E,isActive:M},function(D){var $=D.upperWidth,k=D.lowerWidth,V=D.height,C=D.x,j=D.y;return re.createElement(Qo,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:S,easing:E},re.createElement("path",$_({},St(n,!0),{className:O,d:u6(C,j,$,k,V),ref:r})))}):re.createElement("g",null,re.createElement("path",$_({},St(n,!0),{className:O,d:u6(c,f,m,p,y)})))},iye=["option","shapeType","propTransformer","activeClassName","isActive"];function Um(t){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(t)}function aye(t,e){if(t==null)return{};var n=sye(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function l6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l6(Object(n),!0).forEach(function(r){oye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oye(t,e,n){return e=uye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uye(t){var e=lye(t,"string");return Um(e)=="symbol"?e:e+""}function lye(t,e){if(Um(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cye(t,e){return z_(z_({},e),t)}function hye(t,e){return t==="symbols"}function c6(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return re.createElement(UI,n);case"trapezoid":return re.createElement(rye,n);case"sector":return re.createElement(JF,n);case"symbols":if(hye(e))return re.createElement(oI,n);break;default:return null}}function fye(t){return Z.isValidElement(t)?t.props:t}function dye(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?cye:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,c=aye(t,iye),f;if(Z.isValidElement(e))f=Z.cloneElement(e,z_(z_({},c),fye(e)));else if(gt(e))f=e(c);else if(qge(e)&&!Hge(e)){var m=i(e,c);f=re.createElement(c6,{shapeType:n,elementProps:m})}else{var p=c;f=re.createElement(c6,{shapeType:n,elementProps:p})}return o?re.createElement(Rn,{className:s},f):f}function p1(t,e){return e!=null&&"trapezoids"in t.props}function m1(t,e){return e!=null&&"sectors"in t.props}function qm(t,e){return e!=null&&"points"in t.props}function pye(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function mye(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function gye(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function yye(t,e){var n;return p1(t,e)?n=pye:m1(t,e)?n=mye:qm(t,e)&&(n=gye),n}function vye(t,e){var n;return p1(t,e)?n="trapezoids":m1(t,e)?n="sectors":qm(t,e)&&(n="points"),n}function _ye(t,e){if(p1(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(m1(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return qm(t,e)?e.payload:{}}function wye(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=vye(n,e),a=_ye(n,e),s=r.filter(function(c,f){var m=h1(a,c),p=n.props[i].filter(function(E){var S=yye(n,e);return S(E,e)}),y=n.props[i].indexOf(p[p.length-1]),b=f===y;return m&&b}),o=r.indexOf(s[s.length-1]);return o}var $S,h6;function bye(){if(h6)return $S;h6=1;var t=Math.ceil,e=Math.max;function n(r,i,a,s){for(var o=-1,c=e(t((i-r)/(a||1)),0),f=Array(c);c--;)f[s?c:++o]=r,r+=a;return f}return $S=n,$S}var zS,f6;function oB(){if(f6)return zS;f6=1;var t=UV(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*n}return i===i?i:0}return zS=r,zS}var US,d6;function xye(){if(d6)return US;d6=1;var t=bye(),e=n1(),n=oB();function r(i){return function(a,s,o){return o&&typeof o!="number"&&e(a,s,o)&&(s=o=void 0),a=n(a),s===void 0?(s=a,a=0):s=n(s),o=o===void 0?a<s?1:-1:n(o),t(a,s,o,i)}}return US=r,US}var qS,p6;function Eye(){if(p6)return qS;p6=1;var t=xye(),e=t();return qS=e,qS}var Sye=Eye();const U_=Zt(Sye);function Gm(t){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gm(t)}function m6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m6(Object(n),!0).forEach(function(r){uB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uB(t,e,n){return e=Pye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pye(t){var e=Tye(t,"string");return Gm(e)=="symbol"?e:e+""}function Tye(t,e){if(Gm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Aye=["Webkit","Moz","O","ms"],Iye=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Aye.reduce(function(a,s){return g6(g6({},a),{},uB({},s+r,n))},{});return i[e]=n,i};function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function q_(){return q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q_.apply(this,arguments)}function y6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y6(Object(n),!0).forEach(function(r){Di(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cB(r.key),r)}}function Cye(t,e,n){return e&&v6(t.prototype,e),n&&v6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oye(t,e,n){return e=G_(e),Rye(t,lB()?Reflect.construct(e,n||[],G_(t).constructor):e.apply(t,n))}function Rye(t,e){if(e&&(Wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kye(t)}function kye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lB=function(){return!!t})()}function G_(t){return G_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},G_(t)}function Nye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XT(t,e)}function XT(t,e){return XT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XT(t,e)}function Di(t,e,n){return e=cB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cB(t){var e=Lye(t,"string");return Wf(e)=="symbol"?e:e+""}function Lye(t,e){if(Wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dye=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,f=Gp().domain(U_(0,c)).range([a,a+s-o]),m=f.domain().map(function(p){return f(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:m}},_6=function(e){return e.changedTouches&&!!e.changedTouches.length},Hf=(function(t){function e(n){var r;return Mye(this,e),r=Oye(this,e,[n]),Di(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Di(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Di(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s?.({endIndex:a,startIndex:o})}),r.detachDragEndListener()}),Di(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Di(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Di(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Di(r,"handleSlideDragStart",function(i){var a=_6(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Nye(e,t),Cye(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,o=this.props,c=o.gap,f=o.data,m=f.length-1,p=Math.min(i,a),y=Math.max(i,a),b=e.getIndexInRange(s,p),E=e.getIndexInRange(s,y);return{startIndex:b-b%c,endIndex:E===m?m:E-E%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,c=Ui(a[r],o,r);return gt(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,c=this.props,f=c.x,m=c.width,p=c.travellerWidth,y=c.startIndex,b=c.endIndex,E=c.onChange,S=r.pageX-a;S>0?S=Math.min(S,f+m-p-o,f+m-p-s):S<0&&(S=Math.max(S,f-s,f-o));var x=this.getIndex({startX:s+S,endX:o+S});(x.startIndex!==y||x.endIndex!==b)&&E&&E(x),this.setState({startX:s+S,endX:o+S,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=_6(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,c=i.startX,f=this.state[s],m=this.props,p=m.x,y=m.width,b=m.travellerWidth,E=m.onChange,S=m.gap,x=m.data,M={startX:this.state.startX,endX:this.state.endX},O=r.pageX-a;O>0?O=Math.min(O,p+y-b-f):O<0&&(O=Math.max(O,p-f)),M[s]=f+O;var D=this.getIndex(M),$=D.startIndex,k=D.endIndex,V=function(){var j=x.length-1;return s==="startX"&&(o>c?$%S===0:k%S===0)||o<c&&k===j||s==="endX"&&(o>c?k%S===0:$%S===0)||o>c&&k===j};this.setState(Di(Di({},s,f+O),"brushMoveStartX",r.pageX),function(){E&&V()&&E(D)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,o=s.scaleValues,c=s.startX,f=s.endX,m=this.state[i],p=o.indexOf(m);if(p!==-1){var y=p+r;if(!(y===-1||y>=o.length)){var b=o[y];i==="startX"&&b>=f||i==="endX"&&b<=c||this.setState(Di({},i,b),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,c=r.fill,f=r.stroke;return re.createElement("rect",{stroke:f,fill:c,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,c=r.data,f=r.children,m=r.padding,p=Z.Children.only(f);return p?re.cloneElement(p,{x:i,y:a,width:s,height:o,margin:m,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,o=this,c=this.props,f=c.y,m=c.travellerWidth,p=c.height,y=c.traveller,b=c.ariaLabel,E=c.data,S=c.startIndex,x=c.endIndex,M=Math.max(r,this.props.x),O=GS(GS({},St(this.props,!1)),{},{x:M,y:f,width:m,height:p}),D=b||"Min value: ".concat((a=E[S])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=E[x])===null||s===void 0?void 0:s.name);return re.createElement(Rn,{tabIndex:0,role:"slider","aria-label":D,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(k){["ArrowLeft","ArrowRight"].includes(k.key)&&(k.preventDefault(),k.stopPropagation(),o.handleTravellerMoveKeyboard(k.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,O))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,o=a.height,c=a.stroke,f=a.travellerWidth,m=Math.min(r,i)+f,p=Math.max(Math.abs(i-r)-f,0);return re.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:m,y:s,width:p,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,o=r.height,c=r.travellerWidth,f=r.stroke,m=this.state,p=m.startX,y=m.endX,b=5,E={pointerEvents:"none",fill:f};return re.createElement(Rn,{className:"recharts-brush-texts"},re.createElement(v_,q_({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,y)-b,y:s+o/2},E),this.getTextOfTick(i)),re.createElement(v_,q_({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,y)+c+b,y:s+o/2},E),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,o=r.x,c=r.y,f=r.width,m=r.height,p=r.alwaysShowText,y=this.state,b=y.startX,E=y.endX,S=y.isTextActive,x=y.isSlideMoving,M=y.isTravellerMoving,O=y.isTravellerFocused;if(!i||!i.length||!De(o)||!De(c)||!De(f)||!De(m)||f<=0||m<=0)return null;var D=Mt("recharts-brush",a),$=re.Children.count(s)===1,k=Iye("userSelect","none");return re.createElement(Rn,{className:D,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:k},this.renderBackground(),$&&this.renderPanorama(),this.renderSlide(b,E),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(E,"endX"),(S||x||M||O||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,o=r.height,c=r.stroke,f=Math.floor(a+o/2)-1;return re.createElement(re.Fragment,null,re.createElement("rect",{x:i,y:a,width:s,height:o,fill:c,stroke:"none"}),re.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),re.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return re.isValidElement(r)?a=re.cloneElement(r,i):gt(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,o=r.x,c=r.travellerWidth,f=r.updateId,m=r.startIndex,p=r.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return GS({prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:o,prevWidth:s},a&&a.length?Dye({data:a,width:s,x:o,travellerWidth:c,startIndex:m,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([o,o+s-c]);var y=i.scale.domain().map(function(b){return i.scale(b)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:o,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,o=a-1;o-s>1;){var c=Math.floor((s+o)/2);r[c]>i?o=c:s=c}return i>=r[o]?o:s}}])})(Z.PureComponent);Di(Hf,"displayName","Brush");Di(Hf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var WS,w6;function jye(){if(w6)return WS;w6=1;var t=pI();function e(n,r){var i;return t(n,function(a,s,o){return i=r(a,s,o),!i}),!!i}return WS=e,WS}var HS,b6;function Vye(){if(b6)return HS;b6=1;var t=wV(),e=Il(),n=jye(),r=Ei(),i=n1();function a(s,o,c){var f=r(s)?t:n;return c&&i(s,o,c)&&(o=void 0),f(s,e(o,3))}return HS=a,HS}var Fye=Vye();const Bye=Zt(Fye);var Us=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},KS,x6;function $ye(){if(x6)return KS;x6=1;var t=VV();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return KS=e,KS}var ZS,E6;function zye(){if(E6)return ZS;E6=1;var t=$ye(),e=DV(),n=Il();function r(i,a){var s={};return a=n(a,3),e(i,function(o,c,f){t(s,c,a(o,c,f))}),s}return ZS=r,ZS}var Uye=zye();const qye=Zt(Uye);var XS,S6;function Gye(){if(S6)return XS;S6=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return XS=t,XS}var YS,P6;function Wye(){if(P6)return YS;P6=1;var t=pI();function e(n,r){var i=!0;return t(n,function(a,s,o){return i=!!r(a,s,o),i}),i}return YS=e,YS}var QS,T6;function Hye(){if(T6)return QS;T6=1;var t=Gye(),e=Wye(),n=Il(),r=Ei(),i=n1();function a(s,o,c){var f=r(s)?t:e;return c&&i(s,o,c)&&(o=void 0),f(s,n(o,3))}return QS=a,QS}var Kye=Hye();const hB=Zt(Kye);var Zye=["x","y"];function Wm(t){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(t)}function YT(){return YT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YT.apply(this,arguments)}function A6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A6(Object(n),!0).forEach(function(r){Xye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xye(t,e,n){return e=Yye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yye(t){var e=Qye(t,"string");return Wm(e)=="symbol"?e:e+""}function Qye(t,e){if(Wm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jye(t,e){if(t==null)return{};var n=eve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tve(t,e){var n=t.x,r=t.y,i=Jye(t,Zye),a="".concat(n),s=parseInt(a,10),o="".concat(r),c=parseInt(o,10),f="".concat(e.height||i.height),m=parseInt(f,10),p="".concat(e.width||i.width),y=parseInt(p,10);return mp(mp(mp(mp(mp({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:m,width:y,name:e.name,radius:e.radius})}function I6(t){return re.createElement(dye,YT({shapeType:"rectangle",propTransformer:tve,activeClassName:"recharts-active-bar"},t))}var nve=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=De(r)||uae(r);return a?e(r,i):(a||Xc(),n)}},rve=["value","background"],fB;function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function ive(t,e){if(t==null)return{};var n=ave(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ave(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W_.apply(this,arguments)}function M6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M6(Object(n),!0).forEach(function(r){il(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pB(r.key),r)}}function ove(t,e,n){return e&&C6(t.prototype,e),n&&C6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uve(t,e,n){return e=H_(e),lve(t,dB()?Reflect.construct(e,n||[],H_(t).constructor):e.apply(t,n))}function lve(t,e){if(e&&(Kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cve(t)}function cve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dB=function(){return!!t})()}function H_(t){return H_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},H_(t)}function hve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QT(t,e)}function QT(t,e){return QT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QT(t,e)}function il(t,e,n){return e=pB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pB(t){var e=fve(t,"string");return Kf(e)=="symbol"?e:e+""}function fve(t,e){if(Kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ah=(function(t){function e(){var n;sve(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=uve(this,e,[].concat(i)),il(n,"state",{isAnimationFinished:!1}),il(n,"id",xg("recharts-bar-")),il(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),il(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return hve(e,t),ove(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.dataKey,c=a.activeIndex,f=a.activeBar,m=St(this.props,!1);return r&&r.map(function(p,y){var b=y===c,E=b?f:s,S=Fn(Fn(Fn({},m),p),{},{isActive:b,option:E,index:y,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return re.createElement(Rn,W_({className:"recharts-bar-rectangle"},o_(i.props,p,y),{key:"rectangle-".concat(p?.x,"-").concat(p?.y,"-").concat(p?.value,"-").concat(y)}),re.createElement(I6,S))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,m=i.animationEasing,p=i.animationId,y=this.state.prevData;return re.createElement(Qo,{begin:c,duration:f,isActive:o,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var E=b.t,S=a.map(function(x,M){var O=y&&y[M];if(O){var D=ts(O.x,x.x),$=ts(O.y,x.y),k=ts(O.width,x.width),V=ts(O.height,x.height);return Fn(Fn({},x),{},{x:D(E),y:$(E),width:k(E),height:V(E)})}if(s==="horizontal"){var C=ts(0,x.height),j=C(E);return Fn(Fn({},x),{},{y:x.y+x.height-j,height:j})}var B=ts(0,x.width),H=B(E);return Fn(Fn({},x),{},{width:H})});return re.createElement(Rn,null,r.renderRectanglesStatically(S))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!h1(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,c=St(this.props.background,!1);return a.map(function(f,m){f.value;var p=f.background,y=ive(f,rve);if(!p)return null;var b=Fn(Fn(Fn(Fn(Fn({},y),{},{fill:"#eee"},p),c),o_(r.props,f,m)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:m,className:"recharts-bar-background-rectangle"});return re.createElement(I6,W_({key:"background-bar-".concat(m),option:r.props.background,isActive:m===o},b))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,c=a.yAxis,f=a.layout,m=a.children,p=Oa(m,Ig);if(!p)return null;var y=f==="vertical"?s[0].height/2:s[0].width/2,b=function(x,M){var O=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:O,errorVal:Ui(x,M)}},E={clipPath:r?"url(#clipPath-".concat(i,")"):null};return re.createElement(Rn,E,p.map(function(S){return re.cloneElement(S,{key:"error-bar-".concat(i,"-").concat(S.props.dataKey),data:s,xAxis:o,yAxis:c,layout:f,offset:y,dataPointFormatter:b})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,o=r.xAxis,c=r.yAxis,f=r.left,m=r.top,p=r.width,y=r.height,b=r.isAnimationActive,E=r.background,S=r.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,M=Mt("recharts-bar",s),O=o&&o.allowDataOverflow,D=c&&c.allowDataOverflow,$=O||D,k=_t(S)?this.id:S;return re.createElement(Rn,{className:M},O||D?re.createElement("defs",null,re.createElement("clipPath",{id:"clipPath-".concat(k)},re.createElement("rect",{x:O?f:f-p/2,y:D?m:m-y/2,width:O?p:p*2,height:D?y:y*2}))):null,re.createElement(Rn,{className:"recharts-bar-rectangles",clipPath:$?"url(#clipPath-".concat(k,")"):null},E?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar($,k),(!b||x)&&fl.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(Z.PureComponent);fB=ah;il(ah,"displayName","Bar");il(ah,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!yd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});il(ah,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,m=t.dataStartIndex,p=t.displayedData,y=t.offset,b=Ade(r,n);if(!b)return null;var E=e.layout,S=n.type.defaultProps,x=S!==void 0?Fn(Fn({},S),n.props):n.props,M=x.dataKey,O=x.children,D=x.minPointSize,$=E==="horizontal"?s:a,k=f?$.scale.domain():null,V=Lde({numericAxis:$}),C=Oa(O,yI),j=p.map(function(B,H){var z,G,q,ae,he,me;f?z=Ide(f[m+H],k):(z=Ui(B,M),Array.isArray(z)||(z=[V,z]));var ye=nve(D,fB.defaultProps.minPointSize)(z[1],H);if(E==="horizontal"){var ee,ge=[s.scale(z[0]),s.scale(z[1])],ie=ge[0],Y=ge[1];G=gD({axis:a,ticks:o,bandSize:i,offset:b.offset,entry:B,index:H}),q=(ee=Y??ie)!==null&&ee!==void 0?ee:void 0,ae=b.size;var ne=ie-Y;if(he=Number.isNaN(ne)?0:ne,me={x:G,y:s.y,width:ae,height:s.height},Math.abs(ye)>0&&Math.abs(he)<Math.abs(ye)){var xe=is(he||ye)*(Math.abs(ye)-Math.abs(he));q-=xe,he+=xe}}else{var Me=[a.scale(z[0]),a.scale(z[1])],Oe=Me[0],Re=Me[1];if(G=Oe,q=gD({axis:s,ticks:c,bandSize:i,offset:b.offset,entry:B,index:H}),ae=Re-Oe,he=b.size,me={x:a.x,y:q,width:a.width,height:he},Math.abs(ye)>0&&Math.abs(ae)<Math.abs(ye)){var st=is(ae||ye)*(Math.abs(ye)-Math.abs(ae));ae+=st}}return Fn(Fn(Fn({},B),{},{x:G,y:q,width:ae,height:he,value:f?z:z[1],payload:B,background:me},C&&C[H]&&C[H].props),{},{tooltipPayload:[XF(n,B)],tooltipPosition:{x:G+ae/2,y:q+he/2}})});return Fn({data:j,layout:E},y)});function Hm(t){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(t)}function dve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mB(r.key),r)}}function pve(t,e,n){return e&&O6(t.prototype,e),n&&O6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function R6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ja(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R6(Object(n),!0).forEach(function(r){g1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g1(t,e,n){return e=mB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mB(t){var e=mve(t,"string");return Hm(e)=="symbol"?e:e+""}function mve(t,e){if(Hm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gB=function(e,n,r,i,a){var s=e.width,o=e.height,c=e.layout,f=e.children,m=Object.keys(n),p={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},y=!!ji(f,ah);return m.reduce(function(b,E){var S=n[E],x=S.orientation,M=S.domain,O=S.padding,D=O===void 0?{}:O,$=S.mirror,k=S.reversed,V="".concat(x).concat($?"Mirror":""),C,j,B,H,z;if(S.type==="number"&&(S.padding==="gap"||S.padding==="no-gap")){var G=M[1]-M[0],q=1/0,ae=S.categoricalDomain.sort(hae);if(ae.forEach(function(Me,Oe){Oe>0&&(q=Math.min((Me||0)-(ae[Oe-1]||0),q))}),Number.isFinite(q)){var he=q/G,me=S.layout==="vertical"?r.height:r.width;if(S.padding==="gap"&&(C=he*me/2),S.padding==="no-gap"){var ye=Kc(e.barCategoryGap,he*me),ee=he*me/2;C=ee-ye-(ee-ye)/me*ye}}}i==="xAxis"?j=[r.left+(D.left||0)+(C||0),r.left+r.width-(D.right||0)-(C||0)]:i==="yAxis"?j=c==="horizontal"?[r.top+r.height-(D.bottom||0),r.top+(D.top||0)]:[r.top+(D.top||0)+(C||0),r.top+r.height-(D.bottom||0)-(C||0)]:j=S.range,k&&(j=[j[1],j[0]]);var ge=Pde(S,a,y),ie=ge.scale,Y=ge.realScaleType;ie.domain(M).range(j),Tde(ie);var ne=Nde(ie,Ja(Ja({},S),{},{realScaleType:Y}));i==="xAxis"?(z=x==="top"&&!$||x==="bottom"&&$,B=r.left,H=p[V]-z*S.height):i==="yAxis"&&(z=x==="left"&&!$||x==="right"&&$,B=p[V]-z*S.width,H=r.top);var xe=Ja(Ja(Ja({},S),ne),{},{realScaleType:Y,x:B,y:H,scale:ie,width:i==="xAxis"?r.width:S.width,height:i==="yAxis"?r.height:S.height});return xe.bandSize=k_(xe,ne),!S.hide&&i==="xAxis"?p[V]+=(z?-1:1)*xe.height:S.hide||(p[V]+=(z?-1:1)*xe.width),Ja(Ja({},b),{},g1({},E,xe))},{})},yB=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},gve=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return yB({x:n,y:r},{x:i,y:a})},vB=(function(){function t(e){dve(this,t),this.scale=e}return pve(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();g1(vB,"EPS",1e-4);var GI=function(e){var n=Object.keys(e).reduce(function(r,i){return Ja(Ja({},r),{},g1({},i,vB.create(e[i])))},{});return Ja(Ja({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return qye(i,function(c,f){return n[f].apply(c,{bandAware:s,position:o})})},isInRange:function(i){return hB(i,function(a,s){return n[s].isInRange(a)})}})};function yve(t){return(t%180+180)%180}var vve=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=yve(i),s=a*Math.PI/180,o=Math.atan(r/n),c=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},JS,k6;function _ve(){if(k6)return JS;k6=1;var t=Il(),e=Eg(),n=e1();function r(i){return function(a,s,o){var c=Object(a);if(!e(a)){var f=t(s,3);a=n(a),s=function(p){return f(c[p],p,c)}}var m=i(a,s,o);return m>-1?c[f?a[m]:m]:void 0}}return JS=r,JS}var eP,N6;function wve(){if(N6)return eP;N6=1;var t=oB();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return eP=e,eP}var tP,L6;function bve(){if(L6)return tP;L6=1;var t=OV(),e=Il(),n=wve(),r=Math.max;function i(a,s,o){var c=a==null?0:a.length;if(!c)return-1;var f=o==null?0:n(o);return f<0&&(f=r(c+f,0)),t(a,e(s,3),f)}return tP=i,tP}var nP,D6;function xve(){if(D6)return nP;D6=1;var t=_ve(),e=bve(),n=t(e);return nP=n,nP}var Eve=xve();const Sve=Zt(Eve);var Pve=H7();const Tve=Zt(Pve);var Ave=Tve(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),WI=Z.createContext(void 0),HI=Z.createContext(void 0),_B=Z.createContext(void 0),wB=Z.createContext({}),bB=Z.createContext(void 0),xB=Z.createContext(0),EB=Z.createContext(0),j6=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,o=e.children,c=e.width,f=e.height,m=Ave(a);return re.createElement(WI.Provider,{value:r},re.createElement(HI.Provider,{value:i},re.createElement(wB.Provider,{value:a},re.createElement(_B.Provider,{value:m},re.createElement(bB.Provider,{value:s},re.createElement(xB.Provider,{value:f},re.createElement(EB.Provider,{value:c},o)))))))},Ive=function(){return Z.useContext(bB)},SB=function(e){var n=Z.useContext(WI);n==null&&Xc();var r=n[e];return r==null&&Xc(),r},Mve=function(){var e=Z.useContext(WI);return el(e)},Cve=function(){var e=Z.useContext(HI),n=Sve(e,function(r){return hB(r.domain,Number.isFinite)});return n||el(e)},PB=function(e){var n=Z.useContext(HI);n==null&&Xc();var r=n[e];return r==null&&Xc(),r},Ove=function(){var e=Z.useContext(_B);return e},Rve=function(){return Z.useContext(wB)},KI=function(){return Z.useContext(EB)},ZI=function(){return Z.useContext(xB)};function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function kve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AB(r.key),r)}}function Lve(t,e,n){return e&&Nve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dve(t,e,n){return e=K_(e),jve(t,TB()?Reflect.construct(e,n||[],K_(t).constructor):e.apply(t,n))}function jve(t,e){if(e&&(Zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vve(t)}function Vve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TB=function(){return!!t})()}function K_(t){return K_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K_(t)}function Fve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JT(t,e)}function JT(t,e){return JT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JT(t,e)}function V6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V6(Object(n),!0).forEach(function(r){XI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XI(t,e,n){return e=AB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AB(t){var e=Bve(t,"string");return Zf(e)=="symbol"?e:e+""}function Bve(t,e){if(Zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $ve(t,e){return Gve(t)||qve(t,e)||Uve(t,e)||zve()}function zve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uve(t,e){if(t){if(typeof t=="string")return B6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B6(t,e)}}function B6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(m){f=!0,i=m}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function Gve(t){if(Array.isArray(t))return t}function e2(){return e2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e2.apply(this,arguments)}var Wve=function(e,n){var r;return re.isValidElement(e)?r=re.cloneElement(e,n):gt(e)?r=e(n):r=re.createElement("line",e2({},n,{className:"recharts-reference-line-line"})),r},Hve=function(e,n,r,i,a,s,o,c,f){var m=a.x,p=a.y,y=a.width,b=a.height;if(r){var E=f.y,S=e.y.apply(E,{position:s});if(Us(f,"discard")&&!e.y.isInRange(S))return null;var x=[{x:m+y,y:S},{x:m,y:S}];return c==="left"?x.reverse():x}if(n){var M=f.x,O=e.x.apply(M,{position:s});if(Us(f,"discard")&&!e.x.isInRange(O))return null;var D=[{x:O,y:p+b},{x:O,y:p}];return o==="top"?D.reverse():D}if(i){var $=f.segment,k=$.map(function(V){return e.apply(V,{position:s})});return Us(f,"discard")&&Bye(k,function(V){return!e.isInRange(V)})?null:k}return null};function Kve(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,c=t.alwaysShow,f=Ive(),m=SB(i),p=PB(a),y=Ove();if(!f||!y)return null;Vo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=GI({x:m.scale,y:p.scale}),E=Xn(e),S=Xn(n),x=r&&r.length===2,M=Hve(b,E,S,x,y,t.position,m.orientation,p.orientation,t);if(!M)return null;var O=$ve(M,2),D=O[0],$=D.x,k=D.y,V=O[1],C=V.x,j=V.y,B=Us(t,"hidden")?"url(#".concat(f,")"):void 0,H=F6(F6({clipPath:B},St(t,!0)),{},{x1:$,y1:k,x2:C,y2:j});return re.createElement(Rn,{className:Mt("recharts-reference-line",o)},Wve(s,H),Nr.renderCallByParent(t,gve({x1:$,y1:k,x2:C,y2:j})))}var YI=(function(t){function e(){return kve(this,e),Dve(this,e,arguments)}return Fve(e,t),Lve(e,[{key:"render",value:function(){return re.createElement(Kve,this.props)}}])})(re.Component);XI(YI,"displayName","ReferenceLine");XI(YI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function t2(){return t2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t2.apply(this,arguments)}function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function $6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$6(Object(n),!0).forEach(function(r){y1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MB(r.key),r)}}function Yve(t,e,n){return e&&Xve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qve(t,e,n){return e=Z_(e),Jve(t,IB()?Reflect.construct(e,n||[],Z_(t).constructor):e.apply(t,n))}function Jve(t,e){if(e&&(Xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e_e(t)}function e_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IB=function(){return!!t})()}function Z_(t){return Z_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z_(t)}function t_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n2(t,e)}function n2(t,e){return n2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},n2(t,e)}function y1(t,e,n){return e=MB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MB(t){var e=n_e(t,"string");return Xf(e)=="symbol"?e:e+""}function n_e(t,e){if(Xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var r_e=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=GI({x:i.scale,y:a.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return Us(e,"discard")&&!s.isInRange(o)?null:o},v1=(function(t){function e(){return Zve(this,e),Qve(this,e,arguments)}return t_e(e,t),Yve(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,o=r.alwaysShow,c=r.clipPathId,f=Xn(i),m=Xn(a);if(Vo(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!m)return null;var p=r_e(this.props);if(!p)return null;var y=p.x,b=p.y,E=this.props,S=E.shape,x=E.className,M=Us(this.props,"hidden")?"url(#".concat(c,")"):void 0,O=z6(z6({clipPath:M},St(this.props,!0)),{},{cx:y,cy:b});return re.createElement(Rn,{className:Mt("recharts-reference-dot",x)},e.renderDot(S,O),Nr.renderCallByParent(this.props,{x:y-s,y:b-s,width:2*s,height:2*s}))}}])})(re.Component);y1(v1,"displayName","ReferenceDot");y1(v1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});y1(v1,"renderDot",function(t,e){var n;return re.isValidElement(t)?n=re.cloneElement(t,e):gt(t)?n=t(e):n=re.createElement(qI,t2({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function r2(){return r2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r2.apply(this,arguments)}function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function U6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U6(Object(n),!0).forEach(function(r){_1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OB(r.key),r)}}function s_e(t,e,n){return e&&a_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function o_e(t,e,n){return e=X_(e),u_e(t,CB()?Reflect.construct(e,n||[],X_(t).constructor):e.apply(t,n))}function u_e(t,e){if(e&&(Yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l_e(t)}function l_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CB=function(){return!!t})()}function X_(t){return X_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},X_(t)}function c_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i2(t,e)}function i2(t,e){return i2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},i2(t,e)}function _1(t,e,n){return e=OB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OB(t){var e=h_e(t,"string");return Yf(e)=="symbol"?e:e+""}function h_e(t,e){if(Yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var f_e=function(e,n,r,i,a){var s=a.x1,o=a.x2,c=a.y1,f=a.y2,m=a.xAxis,p=a.yAxis;if(!m||!p)return null;var y=GI({x:m.scale,y:p.scale}),b={x:e?y.x.apply(s,{position:"start"}):y.x.rangeMin,y:r?y.y.apply(c,{position:"start"}):y.y.rangeMin},E={x:n?y.x.apply(o,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(f,{position:"end"}):y.y.rangeMax};return Us(a,"discard")&&(!y.isInRange(b)||!y.isInRange(E))?null:yB(b,E)},w1=(function(t){function e(){return i_e(this,e),o_e(this,e,arguments)}return c_e(e,t),s_e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,o=r.y2,c=r.className,f=r.alwaysShow,m=r.clipPathId;Vo(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Xn(i),y=Xn(a),b=Xn(s),E=Xn(o),S=this.props.shape;if(!p&&!y&&!b&&!E&&!S)return null;var x=f_e(p,y,b,E,this.props);if(!x&&!S)return null;var M=Us(this.props,"hidden")?"url(#".concat(m,")"):void 0;return re.createElement(Rn,{className:Mt("recharts-reference-area",c)},e.renderRect(S,q6(q6({clipPath:M},St(this.props,!0)),x)),Nr.renderCallByParent(this.props,x))}}])})(re.Component);_1(w1,"displayName","ReferenceArea");_1(w1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_1(w1,"renderRect",function(t,e){var n;return re.isValidElement(t)?n=re.cloneElement(t,e):gt(t)?n=t(e):n=re.createElement(UI,r2({},e,{className:"recharts-reference-area-rect"})),n});function RB(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function d_e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return vve(r,n)}function p_e(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function Y_(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function m_e(t,e){return RB(t,e+1)}function g_e(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,o=e.end,c=0,f=1,m=s,p=function(){var E=r?.[c];if(E===void 0)return{v:RB(r,f)};var S=c,x,M=function(){return x===void 0&&(x=n(E,S)),x},O=E.coordinate,D=c===0||Y_(t,O,M,m,o);D||(c=0,m=s,f+=1),D&&(m=O+t*(M()/2+i),c+=f)},y;f<=a.length;)if(y=p(),y)return y.v;return[]}function Km(t){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Km(t)}function G6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G6(Object(n),!0).forEach(function(r){y_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y_e(t,e,n){return e=v_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v_e(t){var e=__e(t,"string");return Km(e)=="symbol"?e:e+""}function __e(t,e){if(Km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w_e(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=e.start,c=e.end,f=function(y){var b=a[y],E,S=function(){return E===void 0&&(E=n(b,y)),E};if(y===s-1){var x=t*(b.coordinate+t*S()/2-c);a[y]=b=Or(Or({},b),{},{tickCoord:x>0?b.coordinate-x*t:b.coordinate})}else a[y]=b=Or(Or({},b),{},{tickCoord:b.coordinate});var M=Y_(t,b.tickCoord,S,o,c);M&&(c=b.tickCoord-t*(S()/2+i),a[y]=Or(Or({},b),{},{isShow:!0}))},m=s-1;m>=0;m--)f(m);return a}function b_e(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,c=e.start,f=e.end;if(a){var m=r[o-1],p=n(m,o-1),y=t*(m.coordinate+t*p/2-f);s[o-1]=m=Or(Or({},m),{},{tickCoord:y>0?m.coordinate-y*t:m.coordinate});var b=Y_(t,m.tickCoord,function(){return p},c,f);b&&(f=m.tickCoord-t*(p/2+i),s[o-1]=Or(Or({},m),{},{isShow:!0}))}for(var E=a?o-1:o,S=function(O){var D=s[O],$,k=function(){return $===void 0&&($=n(D,O)),$};if(O===0){var V=t*(D.coordinate-t*k()/2-c);s[O]=D=Or(Or({},D),{},{tickCoord:V<0?D.coordinate-V*t:D.coordinate})}else s[O]=D=Or(Or({},D),{},{tickCoord:D.coordinate});var C=Y_(t,D.tickCoord,k,c,f);C&&(c=D.tickCoord+t*(k()/2+i),s[O]=Or(Or({},D),{},{isShow:!0}))},x=0;x<E;x++)S(x);return s}function QI(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,c=t.interval,f=t.tickFormatter,m=t.unit,p=t.angle;if(!i||!i.length||!r)return[];if(De(c)||yd.isSsr)return m_e(i,typeof c=="number"&&De(c)?c:0);var y=[],b=o==="top"||o==="bottom"?"width":"height",E=m&&b==="width"?qp(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=function(D,$){var k=gt(f)?f(D.value,$):D.value;return b==="width"?d_e(qp(k,{fontSize:e,letterSpacing:n}),E,p):qp(k,{fontSize:e,letterSpacing:n})[b]},x=i.length>=2?is(i[1].coordinate-i[0].coordinate):1,M=p_e(a,x,b);return c==="equidistantPreserveStart"?g_e(x,M,S,i,s):(c==="preserveStart"||c==="preserveStartEnd"?y=b_e(x,M,S,i,s,c==="preserveStartEnd"):y=w_e(x,M,S,i,s),y.filter(function(O){return O.isShow}))}var x_e=["viewBox"],E_e=["viewBox"],S_e=["ticks"];function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function uf(){return uf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uf.apply(this,arguments)}function W6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W6(Object(n),!0).forEach(function(r){JI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rP(t,e){if(t==null)return{};var n=P_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function P_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function T_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NB(r.key),r)}}function A_e(t,e,n){return e&&H6(t.prototype,e),n&&H6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function I_e(t,e,n){return e=Q_(e),M_e(t,kB()?Reflect.construct(e,n||[],Q_(t).constructor):e.apply(t,n))}function M_e(t,e){if(e&&(Qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C_e(t)}function C_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kB=function(){return!!t})()}function Q_(t){return Q_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q_(t)}function O_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a2(t,e)}function a2(t,e){return a2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},a2(t,e)}function JI(t,e,n){return e=NB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NB(t){var e=R_e(t,"string");return Qf(e)=="symbol"?e:e+""}function R_e(t,e){if(Qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bd=(function(t){function e(n){var r;return T_e(this,e),r=I_e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return O_e(e,t),A_e(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=rP(r,x_e),o=this.props,c=o.viewBox,f=rP(o,E_e);return!vf(a,c)||!vf(s,f)||!vf(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,o=i.width,c=i.height,f=i.orientation,m=i.tickSize,p=i.mirror,y=i.tickMargin,b,E,S,x,M,O,D=p?-1:1,$=r.tickSize||m,k=De(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":b=E=r.coordinate,x=s+ +!p*c,S=x-D*$,O=S-D*y,M=k;break;case"left":S=x=r.coordinate,E=a+ +!p*o,b=E-D*$,M=b-D*y,O=k;break;case"right":S=x=r.coordinate,E=a+ +p*o,b=E+D*$,M=b+D*y,O=k;break;default:b=E=r.coordinate,x=s+ +p*c,S=x+D*$,O=S+D*y,M=k;break}return{line:{x1:b,y1:S,x2:E,y2:x},tick:{x:M,y:O}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,c=r.orientation,f=r.mirror,m=r.axisLine,p=Kn(Kn(Kn({},St(this.props,!1)),St(m,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var y=+(c==="top"&&!f||c==="bottom"&&f);p=Kn(Kn({},p),{},{x1:i,y1:a+y*o,x2:i+s,y2:a+y*o})}else{var b=+(c==="left"&&!f||c==="right"&&f);p=Kn(Kn({},p),{},{x1:i+b*s,y1:a,x2:i+b*s,y2:a+o})}return re.createElement("line",uf({},p,{className:Mt("recharts-cartesian-axis-line",Ca(m,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,o=this.props,c=o.tickLine,f=o.stroke,m=o.tick,p=o.tickFormatter,y=o.unit,b=QI(Kn(Kn({},this.props),{},{ticks:r}),i,a),E=this.getTickTextAnchor(),S=this.getTickVerticalAnchor(),x=St(this.props,!1),M=St(m,!1),O=Kn(Kn({},x),{},{fill:"none"},St(c,!1)),D=b.map(function($,k){var V=s.getTickLineCoord($),C=V.line,j=V.tick,B=Kn(Kn(Kn(Kn({textAnchor:E,verticalAnchor:S},x),{},{stroke:"none",fill:f},M),j),{},{index:k,payload:$,visibleTicksCount:b.length,tickFormatter:p});return re.createElement(Rn,uf({className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},o_(s.props,$,k)),c&&re.createElement("line",uf({},O,C,{className:Mt("recharts-cartesian-axis-tick-line",Ca(c,"className"))})),m&&e.renderTickItem(m,B,"".concat(gt(p)?p($.value,k):$.value).concat(y||"")))});return re.createElement("g",{className:"recharts-cartesian-axis-ticks"},D)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,c=i.ticksGenerator,f=i.className,m=i.hide;if(m)return null;var p=this.props,y=p.ticks,b=rP(p,S_e),E=y;return gt(c)&&(E=y&&y.length>0?c(this.props):c(b)),s<=0||o<=0||!E||!E.length?null:re.createElement(Rn,{className:Mt("recharts-cartesian-axis",f),ref:function(x){r.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(E,this.state.fontSize,this.state.letterSpacing),Nr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,o=Mt(i.className,"recharts-cartesian-axis-tick-value");return re.isValidElement(r)?s=re.cloneElement(r,Kn(Kn({},i),{},{className:o})):gt(r)?s=r(Kn(Kn({},i),{},{className:o})):s=re.createElement(v_,uf({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])})(Z.Component);JI(bd,"displayName","CartesianAxis");JI(bd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var k_e=["x1","y1","x2","y2","key"],N_e=["offset"];function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function K6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K6(Object(n),!0).forEach(function(r){L_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L_e(t,e,n){return e=D_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D_e(t){var e=j_e(t,"string");return Yc(e)=="symbol"?e:e+""}function j_e(t,e){if(Yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sc(){return Sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sc.apply(this,arguments)}function Z6(t,e){if(t==null)return{};var n=V_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function V_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var F_e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,c=e.ry;return re.createElement("rect",{x:i,y:a,ry:c,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function LB(t,e){var n;if(re.isValidElement(t))n=re.cloneElement(t,e);else if(gt(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,c=Z6(e,k_e),f=St(c,!1);f.offset;var m=Z6(f,N_e);n=re.createElement("line",Sc({},m,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function B_e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,c){var f=Lr(Lr({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(c),index:c});return LB(i,f)});return re.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function $_e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,c){var f=Lr(Lr({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(c),index:c});return LB(i,f)});return re.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function z_e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,c=t.horizontal,f=c===void 0?!0:c;if(!f||!e||!e.length)return null;var m=o.map(function(y){return Math.round(y+i-i)}).sort(function(y,b){return y-b});i!==m[0]&&m.unshift(0);var p=m.map(function(y,b){var E=!m[b+1],S=E?i+s-y:m[b+1]-y;if(S<=0)return null;var x=b%e.length;return re.createElement("rect",{key:"react-".concat(b),y,x:r,height:S,width:a,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return re.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function U_e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,c=t.height,f=t.verticalPoints;if(!n||!r||!r.length)return null;var m=f.map(function(y){return Math.round(y+a-a)}).sort(function(y,b){return y-b});a!==m[0]&&m.unshift(0);var p=m.map(function(y,b){var E=!m[b+1],S=E?a+o-y:m[b+1]-y;if(S<=0)return null;var x=b%r.length;return re.createElement("rect",{key:"react-".concat(b),x:y,y:s,width:S,height:c,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return re.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var q_e=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return KF(QI(Lr(Lr(Lr({},bd.defaultProps),r),{},{ticks:Lo(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},G_e=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return KF(QI(Lr(Lr(Lr({},bd.defaultProps),r),{},{ticks:Lo(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},Hh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function eM(t){var e,n,r,i,a,s,o=KI(),c=ZI(),f=Rve(),m=Lr(Lr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Hh.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Hh.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Hh.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Hh.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Hh.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Hh.verticalFill,x:De(t.x)?t.x:f.left,y:De(t.y)?t.y:f.top,width:De(t.width)?t.width:f.width,height:De(t.height)?t.height:f.height}),p=m.x,y=m.y,b=m.width,E=m.height,S=m.syncWithTicks,x=m.horizontalValues,M=m.verticalValues,O=Mve(),D=Cve();if(!De(b)||b<=0||!De(E)||E<=0||!De(p)||p!==+p||!De(y)||y!==+y)return null;var $=m.verticalCoordinatesGenerator||q_e,k=m.horizontalCoordinatesGenerator||G_e,V=m.horizontalPoints,C=m.verticalPoints;if((!V||!V.length)&&gt(k)){var j=x&&x.length,B=k({yAxis:D?Lr(Lr({},D),{},{ticks:j?x:D.ticks}):void 0,width:o,height:c,offset:f},j?!0:S);Vo(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Yc(B),"]")),Array.isArray(B)&&(V=B)}if((!C||!C.length)&&gt($)){var H=M&&M.length,z=$({xAxis:O?Lr(Lr({},O),{},{ticks:H?M:O.ticks}):void 0,width:o,height:c,offset:f},H?!0:S);Vo(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Yc(z),"]")),Array.isArray(z)&&(C=z)}return re.createElement("g",{className:"recharts-cartesian-grid"},re.createElement(F_e,{fill:m.fill,fillOpacity:m.fillOpacity,x:m.x,y:m.y,width:m.width,height:m.height,ry:m.ry}),re.createElement(B_e,Sc({},m,{offset:f,horizontalPoints:V,xAxis:O,yAxis:D})),re.createElement($_e,Sc({},m,{offset:f,verticalPoints:C,xAxis:O,yAxis:D})),re.createElement(z_e,Sc({},m,{horizontalPoints:V})),re.createElement(U_e,Sc({},m,{verticalPoints:C})))}eM.displayName="CartesianGrid";var W_e=["type","layout","connectNulls","ref"],H_e=["key"];function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function X6(t,e){if(t==null)return{};var n=K_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function K_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Kp(){return Kp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kp.apply(this,arguments)}function Y6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y6(Object(n),!0).forEach(function(r){es(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kh(t){return Q_e(t)||Y_e(t)||X_e(t)||Z_e()}function Z_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X_e(t,e){if(t){if(typeof t=="string")return s2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s2(t,e)}}function Y_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Q_e(t){if(Array.isArray(t))return s2(t)}function s2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function J_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jB(r.key),r)}}function e0e(t,e,n){return e&&Q6(t.prototype,e),n&&Q6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function t0e(t,e,n){return e=J_(e),n0e(t,DB()?Reflect.construct(e,n||[],J_(t).constructor):e.apply(t,n))}function n0e(t,e){if(e&&(Jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r0e(t)}function r0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DB=function(){return!!t})()}function J_(t){return J_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J_(t)}function i0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o2(t,e)}function o2(t,e){return o2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},o2(t,e)}function es(t,e,n){return e=jB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jB(t){var e=a0e(t,"string");return Jf(e)=="symbol"?e:e+""}function a0e(t,e){if(Jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ed=(function(t){function e(){var n;J_e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=t0e(this,e,[].concat(i)),es(n,"state",{isAnimationFinished:!0,totalLength:0}),es(n,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),es(n,"getStrokeDasharray",function(s,o,c){var f=c.reduce(function(M,O){return M+O});if(!f)return n.generateSimpleStrokeDasharray(o,s);for(var m=Math.floor(s/f),p=s%f,y=o-s,b=[],E=0,S=0;E<c.length;S+=c[E],++E)if(S+c[E]>p){b=[].concat(Kh(c.slice(0,E)),[p-S]);break}var x=b.length%2===0?[0,y]:[y];return[].concat(Kh(e.repeat(c,m)),Kh(b),x).map(function(M){return"".concat(M,"px")}).join(", ")}),es(n,"id",xg("recharts-line-")),es(n,"pathRef",function(s){n.mainCurve=s}),es(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),es(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return i0e(e,t),e0e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,c=a.yAxis,f=a.layout,m=a.children,p=Oa(m,Ig);if(!p)return null;var y=function(S,x){return{x:S.x,y:S.y,value:S.value,errorVal:Ui(S.payload,x)}},b={clipPath:r?"url(#clipPath-".concat(i,")"):null};return re.createElement(Rn,b,p.map(function(E){return re.cloneElement(E,{key:"bar-".concat(E.props.dataKey),data:s,xAxis:o,yAxis:c,layout:f,dataPointFormatter:y})}))}},{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.dot,f=o.points,m=o.dataKey,p=St(this.props,!1),y=St(c,!0),b=f.map(function(S,x){var M=Li(Li(Li({key:"dot-".concat(x),r:3},p),y),{},{index:x,cx:S.x,cy:S.y,value:S.value,dataKey:m,payload:S.payload,points:f});return e.renderDotItem(c,M)}),E={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return re.createElement(Rn,Kp({className:"recharts-line-dots",key:"dots"},E),b)}},{key:"renderCurveStatically",value:function(r,i,a,s){var o=this.props,c=o.type,f=o.layout,m=o.connectNulls;o.ref;var p=X6(o,W_e),y=Li(Li(Li({},St(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},s),{},{type:c,layout:f,connectNulls:m});return re.createElement(VT,Kp({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,c=s.strokeDasharray,f=s.isAnimationActive,m=s.animationBegin,p=s.animationDuration,y=s.animationEasing,b=s.animationId,E=s.animateNewValues,S=s.width,x=s.height,M=this.state,O=M.prevPoints,D=M.totalLength;return re.createElement(Qo,{begin:m,duration:p,isActive:f,easing:y,from:{t:0},to:{t:1},key:"line-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function($){var k=$.t;if(O){var V=O.length/o.length,C=o.map(function(G,q){var ae=Math.floor(q*V);if(O[ae]){var he=O[ae],me=ts(he.x,G.x),ye=ts(he.y,G.y);return Li(Li({},G),{},{x:me(k),y:ye(k)})}if(E){var ee=ts(S*2,G.x),ge=ts(x/2,G.y);return Li(Li({},G),{},{x:ee(k),y:ge(k)})}return Li(Li({},G),{},{x:G.x,y:G.y})});return a.renderCurveStatically(C,r,i)}var j=ts(0,D),B=j(k),H;if(c){var z="".concat(c).split(/[,\s]+/gim).map(function(G){return parseFloat(G)});H=a.getStrokeDasharray(B,D,z)}else H=a.generateSimpleStrokeDasharray(D,B);return a.renderCurveStatically(o,r,i,{strokeDasharray:H})})}},{key:"renderCurve",value:function(r,i){var a=this.props,s=a.points,o=a.isAnimationActive,c=this.state,f=c.prevPoints,m=c.totalLength;return o&&s&&s.length&&(!f&&m>0||!h1(f,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,c=i.className,f=i.xAxis,m=i.yAxis,p=i.top,y=i.left,b=i.width,E=i.height,S=i.isAnimationActive,x=i.id;if(a||!o||!o.length)return null;var M=this.state.isAnimationFinished,O=o.length===1,D=Mt("recharts-line",c),$=f&&f.allowDataOverflow,k=m&&m.allowDataOverflow,V=$||k,C=_t(x)?this.id:x,j=(r=St(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},B=j.r,H=B===void 0?3:B,z=j.strokeWidth,G=z===void 0?2:z,q=wae(s)?s:{},ae=q.clipDot,he=ae===void 0?!0:ae,me=H*2+G;return re.createElement(Rn,{className:D},$||k?re.createElement("defs",null,re.createElement("clipPath",{id:"clipPath-".concat(C)},re.createElement("rect",{x:$?y:y-b/2,y:k?p:p-E/2,width:$?b:b*2,height:k?E:E*2})),!he&&re.createElement("clipPath",{id:"clipPath-dots-".concat(C)},re.createElement("rect",{x:y-me/2,y:p-me/2,width:b+me,height:E+me}))):null,!O&&this.renderCurve(V,C),this.renderErrorBar(V,C),(O||s)&&this.renderDots(V,he,C),(!S||M)&&fl.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Kh(r),[0]):r,s=[],o=0;o<i;++o)s=[].concat(Kh(s),Kh(a));return s}},{key:"renderDotItem",value:function(r,i){var a;if(re.isValidElement(r))a=re.cloneElement(r,i);else if(gt(r))a=r(i);else{var s=i.key,o=X6(i,H_e),c=Mt("recharts-line-dot",typeof r!="boolean"?r.className:"");a=re.createElement(qI,Kp({key:s},o,{className:c}))}return a}}])})(Z.PureComponent);es(ed,"displayName","Line");es(ed,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!yd.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});es(ed,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,c=t.displayedData,f=t.offset,m=e.layout,p=c.map(function(y,b){var E=Ui(y,s);return m==="horizontal"?{x:mD({axis:n,ticks:i,bandSize:o,entry:y,index:b}),y:_t(E)?null:r.scale(E),value:E,payload:y}:{x:_t(E)?null:n.scale(E),y:mD({axis:r,ticks:a,bandSize:o,entry:y,index:b}),value:E,payload:y}});return Li({points:p,layout:m},f)});function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function s0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BB(r.key),r)}}function u0e(t,e,n){return e&&o0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l0e(t,e,n){return e=e0(e),c0e(t,VB()?Reflect.construct(e,n||[],e0(t).constructor):e.apply(t,n))}function c0e(t,e){if(e&&(td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h0e(t)}function h0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VB=function(){return!!t})()}function e0(t){return e0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e0(t)}function f0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u2(t,e)}function u2(t,e){return u2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},u2(t,e)}function FB(t,e,n){return e=BB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BB(t){var e=d0e(t,"string");return td(e)=="symbol"?e:e+""}function d0e(t,e){if(td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function l2(){return l2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l2.apply(this,arguments)}function p0e(t){var e=t.xAxisId,n=KI(),r=ZI(),i=SB(e);return i==null?null:Z.createElement(bd,l2({},i,{className:Mt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Lo(s,!0)}}))}var xd=(function(t){function e(){return s0e(this,e),l0e(this,e,arguments)}return f0e(e,t),u0e(e,[{key:"render",value:function(){return Z.createElement(p0e,this.props)}}])})(Z.Component);FB(xd,"displayName","XAxis");FB(xd,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function m0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UB(r.key),r)}}function y0e(t,e,n){return e&&g0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function v0e(t,e,n){return e=t0(e),_0e(t,$B()?Reflect.construct(e,n||[],t0(t).constructor):e.apply(t,n))}function _0e(t,e){if(e&&(nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w0e(t)}function w0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $B(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($B=function(){return!!t})()}function t0(t){return t0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},t0(t)}function b0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c2(t,e)}function c2(t,e){return c2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},c2(t,e)}function zB(t,e,n){return e=UB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UB(t){var e=x0e(t,"string");return nd(e)=="symbol"?e:e+""}function x0e(t,e){if(nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function h2(){return h2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h2.apply(this,arguments)}var E0e=function(e){var n=e.yAxisId,r=KI(),i=ZI(),a=PB(n);return a==null?null:Z.createElement(bd,h2({},a,{className:Mt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return Lo(o,!0)}}))},Ed=(function(t){function e(){return m0e(this,e),v0e(this,e,arguments)}return b0e(e,t),y0e(e,[{key:"render",value:function(){return Z.createElement(E0e,this.props)}}])})(Z.Component);zB(Ed,"displayName","YAxis");zB(Ed,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function J6(t){return A0e(t)||T0e(t)||P0e(t)||S0e()}function S0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P0e(t,e){if(t){if(typeof t=="string")return f2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f2(t,e)}}function T0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function A0e(t){if(Array.isArray(t))return f2(t)}function f2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var d2=function(e,n,r,i,a){var s=Oa(e,YI),o=Oa(e,v1),c=[].concat(J6(s),J6(o)),f=Oa(e,w1),m="".concat(i,"Id"),p=i[0],y=n;if(c.length&&(y=c.reduce(function(S,x){if(x.props[m]===r&&Us(x.props,"extendDomain")&&De(x.props[p])){var M=x.props[p];return[Math.min(S[0],M),Math.max(S[1],M)]}return S},y)),f.length){var b="".concat(p,"1"),E="".concat(p,"2");y=f.reduce(function(S,x){if(x.props[m]===r&&Us(x.props,"extendDomain")&&De(x.props[b])&&De(x.props[E])){var M=x.props[b],O=x.props[E];return[Math.min(S[0],M,O),Math.max(S[1],M,O)]}return S},y)}return a&&a.length&&(y=a.reduce(function(S,x){return De(x)?[Math.min(S[0],x),Math.max(S[1],x)]:S},y)),y},iP={exports:{}},e8;function I0e(){return e8||(e8=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,m){this.fn=c,this.context=f,this.once=m||!1}function a(c,f,m,p,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new i(m,p||c,y),E=n?n+f:f;return c._events[E]?c._events[E].fn?c._events[E]=[c._events[E],b]:c._events[E].push(b):(c._events[E]=b,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var f=[],m,p;if(this._eventsCount===0)return f;for(p in m=this._events)e.call(m,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},o.prototype.listeners=function(f){var m=n?n+f:f,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,b=p.length,E=new Array(b);y<b;y++)E[y]=p[y].fn;return E},o.prototype.listenerCount=function(f){var m=n?n+f:f,p=this._events[m];return p?p.fn?1:p.length:0},o.prototype.emit=function(f,m,p,y,b,E){var S=n?n+f:f;if(!this._events[S])return!1;var x=this._events[S],M=arguments.length,O,D;if(x.fn){switch(x.once&&this.removeListener(f,x.fn,void 0,!0),M){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,m),!0;case 3:return x.fn.call(x.context,m,p),!0;case 4:return x.fn.call(x.context,m,p,y),!0;case 5:return x.fn.call(x.context,m,p,y,b),!0;case 6:return x.fn.call(x.context,m,p,y,b,E),!0}for(D=1,O=new Array(M-1);D<M;D++)O[D-1]=arguments[D];x.fn.apply(x.context,O)}else{var $=x.length,k;for(D=0;D<$;D++)switch(x[D].once&&this.removeListener(f,x[D].fn,void 0,!0),M){case 1:x[D].fn.call(x[D].context);break;case 2:x[D].fn.call(x[D].context,m);break;case 3:x[D].fn.call(x[D].context,m,p);break;case 4:x[D].fn.call(x[D].context,m,p,y);break;default:if(!O)for(k=1,O=new Array(M-1);k<M;k++)O[k-1]=arguments[k];x[D].fn.apply(x[D].context,O)}}return!0},o.prototype.on=function(f,m,p){return a(this,f,m,p,!1)},o.prototype.once=function(f,m,p){return a(this,f,m,p,!0)},o.prototype.removeListener=function(f,m,p,y){var b=n?n+f:f;if(!this._events[b])return this;if(!m)return s(this,b),this;var E=this._events[b];if(E.fn)E.fn===m&&(!y||E.once)&&(!p||E.context===p)&&s(this,b);else{for(var S=0,x=[],M=E.length;S<M;S++)(E[S].fn!==m||y&&!E[S].once||p&&E[S].context!==p)&&x.push(E[S]);x.length?this._events[b]=x.length===1?x[0]:x:s(this,b)}return this},o.prototype.removeAllListeners=function(f){var m;return f?(m=n?n+f:f,this._events[m]&&s(this,m)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(iP)),iP.exports}var M0e=I0e();const C0e=Zt(M0e);var aP=new C0e,sP="recharts.syncMouseEvents";function Zm(t){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}function O0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qB(r.key),r)}}function k0e(t,e,n){return e&&R0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oP(t,e,n){return e=qB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qB(t){var e=N0e(t,"string");return Zm(e)=="symbol"?e:e+""}function N0e(t,e){if(Zm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var L0e=(function(){function t(){O0e(this,t),oP(this,"activeIndex",0),oP(this,"coordinateList",[]),oP(this,"layout","horizontal")}return k0e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,o=s===void 0?null:s,c=n.layout,f=c===void 0?null:c,m=n.offset,p=m===void 0?null:m,y=n.mouseHandlerCallback,b=y===void 0?null:y;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=f??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,m=((r=window)===null||r===void 0?void 0:r.scrollY)||0,p=a+c+f,y=s+this.offset.top+o/2+m;this.mouseHandlerCallback({pageX:p,pageY:y})}}}])})();function D0e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t?.[0],i=t?.[1];if(r&&i&&De(r)&&De(i))return!0}return!1}function j0e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function GB(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=vr(e,n,r,i),o=vr(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function V0e(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,c=e.cy,f=e.innerRadius,m=e.outerRadius,p=e.angle,y=vr(o,c,f,p),b=vr(o,c,m,p);r=y.x,i=y.y,a=b.x,s=b.y}else return GB(e);return[{x:r,y:i},{x:a,y:s}]}function Xm(t){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xm(t)}function t8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ev(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t8(Object(n),!0).forEach(function(r){F0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F0e(t,e,n){return e=B0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B0e(t){var e=$0e(t,"string");return Xm(e)=="symbol"?e:e+""}function $0e(t,e){if(Xm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z0e(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,c=t.offset,f=t.activeTooltipIndex,m=t.tooltipAxisBandSize,p=t.layout,y=t.chartName,b=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!b||!a||!s||y!=="ScatterChart"&&i!=="axis")return null;var E,S=VT;if(y==="ScatterChart")E=s,S=Bge;else if(y==="BarChart")E=j0e(p,s,c,m),S=UI;else if(p==="radial"){var x=GB(s),M=x.cx,O=x.cy,D=x.radius,$=x.startAngle,k=x.endAngle;E={cx:M,cy:O,startAngle:$,endAngle:k,innerRadius:D,outerRadius:D},S=JF}else E={points:V0e(p,s,c)},S=VT;var V=ev(ev(ev(ev({stroke:"#ccc",pointerEvents:"none"},c),E),St(b,!1)),{},{payload:o,payloadIndex:f,className:Mt("recharts-tooltip-cursor",b.className)});return Z.isValidElement(b)?Z.cloneElement(b,V):Z.createElement(S,V)}var U0e=["item"],q0e=["children","className","width","height","style","compact","title","desc"];function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function lf(){return lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lf.apply(this,arguments)}function n8(t,e){return H0e(t)||W0e(t,e)||HB(t,e)||G0e()}function G0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(m){f=!0,i=m}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function H0e(t){if(Array.isArray(t))return t}function r8(t,e){if(t==null)return{};var n=K0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function K0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Z0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KB(r.key),r)}}function Y0e(t,e,n){return e&&X0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q0e(t,e,n){return e=n0(e),J0e(t,WB()?Reflect.construct(e,n||[],n0(t).constructor):e.apply(t,n))}function J0e(t,e){if(e&&(rd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e1e(t)}function e1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WB=function(){return!!t})()}function n0(t){return n0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},n0(t)}function t1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p2(t,e)}function p2(t,e){return p2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},p2(t,e)}function id(t){return i1e(t)||r1e(t)||HB(t)||n1e()}function n1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HB(t,e){if(t){if(typeof t=="string")return m2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m2(t,e)}}function r1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function i1e(t){if(Array.isArray(t))return m2(t)}function m2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i8(Object(n),!0).forEach(function(r){at(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function at(t,e,n){return e=KB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KB(t){var e=a1e(t,"string");return rd(e)=="symbol"?e:e+""}function a1e(t,e){if(rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s1e={xAxis:["bottom","top"],yAxis:["left","right"]},o1e={width:"100%",height:"100%"},ZB={x:0,y:0};function tv(t){return t}var u1e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},l1e=function(e,n,r,i){var a=n.find(function(m){return m&&m.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return _e(_e(_e({},i),vr(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var c=a.coordinate,f=i.angle;return _e(_e(_e({},i),vr(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return ZB},b1=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(o,c){var f=c.props.data;return f&&f.length?[].concat(id(o),id(f)):o},[]);return s.length>0?s:e&&e.length&&De(i)&&De(a)?e.slice(i,a+1):[]};function XB(t){return t==="number"?[0,"auto"]:void 0}var g2=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,o=b1(n,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(c,f){var m,p=(m=f.props.data)!==null&&m!==void 0?m:n;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(s.dataKey&&!s.allowDuplicatedCategory){var b=p===void 0?o:p;y=a_(b,s.dataKey,i)}else y=p&&p[r]||o[r];return y?[].concat(id(c),[XF(f,y)]):c},[])},a8=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=u1e(a,r),o=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,m=_de(s,o,f,c);if(m>=0&&f){var p=f[m]&&f[m].value,y=g2(e,n,m,p),b=l1e(r,o,m,a);return{activeTooltipIndex:m,activeLabel:p,activePayload:y,activeCoordinate:b}}return null},c1e=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,m=e.layout,p=e.children,y=e.stackOffset,b=HF(m,a);return r.reduce(function(E,S){var x,M=S.type.defaultProps!==void 0?_e(_e({},S.type.defaultProps),S.props):S.props,O=M.type,D=M.dataKey,$=M.allowDataOverflow,k=M.allowDuplicatedCategory,V=M.scale,C=M.ticks,j=M.includeHidden,B=M[s];if(E[B])return E;var H=b1(e.data,{graphicalItems:i.filter(function(ne){var xe,Me=s in ne.props?ne.props[s]:(xe=ne.type.defaultProps)===null||xe===void 0?void 0:xe[s];return Me===B}),dataStartIndex:c,dataEndIndex:f}),z=H.length,G,q,ae;D0e(M.domain,$,O)&&(G=kT(M.domain,null,$),b&&(O==="number"||V!=="auto")&&(ae=Wp(H,D,"category")));var he=XB(O);if(!G||G.length===0){var me,ye=(me=M.domain)!==null&&me!==void 0?me:he;if(D){if(G=Wp(H,D,O),O==="category"&&b){var ee=cae(G);k&&ee?(q=G,G=U_(0,z)):k||(G=_D(ye,G,S).reduce(function(ne,xe){return ne.indexOf(xe)>=0?ne:[].concat(id(ne),[xe])},[]))}else if(O==="category")k?G=G.filter(function(ne){return ne!==""&&!_t(ne)}):G=_D(ye,G,S).reduce(function(ne,xe){return ne.indexOf(xe)>=0||xe===""||_t(xe)?ne:[].concat(id(ne),[xe])},[]);else if(O==="number"){var ge=Sde(H,i.filter(function(ne){var xe,Me,Oe=s in ne.props?ne.props[s]:(xe=ne.type.defaultProps)===null||xe===void 0?void 0:xe[s],Re="hide"in ne.props?ne.props.hide:(Me=ne.type.defaultProps)===null||Me===void 0?void 0:Me.hide;return Oe===B&&(j||!Re)}),D,a,m);ge&&(G=ge)}b&&(O==="number"||V!=="auto")&&(ae=Wp(H,D,"category"))}else b?G=U_(0,z):o&&o[B]&&o[B].hasStack&&O==="number"?G=y==="expand"?[0,1]:ZF(o[B].stackGroups,c,f):G=WF(H,i.filter(function(ne){var xe=s in ne.props?ne.props[s]:ne.type.defaultProps[s],Me="hide"in ne.props?ne.props.hide:ne.type.defaultProps.hide;return xe===B&&(j||!Me)}),O,m,!0);if(O==="number")G=d2(p,G,B,a,C),ye&&(G=kT(ye,G,$));else if(O==="category"&&ye){var ie=ye,Y=G.every(function(ne){return ie.indexOf(ne)>=0});Y&&(G=ie)}}return _e(_e({},E),{},at({},B,_e(_e({},M),{},{axisType:a,domain:G,categoricalDomain:ae,duplicateDomain:q,originalDomain:(x=M.domain)!==null&&x!==void 0?x:he,isCategorical:b,layout:m})))},{})},h1e=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,m=e.layout,p=e.children,y=b1(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:f}),b=y.length,E=HF(m,a),S=-1;return r.reduce(function(x,M){var O=M.type.defaultProps!==void 0?_e(_e({},M.type.defaultProps),M.props):M.props,D=O[s],$=XB("number");if(!x[D]){S++;var k;return E?k=U_(0,b):o&&o[D]&&o[D].hasStack?(k=ZF(o[D].stackGroups,c,f),k=d2(p,k,D,a)):(k=kT($,WF(y,r.filter(function(V){var C,j,B=s in V.props?V.props[s]:(C=V.type.defaultProps)===null||C===void 0?void 0:C[s],H="hide"in V.props?V.props.hide:(j=V.type.defaultProps)===null||j===void 0?void 0:j.hide;return B===D&&!H}),"number",m),i.defaultProps.allowDataOverflow),k=d2(p,k,D,a)),_e(_e({},x),{},at({},D,_e(_e({axisType:a},i.defaultProps),{},{hide:!0,orientation:Ca(s1e,"".concat(a,".").concat(S%2),null),domain:k,originalDomain:$,isCategorical:E,layout:m})))}return x},{})},f1e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,m=e.children,p="".concat(i,"Id"),y=Oa(m,a),b={};return y&&y.length?b=c1e(e,{axes:y,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:o,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(b=h1e(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:o,dataStartIndex:c,dataEndIndex:f})),b},d1e=function(e){var n=el(e),r=Lo(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:mI(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:k_(n,r)}},s8=function(e){var n=e.children,r=e.defaultShowTooltip,i=ji(n,Hf),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},p1e=function(e){return!e||!e.length?!1:e.some(function(n){var r=jo(n&&n.type);return r&&r.indexOf("Bar")>=0})},o8=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},m1e=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,c=o===void 0?{}:o,f=r.width,m=r.height,p=r.children,y=r.margin||{},b=ji(p,Hf),E=ji(p,Oc),S=Object.keys(c).reduce(function(k,V){var C=c[V],j=C.orientation;return!C.mirror&&!C.hide?_e(_e({},k),{},at({},j,k[j]+C.width)):k},{left:y.left||0,right:y.right||0}),x=Object.keys(s).reduce(function(k,V){var C=s[V],j=C.orientation;return!C.mirror&&!C.hide?_e(_e({},k),{},at({},j,Ca(k,"".concat(j))+C.height)):k},{top:y.top||0,bottom:y.bottom||0}),M=_e(_e({},x),S),O=M.bottom;b&&(M.bottom+=b.props.height||Hf.defaultProps.height),E&&n&&(M=xde(M,i,r,n));var D=f-M.left-M.right,$=m-M.top-M.bottom;return _e(_e({brushBottom:O},M),{},{width:Math.max(D,0),height:Math.max($,0)})},g1e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},YB=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,c=e.axisComponents,f=e.legendContent,m=e.formatAxisMap,p=e.defaultProps,y=function(M,O){var D=O.graphicalItems,$=O.stackGroups,k=O.offset,V=O.updateId,C=O.dataStartIndex,j=O.dataEndIndex,B=M.barSize,H=M.layout,z=M.barGap,G=M.barCategoryGap,q=M.maxBarSize,ae=o8(H),he=ae.numericAxisName,me=ae.cateAxisName,ye=p1e(D),ee=[];return D.forEach(function(ge,ie){var Y=b1(M.data,{graphicalItems:[ge],dataStartIndex:C,dataEndIndex:j}),ne=ge.type.defaultProps!==void 0?_e(_e({},ge.type.defaultProps),ge.props):ge.props,xe=ne.dataKey,Me=ne.maxBarSize,Oe=ne["".concat(he,"Id")],Re=ne["".concat(me,"Id")],st={},Ye=c.reduce(function(gn,_r){var Gi=O["".concat(_r.axisType,"Map")],Zs=ne["".concat(_r.axisType,"Id")];Gi&&Gi[Zs]||_r.axisType==="zAxis"||Xc();var Si=Gi[Zs];return _e(_e({},gn),{},at(at({},_r.axisType,Si),"".concat(_r.axisType,"Ticks"),Lo(Si)))},st),Pe=Ye[me],Ke=Ye["".concat(me,"Ticks")],rt=$&&$[Oe]&&$[Oe].hasStack&&Dde(ge,$[Oe].stackGroups),be=jo(ge.type).indexOf("Bar")>=0,xt=k_(Pe,Ke),ft=[],Xt=ye&&wde({barSize:B,stackGroups:$,totalSize:g1e(Ye,me)});if(be){var zt,Jt,Un=_t(Me)?q:Me,Ut=(zt=(Jt=k_(Pe,Ke,!0))!==null&&Jt!==void 0?Jt:Un)!==null&&zt!==void 0?zt:0;ft=bde({barGap:z,barCategoryGap:G,bandSize:Ut!==xt?Ut:xt,sizeList:Xt[Re],maxBarSize:Un}),Ut!==xt&&(ft=ft.map(function(gn){return _e(_e({},gn),{},{position:_e(_e({},gn.position),{},{offset:gn.position.offset-Ut/2})})}))}var qt=ge&&ge.type&&ge.type.getComposedData;qt&&ee.push({props:_e(_e({},qt(_e(_e({},Ye),{},{displayedData:Y,props:M,dataKey:xe,item:ge,bandSize:xt,barPosition:ft,offset:k,stackedData:rt,layout:H,dataStartIndex:C,dataEndIndex:j}))),{},at(at(at({key:ge.key||"item-".concat(ie)},he,Ye[he]),me,Ye[me]),"animationId",V)),childIndex:Eae(ge,M.children),item:ge})}),ee},b=function(M,O){var D=M.props,$=M.dataStartIndex,k=M.dataEndIndex,V=M.updateId;if(!kk({props:D}))return null;var C=D.children,j=D.layout,B=D.stackOffset,H=D.data,z=D.reverseStackOrder,G=o8(j),q=G.numericAxisName,ae=G.cateAxisName,he=Oa(C,r),me=kde(H,he,"".concat(q,"Id"),"".concat(ae,"Id"),B,z),ye=c.reduce(function(ne,xe){var Me="".concat(xe.axisType,"Map");return _e(_e({},ne),{},at({},Me,f1e(D,_e(_e({},xe),{},{graphicalItems:he,stackGroups:xe.axisType===q&&me,dataStartIndex:$,dataEndIndex:k}))))},{}),ee=m1e(_e(_e({},ye),{},{props:D,graphicalItems:he}),O?.legendBBox);Object.keys(ye).forEach(function(ne){ye[ne]=m(D,ye[ne],ee,ne.replace("Map",""),n)});var ge=ye["".concat(ae,"Map")],ie=d1e(ge),Y=y(D,_e(_e({},ye),{},{dataStartIndex:$,dataEndIndex:k,updateId:V,graphicalItems:he,stackGroups:me,offset:ee}));return _e(_e({formattedGraphicalItems:Y,graphicalItems:he,offset:ee,stackGroups:me},ie),ye)},E=(function(x){function M(O){var D,$,k;return Z0e(this,M),k=Q0e(this,M,[O]),at(k,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),at(k,"accessibilityManager",new L0e),at(k,"handleLegendBBoxUpdate",function(V){if(V){var C=k.state,j=C.dataStartIndex,B=C.dataEndIndex,H=C.updateId;k.setState(_e({legendBBox:V},b({props:k.props,dataStartIndex:j,dataEndIndex:B,updateId:H},_e(_e({},k.state),{},{legendBBox:V}))))}}),at(k,"handleReceiveSyncEvent",function(V,C,j){if(k.props.syncId===V){if(j===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(C)}}),at(k,"handleBrushChange",function(V){var C=V.startIndex,j=V.endIndex;if(C!==k.state.dataStartIndex||j!==k.state.dataEndIndex){var B=k.state.updateId;k.setState(function(){return _e({dataStartIndex:C,dataEndIndex:j},b({props:k.props,dataStartIndex:C,dataEndIndex:j,updateId:B},k.state))}),k.triggerSyncEvent({dataStartIndex:C,dataEndIndex:j})}}),at(k,"handleMouseEnter",function(V){var C=k.getMouseInfo(V);if(C){var j=_e(_e({},C),{},{isTooltipActive:!0});k.setState(j),k.triggerSyncEvent(j);var B=k.props.onMouseEnter;gt(B)&&B(j,V)}}),at(k,"triggeredAfterMouseMove",function(V){var C=k.getMouseInfo(V),j=C?_e(_e({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(j),k.triggerSyncEvent(j);var B=k.props.onMouseMove;gt(B)&&B(j,V)}),at(k,"handleItemMouseEnter",function(V){k.setState(function(){return{isTooltipActive:!0,activeItem:V,activePayload:V.tooltipPayload,activeCoordinate:V.tooltipPosition||{x:V.cx,y:V.cy}}})}),at(k,"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),at(k,"handleMouseMove",function(V){V.persist(),k.throttleTriggeredAfterMouseMove(V)}),at(k,"handleMouseLeave",function(V){k.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};k.setState(C),k.triggerSyncEvent(C);var j=k.props.onMouseLeave;gt(j)&&j(C,V)}),at(k,"handleOuterEvent",function(V){var C=xae(V),j=Ca(k.props,"".concat(C));if(C&&gt(j)){var B,H;/.*touch.*/i.test(C)?H=k.getMouseInfo(V.changedTouches[0]):H=k.getMouseInfo(V),j((B=H)!==null&&B!==void 0?B:{},V)}}),at(k,"handleClick",function(V){var C=k.getMouseInfo(V);if(C){var j=_e(_e({},C),{},{isTooltipActive:!0});k.setState(j),k.triggerSyncEvent(j);var B=k.props.onClick;gt(B)&&B(j,V)}}),at(k,"handleMouseDown",function(V){var C=k.props.onMouseDown;if(gt(C)){var j=k.getMouseInfo(V);C(j,V)}}),at(k,"handleMouseUp",function(V){var C=k.props.onMouseUp;if(gt(C)){var j=k.getMouseInfo(V);C(j,V)}}),at(k,"handleTouchMove",function(V){V.changedTouches!=null&&V.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(V.changedTouches[0])}),at(k,"handleTouchStart",function(V){V.changedTouches!=null&&V.changedTouches.length>0&&k.handleMouseDown(V.changedTouches[0])}),at(k,"handleTouchEnd",function(V){V.changedTouches!=null&&V.changedTouches.length>0&&k.handleMouseUp(V.changedTouches[0])}),at(k,"handleDoubleClick",function(V){var C=k.props.onDoubleClick;if(gt(C)){var j=k.getMouseInfo(V);C(j,V)}}),at(k,"handleContextMenu",function(V){var C=k.props.onContextMenu;if(gt(C)){var j=k.getMouseInfo(V);C(j,V)}}),at(k,"triggerSyncEvent",function(V){k.props.syncId!==void 0&&aP.emit(sP,k.props.syncId,V,k.eventEmitterSymbol)}),at(k,"applySyncEvent",function(V){var C=k.props,j=C.layout,B=C.syncMethod,H=k.state.updateId,z=V.dataStartIndex,G=V.dataEndIndex;if(V.dataStartIndex!==void 0||V.dataEndIndex!==void 0)k.setState(_e({dataStartIndex:z,dataEndIndex:G},b({props:k.props,dataStartIndex:z,dataEndIndex:G,updateId:H},k.state)));else if(V.activeTooltipIndex!==void 0){var q=V.chartX,ae=V.chartY,he=V.activeTooltipIndex,me=k.state,ye=me.offset,ee=me.tooltipTicks;if(!ye)return;if(typeof B=="function")he=B(ee,V);else if(B==="value"){he=-1;for(var ge=0;ge<ee.length;ge++)if(ee[ge].value===V.activeLabel){he=ge;break}}var ie=_e(_e({},ye),{},{x:ye.left,y:ye.top}),Y=Math.min(q,ie.x+ie.width),ne=Math.min(ae,ie.y+ie.height),xe=ee[he]&&ee[he].value,Me=g2(k.state,k.props.data,he),Oe=ee[he]?{x:j==="horizontal"?ee[he].coordinate:Y,y:j==="horizontal"?ne:ee[he].coordinate}:ZB;k.setState(_e(_e({},V),{},{activeLabel:xe,activeCoordinate:Oe,activePayload:Me,activeTooltipIndex:he}))}else k.setState(V)}),at(k,"renderCursor",function(V){var C,j=k.state,B=j.isTooltipActive,H=j.activeCoordinate,z=j.activePayload,G=j.offset,q=j.activeTooltipIndex,ae=j.tooltipAxisBandSize,he=k.getTooltipEventType(),me=(C=V.props.active)!==null&&C!==void 0?C:B,ye=k.props.layout,ee=V.key||"_recharts-cursor";return re.createElement(z0e,{key:ee,activeCoordinate:H,activePayload:z,activeTooltipIndex:q,chartName:n,element:V,isActive:me,layout:ye,offset:G,tooltipAxisBandSize:ae,tooltipEventType:he})}),at(k,"renderPolarAxis",function(V,C,j){var B=Ca(V,"type.axisType"),H=Ca(k.state,"".concat(B,"Map")),z=V.type.defaultProps,G=z!==void 0?_e(_e({},z),V.props):V.props,q=H&&H[G["".concat(B,"Id")]];return Z.cloneElement(V,_e(_e({},q),{},{className:Mt(B,q.className),key:V.key||"".concat(C,"-").concat(j),ticks:Lo(q,!0)}))}),at(k,"renderPolarGrid",function(V){var C=V.props,j=C.radialLines,B=C.polarAngles,H=C.polarRadius,z=k.state,G=z.radiusAxisMap,q=z.angleAxisMap,ae=el(G),he=el(q),me=he.cx,ye=he.cy,ee=he.innerRadius,ge=he.outerRadius;return Z.cloneElement(V,{polarAngles:Array.isArray(B)?B:Lo(he,!0).map(function(ie){return ie.coordinate}),polarRadius:Array.isArray(H)?H:Lo(ae,!0).map(function(ie){return ie.coordinate}),cx:me,cy:ye,innerRadius:ee,outerRadius:ge,key:V.key||"polar-grid",radialLines:j})}),at(k,"renderLegend",function(){var V=k.state.formattedGraphicalItems,C=k.props,j=C.children,B=C.width,H=C.height,z=k.props.margin||{},G=B-(z.left||0)-(z.right||0),q=qF({children:j,formattedGraphicalItems:V,legendWidth:G,legendContent:f});if(!q)return null;var ae=q.item,he=r8(q,U0e);return Z.cloneElement(ae,_e(_e({},he),{},{chartWidth:B,chartHeight:H,margin:z,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),at(k,"renderTooltip",function(){var V,C=k.props,j=C.children,B=C.accessibilityLayer,H=ji(j,Qa);if(!H)return null;var z=k.state,G=z.isTooltipActive,q=z.activeCoordinate,ae=z.activePayload,he=z.activeLabel,me=z.offset,ye=(V=H.props.active)!==null&&V!==void 0?V:G;return Z.cloneElement(H,{viewBox:_e(_e({},me),{},{x:me.left,y:me.top}),active:ye,label:he,payload:ye?ae:[],coordinate:q,accessibilityLayer:B})}),at(k,"renderBrush",function(V){var C=k.props,j=C.margin,B=C.data,H=k.state,z=H.offset,G=H.dataStartIndex,q=H.dataEndIndex,ae=H.updateId;return Z.cloneElement(V,{key:V.key||"_recharts-brush",onChange:Xy(k.handleBrushChange,V.props.onChange),data:B,x:De(V.props.x)?V.props.x:z.left,y:De(V.props.y)?V.props.y:z.top+z.height+z.brushBottom-(j.bottom||0),width:De(V.props.width)?V.props.width:z.width,startIndex:G,endIndex:q,updateId:"brush-".concat(ae)})}),at(k,"renderReferenceElement",function(V,C,j){if(!V)return null;var B=k,H=B.clipPathId,z=k.state,G=z.xAxisMap,q=z.yAxisMap,ae=z.offset,he=V.type.defaultProps||{},me=V.props,ye=me.xAxisId,ee=ye===void 0?he.xAxisId:ye,ge=me.yAxisId,ie=ge===void 0?he.yAxisId:ge;return Z.cloneElement(V,{key:V.key||"".concat(C,"-").concat(j),xAxis:G[ee],yAxis:q[ie],viewBox:{x:ae.left,y:ae.top,width:ae.width,height:ae.height},clipPathId:H})}),at(k,"renderActivePoints",function(V){var C=V.item,j=V.activePoint,B=V.basePoint,H=V.childIndex,z=V.isRange,G=[],q=C.props.key,ae=C.item.type.defaultProps!==void 0?_e(_e({},C.item.type.defaultProps),C.item.props):C.item.props,he=ae.activeDot,me=ae.dataKey,ye=_e(_e({index:H,dataKey:me,cx:j.x,cy:j.y,r:4,fill:zI(C.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},St(he,!1)),s_(he));return G.push(M.renderActiveDot(he,ye,"".concat(q,"-activePoint-").concat(H))),B?G.push(M.renderActiveDot(he,_e(_e({},ye),{},{cx:B.x,cy:B.y}),"".concat(q,"-basePoint-").concat(H))):z&&G.push(null),G}),at(k,"renderGraphicChild",function(V,C,j){var B=k.filterFormatItem(V,C,j);if(!B)return null;var H=k.getTooltipEventType(),z=k.state,G=z.isTooltipActive,q=z.tooltipAxis,ae=z.activeTooltipIndex,he=z.activeLabel,me=k.props.children,ye=ji(me,Qa),ee=B.props,ge=ee.points,ie=ee.isRange,Y=ee.baseLine,ne=B.item.type.defaultProps!==void 0?_e(_e({},B.item.type.defaultProps),B.item.props):B.item.props,xe=ne.activeDot,Me=ne.hide,Oe=ne.activeBar,Re=ne.activeShape,st=!!(!Me&&G&&ye&&(xe||Oe||Re)),Ye={};H!=="axis"&&ye&&ye.props.trigger==="click"?Ye={onClick:Xy(k.handleItemMouseEnter,V.props.onClick)}:H!=="axis"&&(Ye={onMouseLeave:Xy(k.handleItemMouseLeave,V.props.onMouseLeave),onMouseEnter:Xy(k.handleItemMouseEnter,V.props.onMouseEnter)});var Pe=Z.cloneElement(V,_e(_e({},B.props),Ye));function Ke(_r){return typeof q.dataKey=="function"?q.dataKey(_r.payload):null}if(st)if(ae>=0){var rt,be;if(q.dataKey&&!q.allowDuplicatedCategory){var xt=typeof q.dataKey=="function"?Ke:"payload.".concat(q.dataKey.toString());rt=a_(ge,xt,he),be=ie&&Y&&a_(Y,xt,he)}else rt=ge?.[ae],be=ie&&Y&&Y[ae];if(Re||Oe){var ft=V.props.activeIndex!==void 0?V.props.activeIndex:ae;return[Z.cloneElement(V,_e(_e(_e({},B.props),Ye),{},{activeIndex:ft})),null,null]}if(!_t(rt))return[Pe].concat(id(k.renderActivePoints({item:B,activePoint:rt,basePoint:be,childIndex:ae,isRange:ie})))}else{var Xt,zt=(Xt=k.getItemByXY(k.state.activeCoordinate))!==null&&Xt!==void 0?Xt:{graphicalItem:Pe},Jt=zt.graphicalItem,Un=Jt.item,Ut=Un===void 0?V:Un,qt=Jt.childIndex,gn=_e(_e(_e({},B.props),Ye),{},{activeIndex:qt});return[Z.cloneElement(Ut,gn),null,null]}return ie?[Pe,null,null]:[Pe,null]}),at(k,"renderCustomized",function(V,C,j){return Z.cloneElement(V,_e(_e({key:"recharts-customized-".concat(j)},k.props),k.state))}),at(k,"renderMap",{CartesianGrid:{handler:tv,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:tv},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:tv},YAxis:{handler:tv},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((D=O.id)!==null&&D!==void 0?D:xg("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=qV(k.triggeredAfterMouseMove,($=O.throttleDelay)!==null&&$!==void 0?$:1e3/60),k.state={},k}return t1e(M,x),Y0e(M,[{key:"componentDidMount",value:function(){var D,$;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(D=this.props.margin.left)!==null&&D!==void 0?D:0,top:($=this.props.margin.top)!==null&&$!==void 0?$:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var D=this.props,$=D.children,k=D.data,V=D.height,C=D.layout,j=ji($,Qa);if(j){var B=j.props.defaultIndex;if(!(typeof B!="number"||B<0||B>this.state.tooltipTicks.length-1)){var H=this.state.tooltipTicks[B]&&this.state.tooltipTicks[B].value,z=g2(this.state,k,B,H),G=this.state.tooltipTicks[B].coordinate,q=(this.state.offset.top+V)/2,ae=C==="horizontal",he=ae?{x:G,y:q}:{y:G,x:q},me=this.state.formattedGraphicalItems.find(function(ee){var ge=ee.item;return ge.type.name==="Scatter"});me&&(he=_e(_e({},he),me.props.points[B].tooltipPosition),z=me.props.points[B].tooltipPayload);var ye={activeTooltipIndex:B,isTooltipActive:!0,activeLabel:H,activePayload:z,activeCoordinate:he};this.setState(ye),this.renderCursor(j),this.accessibilityManager.setIndex(B)}}}},{key:"getSnapshotBeforeUpdate",value:function(D,$){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==$.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==D.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==D.margin){var k,V;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(V=this.props.margin.top)!==null&&V!==void 0?V:0}})}return null}},{key:"componentDidUpdate",value:function(D){tT([ji(D.children,Qa)],[ji(this.props.children,Qa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var D=ji(this.props.children,Qa);if(D&&typeof D.props.shared=="boolean"){var $=D.props.shared?"axis":"item";return o.indexOf($)>=0?$:a}return a}},{key:"getMouseInfo",value:function(D){if(!this.container)return null;var $=this.container,k=$.getBoundingClientRect(),V=lle(k),C={chartX:Math.round(D.pageX-V.left),chartY:Math.round(D.pageY-V.top)},j=k.width/$.offsetWidth||1,B=this.inRange(C.chartX,C.chartY,j);if(!B)return null;var H=this.state,z=H.xAxisMap,G=H.yAxisMap,q=this.getTooltipEventType(),ae=a8(this.state,this.props.data,this.props.layout,B);if(q!=="axis"&&z&&G){var he=el(z).scale,me=el(G).scale,ye=he&&he.invert?he.invert(C.chartX):null,ee=me&&me.invert?me.invert(C.chartY):null;return _e(_e({},C),{},{xValue:ye,yValue:ee},ae)}return ae?_e(_e({},C),ae):null}},{key:"inRange",value:function(D,$){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,V=this.props.layout,C=D/k,j=$/k;if(V==="horizontal"||V==="vertical"){var B=this.state.offset,H=C>=B.left&&C<=B.left+B.width&&j>=B.top&&j<=B.top+B.height;return H?{x:C,y:j}:null}var z=this.state,G=z.angleAxisMap,q=z.radiusAxisMap;if(G&&q){var ae=el(G);return xD({x:C,y:j},ae)}return null}},{key:"parseEventsOfWrapper",value:function(){var D=this.props.children,$=this.getTooltipEventType(),k=ji(D,Qa),V={};k&&$==="axis"&&(k.props.trigger==="click"?V={onClick:this.handleClick}:V={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=s_(this.props,this.handleOuterEvent);return _e(_e({},C),V)}},{key:"addListener",value:function(){aP.on(sP,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){aP.removeListener(sP,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(D,$,k){for(var V=this.state.formattedGraphicalItems,C=0,j=V.length;C<j;C++){var B=V[C];if(B.item===D||B.props.key===D.key||$===jo(B.item.type)&&k===B.childIndex)return B}return null}},{key:"renderClipPath",value:function(){var D=this.clipPathId,$=this.state.offset,k=$.left,V=$.top,C=$.height,j=$.width;return re.createElement("defs",null,re.createElement("clipPath",{id:D},re.createElement("rect",{x:k,y:V,height:C,width:j})))}},{key:"getXScales",value:function(){var D=this.state.xAxisMap;return D?Object.entries(D).reduce(function($,k){var V=n8(k,2),C=V[0],j=V[1];return _e(_e({},$),{},at({},C,j.scale))},{}):null}},{key:"getYScales",value:function(){var D=this.state.yAxisMap;return D?Object.entries(D).reduce(function($,k){var V=n8(k,2),C=V[0],j=V[1];return _e(_e({},$),{},at({},C,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(D){var $;return($=this.state.xAxisMap)===null||$===void 0||($=$[D])===null||$===void 0?void 0:$.scale}},{key:"getYScaleByAxisId",value:function(D){var $;return($=this.state.yAxisMap)===null||$===void 0||($=$[D])===null||$===void 0?void 0:$.scale}},{key:"getItemByXY",value:function(D){var $=this.state,k=$.formattedGraphicalItems,V=$.activeItem;if(k&&k.length)for(var C=0,j=k.length;C<j;C++){var B=k[C],H=B.props,z=B.item,G=z.type.defaultProps!==void 0?_e(_e({},z.type.defaultProps),z.props):z.props,q=jo(z.type);if(q==="Bar"){var ae=(H.data||[]).find(function(ee){return Cge(D,ee)});if(ae)return{graphicalItem:B,payload:ae}}else if(q==="RadialBar"){var he=(H.data||[]).find(function(ee){return xD(D,ee)});if(he)return{graphicalItem:B,payload:he}}else if(p1(B,V)||m1(B,V)||qm(B,V)){var me=wye({graphicalItem:B,activeTooltipItem:V,itemData:G.data}),ye=G.activeIndex===void 0?me:G.activeIndex;return{graphicalItem:_e(_e({},B),{},{childIndex:ye}),payload:qm(B,V)?G.data[me]:B.props.data[me]}}}return null}},{key:"render",value:function(){var D=this;if(!kk(this))return null;var $=this.props,k=$.children,V=$.className,C=$.width,j=$.height,B=$.style,H=$.compact,z=$.title,G=$.desc,q=r8($,q0e),ae=St(q,!1);if(H)return re.createElement(j6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},re.createElement(rT,lf({},ae,{width:C,height:j,title:z,desc:G}),this.renderClipPath(),Lk(k,this.renderMap)));if(this.props.accessibilityLayer){var he,me;ae.tabIndex=(he=this.props.tabIndex)!==null&&he!==void 0?he:0,ae.role=(me=this.props.role)!==null&&me!==void 0?me:"application",ae.onKeyDown=function(ee){D.accessibilityManager.keyboardEvent(ee)},ae.onFocus=function(){D.accessibilityManager.focus()}}var ye=this.parseEventsOfWrapper();return re.createElement(j6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},re.createElement("div",lf({className:Mt("recharts-wrapper",V),style:_e({position:"relative",cursor:"default",width:C,height:j},B)},ye,{ref:function(ge){D.container=ge}}),re.createElement(rT,lf({},ae,{width:C,height:j,title:z,desc:G,style:o1e}),this.renderClipPath(),Lk(k,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(Z.Component);at(E,"displayName",n),at(E,"defaultProps",_e({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),at(E,"getDerivedStateFromProps",function(x,M){var O=x.dataKey,D=x.data,$=x.children,k=x.width,V=x.height,C=x.layout,j=x.stackOffset,B=x.margin,H=M.dataStartIndex,z=M.dataEndIndex;if(M.updateId===void 0){var G=s8(x);return _e(_e(_e({},G),{},{updateId:0},b(_e(_e({props:x},G),{},{updateId:0}),M)),{},{prevDataKey:O,prevData:D,prevWidth:k,prevHeight:V,prevLayout:C,prevStackOffset:j,prevMargin:B,prevChildren:$})}if(O!==M.prevDataKey||D!==M.prevData||k!==M.prevWidth||V!==M.prevHeight||C!==M.prevLayout||j!==M.prevStackOffset||!vf(B,M.prevMargin)){var q=s8(x),ae={chartX:M.chartX,chartY:M.chartY,isTooltipActive:M.isTooltipActive},he=_e(_e({},a8(M,D,C)),{},{updateId:M.updateId+1}),me=_e(_e(_e({},q),ae),he);return _e(_e(_e({},me),b(_e({props:x},me),M)),{},{prevDataKey:O,prevData:D,prevWidth:k,prevHeight:V,prevLayout:C,prevStackOffset:j,prevMargin:B,prevChildren:$})}if(!tT($,M.prevChildren)){var ye,ee,ge,ie,Y=ji($,Hf),ne=Y&&(ye=(ee=Y.props)===null||ee===void 0?void 0:ee.startIndex)!==null&&ye!==void 0?ye:H,xe=Y&&(ge=(ie=Y.props)===null||ie===void 0?void 0:ie.endIndex)!==null&&ge!==void 0?ge:z,Me=ne!==H||xe!==z,Oe=!_t(D),Re=Oe&&!Me?M.updateId:M.updateId+1;return _e(_e({updateId:Re},b(_e(_e({props:x},M),{},{updateId:Re,dataStartIndex:ne,dataEndIndex:xe}),M)),{},{prevChildren:$,dataStartIndex:ne,dataEndIndex:xe})}return null}),at(E,"renderActiveDot",function(x,M,O){var D;return Z.isValidElement(x)?D=Z.cloneElement(x,M):gt(x)?D=x(M):D=re.createElement(qI,M),re.createElement(Rn,{className:"recharts-active-dot",key:O},D)});var S=Z.forwardRef(function(M,O){return re.createElement(E,lf({},M,{ref:O}))});return S.displayName=E.displayName,S},y1e=YB({chartName:"LineChart",GraphicalChild:ed,axisComponents:[{axisType:"xAxis",AxisComp:xd},{axisType:"yAxis",AxisComp:Ed}],formatAxisMap:gB}),v1e=YB({chartName:"BarChart",GraphicalChild:ah,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:xd},{axisType:"yAxis",AxisComp:Ed}],formatAxisMap:gB});const _1e=({logs:t,showDbh:e=!1})=>{const n=t.map(r=>({date:r.survey_date,height:r.height_m??null,dbh:r.growth_dbh?.dbh_cm??null}));return n.length===0?N.jsx("div",{className:"text-center py-8 text-gray-400 text-sm bg-gray-50 rounded-xl",children:""}):N.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm p-4",children:[N.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-4",children:""}),N.jsx(GV,{width:"100%",height:220,children:N.jsxs(y1e,{data:n,margin:{top:5,right:5,left:-20,bottom:5},children:[N.jsx(eM,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),N.jsx(xd,{dataKey:"date",tick:{fontSize:11}}),N.jsx(Ed,{tick:{fontSize:11}}),N.jsx(Qa,{formatter:(r,i)=>[`${r} ${i==="height"?".":"."}`,i==="height"?"":"DBH"]}),N.jsx(Oc,{formatter:r=>r==="height"?" (.)":"DBH (.)"}),N.jsx(ed,{type:"monotone",dataKey:"height",stroke:"#2d5a27",strokeWidth:2,dot:{r:3},connectNulls:!0}),e&&N.jsx(ed,{type:"monotone",dataKey:"dbh",stroke:"#4a7c42",strokeWidth:2,strokeDasharray:"4 2",dot:{r:3},connectNulls:!0})]})})]})},w1e=()=>{const{treeCode:t}=i0(),e=Na(),{tree:n,isLoading:r}=z7(t),{logs:i,isLoading:a}=pie(n?.id);if(r)return N.jsx(ni,{children:N.jsx("div",{className:"flex items-center justify-center py-20",children:N.jsx(ri,{size:28,className:"animate-spin text-[#2d5a27]"})})});if(!n)return N.jsx(ni,{children:N.jsx("div",{className:"p-4 text-center text-gray-500",children:""})});const s=n.species.plant_category==="forest"||n.species.plant_category==="rubber"||n.species.plant_category==="fruit";return N.jsx(ni,{children:N.jsxs("div",{className:"p-4 lg:p-6 max-w-2xl mx-auto",children:[N.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700 mb-4",children:[N.jsx(F0,{size:16}),N.jsx("span",{children:""})]}),N.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-5 mb-4",children:N.jsxs("div",{className:"flex items-start gap-4",children:[N.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center text-white font-bold shrink-0",style:{backgroundColor:`#${n.species.hex_color}`},children:n.species.species_code}),N.jsxs("div",{children:[N.jsx("h1",{className:"text-lg font-bold text-gray-900 font-mono",children:n.tree_code}),N.jsx("p",{className:"text-gray-700 font-medium",children:n.species.name_th}),n.species.name_sci&&N.jsx("p",{className:"text-gray-400 text-sm italic",children:n.species.name_sci}),N.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" ",n.plot.name_short,"   ",n.row_main,n.row_sub?`-${n.row_sub}`:"",n.tag_label?`   ${n.tag_label}`:""]})]})]})}),!a&&i.length>0&&N.jsx("div",{className:"mb-4",children:N.jsx(_1e,{logs:i,showDbh:s})}),N.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[N.jsx("div",{className:"px-5 py-4 border-b border-gray-50",children:N.jsx("h3",{className:"font-semibold text-gray-800",children:""})}),N.jsx("div",{className:"overflow-x-auto",children:N.jsxs("table",{className:"min-w-full text-sm",children:[N.jsx("thead",{className:"bg-gray-50",children:N.jsx("tr",{children:(s?[""," (.)","DBH (.)","",""]:[""," (.)","",""]).map(o=>N.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-semibold text-gray-500 uppercase",children:o},o))})}),N.jsx("tbody",{className:"divide-y divide-gray-50",children:a?N.jsx("tr",{children:N.jsx("td",{colSpan:5,className:"px-4 py-6 text-center",children:N.jsx(ri,{size:18,className:"animate-spin text-[#2d5a27] mx-auto"})})}):i.length===0?N.jsx("tr",{children:N.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-gray-400 text-sm",children:""})}):[...i].reverse().map(o=>N.jsxs("tr",{className:"hover:bg-gray-50",children:[N.jsx("td",{className:"px-4 py-2.5 text-gray-600",children:o.survey_date}),N.jsx("td",{className:"px-4 py-2.5",children:o.height_m??""}),s&&N.jsx("td",{className:"px-4 py-2.5",children:o.growth_dbh?.dbh_cm??""}),N.jsx("td",{className:"px-4 py-2.5",children:N.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${o.status==="alive"?"bg-green-100 text-green-700":o.status==="dead"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:o.status==="alive"?"":o.status==="dead"?"":o.status??""})}),N.jsx("td",{className:"px-4 py-2.5 text-gray-500 text-xs",children:o.note??""})]},o.id))})]})})]})]})})},b1e=()=>{const{treeCode:t}=i0(),{tree:e,isLoading:n}=z7(t);return n?N.jsx(ni,{children:N.jsx("div",{className:"flex items-center justify-center py-20",children:N.jsx(ri,{size:28,className:"animate-spin text-[#2d5a27]"})})}):e?N.jsx(ni,{children:N.jsx("div",{className:"p-4 lg:p-6",children:N.jsx(bie,{tree:e})})}):N.jsx(ni,{children:N.jsx("div",{className:"p-4 text-center text-gray-500",children:""})})},x1e=()=>{const t=Na(),{plots:e,isLoading:n}=$0(),[r,i]=Z.useState(""),a=e.filter(s=>s.owner_name.includes(r)||s.plot_code.toLowerCase().includes(r.toLowerCase()));return n?N.jsx("div",{className:"flex items-center justify-center py-16",children:N.jsx(ri,{size:28,className:"animate-spin text-[#2d5a27]"})}):N.jsxs("div",{children:[N.jsx("input",{type:"text",value:r,onChange:s=>i(s.target.value),placeholder:"...",className:"w-full mb-4 border border-gray-200 rounded-lg px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-green-500"}),N.jsx("div",{className:"space-y-2",children:a.map(s=>N.jsxs("button",{onClick:()=>t(`/survey/${s.plot_code}`),className:"w-full bg-white rounded-xl border border-gray-100 px-4 py-4 flex items-center gap-4 hover:shadow-md hover:border-green-200 transition-all active:scale-95 text-left",children:[N.jsx("div",{className:"w-12 h-12 bg-[#2d5a27]/10 rounded-xl flex items-center justify-center shrink-0",children:N.jsx(nl,{size:22,className:"text-[#2d5a27]"})}),N.jsxs("div",{className:"flex-1 min-w-0",children:[N.jsxs("p",{className:"font-semibold text-gray-900",children:[s.name_short,"  ",s.owner_name]}),N.jsxs("p",{className:"text-xs text-gray-500",children:[s.tree_count,"    ",s.group_number]})]}),N.jsx(yQ,{size:18,className:"text-gray-400 shrink-0"})]},s.id))})]})},E1e=({plotCode:t,plotId:e})=>{const n=Na(),{trees:r,isLoading:i}=$7(e),{logs:a}=U7(e),[s,o]=Z.useState(""),c=new Date().toLocaleDateString("sv"),f=new Set(a.filter(y=>y.survey_date===c).map(y=>y.tree_id)),m=r.filter(y=>!s||y.tree_code.toLowerCase().includes(s.toLowerCase())||y.species.name_th.includes(s));if(i)return N.jsx("div",{className:"flex items-center justify-center py-12",children:N.jsx(ri,{size:24,className:"animate-spin text-[#2d5a27]"})});const p=r.filter(y=>f.has(y.id)).length;return N.jsxs("div",{children:[N.jsx("div",{className:"mb-3 flex items-center justify-between text-sm text-gray-500",children:N.jsxs("span",{children:[": ",N.jsx("strong",{className:"text-[#2d5a27]",children:p})," / ",r.length," "]})}),N.jsxs("div",{className:"relative mb-4",children:[N.jsx(NA,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),N.jsx("input",{type:"text",value:s,onChange:y=>o(y.target.value),placeholder:"...",className:"w-full pl-8 pr-4 py-3 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]}),N.jsx("div",{className:"space-y-2",children:m.map(y=>{const b=f.has(y.id);return N.jsxs("button",{onClick:()=>n(`/trees/${y.tree_code}/add-log`),className:`w-full bg-white rounded-xl border px-4 py-4 flex items-center gap-4 text-left transition-all active:scale-95 ${b?"border-green-200 bg-green-50 opacity-75":"border-gray-100 hover:shadow-md hover:border-green-200"}`,children:[N.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-white text-xs font-bold shrink-0",style:{backgroundColor:`#${y.species.hex_color}`},children:y.species.species_code}),N.jsxs("div",{className:"flex-1 min-w-0",children:[N.jsx("p",{className:"font-semibold text-gray-900 font-mono",children:y.tree_code}),N.jsx("p",{className:"text-xs text-gray-500",children:y.species.name_th})]}),b?N.jsx(B0,{size:20,className:"text-green-500 shrink-0"}):N.jsx(vQ,{size:20,className:"text-gray-300 shrink-0"})]},y.id)})})]})},S1e=()=>N.jsx(ni,{children:N.jsxs("div",{className:"p-4 lg:p-6",children:[N.jsxs("div",{className:"mb-5",children:[N.jsx("h1",{className:"text-xl font-bold text-gray-900",children:" "}),N.jsx("p",{className:"text-sm text-gray-500 mt-1",children:""})]}),N.jsx(x1e,{})]})}),P1e=()=>{const{plotCode:t}=i0(),e=Na(),[n,r]=Z.useState(null);return Z.useEffect(()=>{if(!t)return;(async()=>{const a=yr(hn,"plots"),s=_i(a,Go("plot_code","==",t)),o=await Qr(s);if(!o.empty){const c=o.docs[0];r({id:c.id,...c.data()})}})()},[t]),N.jsx(ni,{children:N.jsxs("div",{className:"p-4 lg:p-6",children:[N.jsxs("button",{onClick:()=>e("/survey"),className:"flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700 mb-4",children:[N.jsx(F0,{size:16}),N.jsx("span",{children:""})]}),N.jsxs("div",{className:"mb-5",children:[N.jsxs("h1",{className:"text-xl font-bold text-gray-900",children:[" ",n?.name_short??t]}),N.jsx("p",{className:"text-sm text-gray-500",children:n?.owner_name})]}),n&&N.jsx(E1e,{plotCode:t,plotId:n.id})]})})},T1e=()=>{const{plots:t,isLoading:e}=$0(),n=t.map(r=>({name:r.name_short,rate:r.tree_count>0?Math.round(r.alive_count/r.tree_count*100):0}));return e||n.length===0?null:N.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm p-4",children:[N.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-4",children:" (%) "}),N.jsx(GV,{width:"100%",height:200,children:N.jsxs(v1e,{data:n,margin:{top:5,right:5,left:-20,bottom:5},children:[N.jsx(eM,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),N.jsx(xd,{dataKey:"name",tick:{fontSize:11}}),N.jsx(Ed,{domain:[0,100],tick:{fontSize:11},unit:"%"}),N.jsx(Qa,{formatter:r=>[`${r}%`,""]}),N.jsx(ah,{dataKey:"rate",radius:[4,4,0,0],children:n.map((r,i)=>N.jsx(yI,{fill:r.rate>=90?"#2d5a27":r.rate>=75?"#ca8a04":"#dc2626"},i))})]})})]})},A1e=()=>{const{plots:t,isLoading:e}=$0(),n=t.reduce((s,o)=>s+o.tree_count,0),r=t.reduce((s,o)=>s+o.alive_count,0),i=n>0?Math.round(r/n*100):null,a=[{label:"",value:n.toLocaleString(),icon:N.jsx(nl,{size:20,className:"text-[#2d5a27]"}),bg:"bg-green-50"},{label:"",value:i!==null?`${i}%`:"",icon:N.jsx(B0,{size:20,className:"text-emerald-600"}),bg:"bg-emerald-50"},{label:"",value:t.length.toString(),icon:N.jsx(qP,{size:20,className:"text-blue-600"}),bg:"bg-blue-50"}];return N.jsxs("div",{className:"space-y-6",children:[N.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:a.map(({label:s,value:o,icon:c,bg:f})=>N.jsxs("div",{className:`rounded-xl p-4 ${f} border border-white shadow-sm`,children:[N.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c,N.jsx("span",{className:"text-sm text-gray-600",children:s})]}),N.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e?"...":o})]},s))}),N.jsx(T1e,{})]})},I1e=()=>N.jsx(ni,{children:N.jsxs("div",{className:"p-4 lg:p-6",children:[N.jsxs("div",{className:"mb-6",children:[N.jsx("h1",{className:"text-xl font-bold text-gray-900",children:" "}),N.jsx("p",{className:"text-sm text-gray-500 mt-1",children:""})]}),N.jsx(A1e,{})]})}),M1e=["pending","staff","researcher","executive","external","admin"],C1e={pending:"",staff:"",researcher:"",executive:"",external:"",admin:""},O1e=()=>{const[t,e]=Z.useState([]),[n,r]=Z.useState(!0),[i,a]=Z.useState(null),s=async()=>{r(!0);try{const c=yr(hn,"profiles"),f=_i(c,Wo("created_at","desc")),p=(await Qr(f)).docs.map(y=>({id:y.id,...y.data()}));e(p)}catch(c){console.error("[UserManagement] Error fetching users:",c),e([])}finally{r(!1)}};Z.useEffect(()=>{s()},[]);const o=async(c,f)=>{a(c);try{const m=wc(hn,"profiles",c);await l9(m,f),await s()}catch(m){console.error("[UserManagement] Error updating user:",m)}finally{a(null)}};return n?N.jsx("div",{className:"flex items-center justify-center py-12",children:N.jsx(ri,{size:24,className:"animate-spin text-[#2d5a27]"})}):N.jsx("div",{children:N.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-100 bg-white shadow-sm",children:N.jsxs("table",{className:"min-w-full text-sm",children:[N.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:N.jsx("tr",{children:["","","","","",""].map(c=>N.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wide",children:c},c))})}),N.jsx("tbody",{className:"divide-y divide-gray-50",children:t.map(c=>N.jsxs("tr",{className:"hover:bg-gray-50",children:[N.jsx("td",{className:"px-4 py-3 font-medium text-gray-900",children:c.fullname}),N.jsx("td",{className:"px-4 py-3 text-gray-500 text-xs",children:c.email}),N.jsx("td",{className:"px-4 py-3 text-gray-500 text-xs",children:c.position??""}),N.jsx("td",{className:"px-4 py-3",children:N.jsx("select",{value:c.role,disabled:i===c.id,onChange:f=>{const m=f.target.value,p={role:m};p.approved=m!=="pending",o(c.id,p)},className:"border border-gray-200 rounded-lg px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-green-500",children:M1e.map(f=>N.jsx("option",{value:f,children:C1e[f]},f))})}),N.jsx("td",{className:"px-4 py-3",children:N.jsx("button",{onClick:()=>o(c.id,{approved:!c.approved}),disabled:i===c.id,className:`flex items-center gap-1 text-xs font-medium px-2 py-1 rounded-full ${c.approved?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:i===c.id?N.jsx(ri,{size:12,className:"animate-spin"}):c.approved?N.jsxs(N.Fragment,{children:[N.jsx(gQ,{size:12})," "]}):N.jsxs(N.Fragment,{children:[N.jsx(AQ,{size:12})," "]})})}),N.jsx("td",{className:"px-4 py-3 text-xs text-gray-400",children:new Date(c.created_at).toLocaleDateString("th-TH")})]},c.id))})]})})})},R1e=()=>{const[t,e]=Z.useState(!1),n=async()=>{e(!0);try{const r=yr(hn,"growth_logs"),i=_i(r,Wo("survey_date","desc")),s=(await Qr(i)).docs.map(y=>{const b=y.data();return{plot_code:b.plot_code??"",tree_code:b.tree_code??"",survey_date:b.survey_date??"",height_m:b.height_m??"",dbh_cm:b.dbh_data?.dbh_cm??"",status:b.status??"",flowering:b.flowering?"yes":"no",note:b.note??""}});if(s.length===0){alert("");return}const o=Object.keys(s[0]??{}),c=[o.join(","),...s.map(y=>o.map(b=>JSON.stringify(y[b]??"")).join(","))].join(`
`),f=new Blob(["\uFEFF"+c],{type:"text/csv;charset=utf-8;"}),m=URL.createObjectURL(f),p=document.createElement("a");p.href=m,p.download=`growth_logs_${new Date().toLocaleDateString("sv")}.csv`,p.click(),URL.revokeObjectURL(m)}catch(r){console.error("[DataExport] Error:",r),alert("")}finally{e(!1)}};return N.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm p-5",children:[N.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:""}),N.jsx("p",{className:"text-sm text-gray-500 mb-4",children:" CSV"}),N.jsxs("button",{onClick:n,disabled:t,className:"flex items-center gap-2 px-4 py-2 bg-[#2d5a27] text-white text-sm font-medium rounded-lg hover:bg-[#234820] transition-colors disabled:opacity-60",children:[t?N.jsx(ri,{size:15,className:"animate-spin"}):N.jsx(u7,{size:15}),t?"...":" CSV"]})]})},k1e=()=>{const[t,e]=Z.useState("users"),n=[{id:"users",label:"",icon:N.jsx(PQ,{size:16})},{id:"export",label:"",icon:N.jsx(u7,{size:16})}];return N.jsx(ni,{children:N.jsxs("div",{className:"p-4 lg:p-6",children:[N.jsxs("div",{className:"mb-5 flex items-center gap-3",children:[N.jsx(xQ,{size:20,className:"text-[#2d5a27]"}),N.jsx("h1",{className:"text-xl font-bold text-gray-900",children:""})]}),N.jsx("div",{className:"flex gap-2 mb-5 border-b border-gray-200",children:n.map(({id:r,label:i,icon:a})=>N.jsxs("button",{onClick:()=>e(r),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium border-b-2 transition-colors ${t===r?"border-[#2d5a27] text-[#2d5a27]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[a,i]},r))}),t==="users"&&N.jsx(O1e,{}),t==="export"&&N.jsx(R1e,{})]})})},N1e=()=>{const[t,e]=Z.useState(""),[n,r]=Z.useState(""),[i,a]=Z.useState(""),[s,o]=Z.useState(!1),[c,f]=Z.useState(!1),m=async p=>{p.preventDefault(),o(!0),o(!1),f(!0),setTimeout(()=>f(!1),3e3)};return N.jsx(ni,{children:N.jsxs("div",{className:"p-4 lg:p-6 max-w-lg mx-auto",children:[N.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-5",children:""}),N.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-5",children:N.jsxs("form",{onSubmit:m,className:"space-y-4",children:[[{label:"-",value:t,setter:e},{label:"",value:n,setter:r},{label:"",value:i,setter:a}].map(({label:p,value:y,setter:b})=>N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:p}),N.jsx("input",{type:"text",value:y,onChange:E=>b(E.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]},p)),N.jsxs("button",{type:"submit",disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-[#2d5a27] text-white text-sm font-medium rounded-lg hover:bg-[#234820] transition-colors disabled:opacity-60",children:[s?N.jsx(ri,{size:15,className:"animate-spin"}):N.jsx(l7,{size:15}),c?" ":s?"...":""]})]})})]})})},L1e=()=>N.jsxs(Fz,{children:[N.jsx(ba,{path:"/plots",element:N.jsx(RQ,{})}),N.jsx(ba,{path:"/plots/:plotCode",element:N.jsx(mie,{})}),N.jsx(ba,{path:"/trees/:treeCode",element:N.jsx(w1e,{})}),N.jsx(ba,{path:"/trees/:treeCode/add-log",element:N.jsx(b1e,{})}),N.jsx(ba,{path:"/survey",element:N.jsx(S1e,{})}),N.jsx(ba,{path:"/survey/:plotCode",element:N.jsx(P1e,{})}),N.jsx(ba,{path:"/dashboard",element:N.jsx(I1e,{})}),N.jsx(ba,{path:"/admin",element:N.jsx(k1e,{})}),N.jsx(ba,{path:"/profile",element:N.jsx(N1e,{})}),N.jsx(ba,{path:"/",element:N.jsx(HC,{to:"/plots",replace:!0})}),N.jsx(ba,{path:"*",element:N.jsx(HC,{to:"/plots",replace:!0})})]}),D1e=()=>N.jsx(lU,{basename:"/",children:N.jsx(hQ,{children:N.jsx(fQ,{children:N.jsx(L1e,{})})})}),QB=document.getElementById("root");if(!QB)throw new Error("Could not find root element");z$.createRoot(QB).render(N.jsx(re.StrictMode,{children:N.jsx(D1e,{})}));
